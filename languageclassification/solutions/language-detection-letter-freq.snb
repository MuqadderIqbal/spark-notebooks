{
  "metadata" : {
    "name" : "language-detection-letter-freq",
    "user_save_timestamp" : "1970-01-01T01:00:00.000Z",
    "auto_save_timestamp" : "1970-01-01T01:00:00.000Z",
    "language_info" : {
      "name" : "scala",
      "file_extension" : "scala",
      "codemirror_mode" : "text/x-scala"
    },
    "trusted" : true,
    "customLocalRepo" : null,
    "customRepos" : null,
    "customDeps" : null,
    "customImports" : null,
    "customArgs" : null,
    "customSparkConf" : null
  },
  "cells" : [ {
    "metadata" : {
      "id" : "6D985D5B5E8740F384AA83EDE40A95D2"
    },
    "cell_type" : "markdown",
    "source" : "#Language Classification\n###A naive approach to language classification.\nThis notebook explores the language classification problem by looking at the frequency distribution of the characters used in sample text.\nUsing the letter frequency we build simple models that will allow us to classify the language of new sentences.\n\nFor our exploration, we will use a dataset comprised of treaties and other official documents of the European Commission. Those are available in each language spoken in the European Union and hence ideal to have a datasets of equivalent quality for each language."
  }, {
    "metadata" : {
      "id" : "5A3E909A40B049FE9CB7DCB3383384CE"
    },
    "cell_type" : "markdown",
    "source" : "## First, we will load some sample data and explore the character distribution in order to build up some intuition."
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "BFF3A95A5486431F944D5D66AD38CD76"
    },
    "cell_type" : "code",
    "source" : "val notebooksFolder = sys.env(\"NOTEBOOKS_DIR\")\nval baseFolder = s\"$notebooksFolder/languageclassification/data\"",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "notebooksFolder: String = /home/maasg/playground/sparkfun/spark-notebooks\nbaseFolder: String = /home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 1,
      "time" : "Took: 1 second 5 milliseconds, at 2017-3-8 19:48"
    } ]
  }, {
    "metadata" : {
      "id" : "C9DB899751B54B4886E418E70D116C0F"
    },
    "cell_type" : "markdown",
    "source" : "### We load the english dataset to explore the data"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "2A1476EDDD3344B98FEFF9988DB6786C"
    },
    "cell_type" : "code",
    "source" : "val en = sparkSession.sparkContext.textFile(baseFolder + \"/en\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "en: org.apache.spark.rdd.RDD[String] = /home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/en MapPartitionsRDD[3] at textFile at <console>:70\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 3,
      "time" : "Took: 846 milliseconds, at 2017-3-8 19:51"
    } ]
  }, {
    "metadata" : {
      "id" : "2FE75BFDD8AC4136827BDCDFFA4AC5E0"
    },
    "cell_type" : "markdown",
    "source" : "### And we clean up the text from characters other than letters"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "41A6E9AA80E24EA2868949ECC6878BFD"
    },
    "cell_type" : "code",
    "source" : "val cleanedLetters = en.flatMap(str => str).filter(java.lang.Character.isAlphabetic(_)).map(java.lang.Character.toLowerCase(_))",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "cleanedLetters: org.apache.spark.rdd.RDD[Char] = MapPartitionsRDD[6] at map at <console>:72\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 4,
      "time" : "Took: 935 milliseconds, at 2017-3-8 19:53"
    } ]
  }, {
    "metadata" : {
      "id" : "DD074C27F4C24EE88BF7D0849B0AB947"
    },
    "cell_type" : "markdown",
    "source" : "#### We can use cells to interactively test our filter method to be sure we are getting the results that we expect\nThe API parity between Scala and Spark lets us easily tests on local collections. Like a string in this case."
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "CEBFFF79769A4E77A11BF8DB068454E4"
    },
    "cell_type" : "code",
    "source" : "val sample = \"Erwägung protección jurídica ci-après à l’aide Gemäß 987...\"\nsample.filter(java.lang.Character.isAlphabetic(_)).map(java.lang.Character.toLowerCase(_))\n",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "sample: String = Erwägung protección jurídica ci-après à l’aide Gemäß 987...\nres5: String = erwägungprotecciónjurídicaciaprèsàlaidegemäß\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "erwägungprotecciónjurídicaciaprèsàlaidegemäß"
      },
      "output_type" : "execute_result",
      "execution_count" : 5,
      "time" : "Took: 971 milliseconds, at 2017-3-8 19:54"
    } ]
  }, {
    "metadata" : {
      "id" : "36CCEBEC50724BC79349061B101C76D2"
    },
    "cell_type" : "markdown",
    "source" : "### We count the total of characters in our dataset\nWe will need this later to obtain relative frequency values"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "DD4F41176D2B4EEFAE850DB5AF815579"
    },
    "cell_type" : "code",
    "source" : "val total = cleanedLetters.count()",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "total: Long = 1670805\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 6,
      "time" : "Took: 1 second 184 milliseconds, at 2017-3-8 19:54"
    } ]
  }, {
    "metadata" : {
      "id" : "68E13860F02440D29757330CC1EF7AD2"
    },
    "cell_type" : "markdown",
    "source" : "### ...and the frequency of each alphabetic character in the dataset\nNote that the frequency is relative to the total count - this will enable us to compare different languages later on"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "6F6D9275B5E54FFAB770F4418BDF2554"
    },
    "cell_type" : "code",
    "source" : "val freq = cleanedLetters.keyBy(char => char.toString.toLowerCase).countByKey.map{case (k,v) => (k.toString, v.toDouble/total)}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "freq: scala.collection.Map[String,Double] = Map(e -> 0.12519294591529234, л -> 2.3940555600444098E-6, ς -> 5.386625010099922E-6, έ -> 1.1970277800222049E-6, s -> 0.05571326396557348, б -> 1.1970277800222049E-6, x -> 0.0023743046016740433, č -> 4.189597230077717E-6, α -> 6.583652790122127E-6, ā -> 2.9925694500555123E-6, n -> 0.07904632796765632, ε -> 6.583652790122127E-6, п -> 2.3940555600444098E-6, ω -> 1.1970277800222049E-6, ä -> 4.189597230077717E-6, ļ -> 5.985138900111024E-7, j -> 0.002664583838329428, y -> 0.011944541702951571, š -> 2.3940555600444098E-6, φ -> 1.1970277800222049E-6, μ -> 1.7955416700333072E-6, а -> 6.583652790122127E-6, t -> 0.10015710989612792, ó -> 2.9925694500555123E-6, в -> 5.985138900111024E-7, é -> 2.1546500040399688E-5, u -> 0.02913805022130051, ή -> 5.985138..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 7,
      "time" : "Took: 1 second 649 milliseconds, at 2017-3-8 19:55"
    } ]
  }, {
    "metadata" : {
      "id" : "48C9B6C691AC4DCE8DB57DC606463CAB"
    },
    "cell_type" : "markdown",
    "source" : "#### We are interested in the frequency of each letter, alphabetically ordered"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "E31D0FA9B28249F08FA7C96F64EB2429"
    },
    "cell_type" : "code",
    "source" : "val freqOrdered = freq.toList.sortBy{case (k,v)=> k}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "freqOrdered: List[(String, Double)] = List((a,0.07892123856464399), (b,0.013841232220396755), (c,0.04509203647343646), (d,0.030138166931509062), (e,0.12519294591529234), (f,0.026006625548762423), (g,0.014792270791624396), (h,0.044525243819595946), (i,0.08238364141835822), (j,0.002664583838329428), (k,0.002872866672053292), (l,0.040070504936243305), (m,0.024439716184713356), (n,0.07904632796765632), (o,0.08121653933283657), (p,0.025622379631375296), (q,0.0011192209743207616), (r,0.06635484092997088), (s,0.05571326396557348), (t,0.10015710989612792), (u,0.02913805022130051), (v,0.00852882293265821), (w,0.0074197766944676365), (x,0.0023743046016740433), (y,0.011944541702951571), (z,2.1187391706393026E-4), (à,4.189597230077717E-6), (á,1.0174736130188742E-5), (ã,2.3940555600444098E-6), (ä,4...."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 8,
      "time" : "Took: 690 milliseconds, at 2017-3-8 19:56"
    } ]
  }, {
    "metadata" : {
      "id" : "6E4B1184392945DAA606D18EF97AC806"
    },
    "cell_type" : "markdown",
    "source" : "### We can now visualize the how the frequency distribution looks like"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab776744271-1\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "C46268BE6A0D4E1F866D14F4EB18A980"
    },
    "cell_type" : "code",
    "source" : "freqOrdered",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res10: List[(String, Double)] = List((a,0.07892123856464399), (b,0.013841232220396755), (c,0.04509203647343646), (d,0.030138166931509062), (e,0.12519294591529234), (f,0.026006625548762423), (g,0.014792270791624396), (h,0.044525243819595946), (i,0.08238364141835822), (j,0.002664583838329428), (k,0.002872866672053292), (l,0.040070504936243305), (m,0.024439716184713356), (n,0.07904632796765632), (o,0.08121653933283657), (p,0.025622379631375296), (q,0.0011192209743207616), (r,0.06635484092997088), (s,0.05571326396557348), (t,0.10015710989612792), (u,0.02913805022130051), (v,0.00852882293265821), (w,0.0074197766944676365), (x,0.0023743046016740433), (y,0.011944541702951571), (z,2.1187391706393026E-4), (à,4.189597230077717E-6), (á,1.0174736130188742E-5), (ã,2.3940555600444098E-6), (ä,4.189597..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon406d6b8ce21c42c1e3d602e27d9df259&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;776744271&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul776744271\"><li>\n              <a href=\"#tab776744271-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab776744271-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab776744271-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab776744271-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab776744271\"><div class=\"tab-pane\" id=\"tab776744271-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon0af2d28644638e812e13809f4f100167&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;å&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ç&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;é&quot;,&quot;_2&quot;:0.000021546500040399688},{&quot;_1&quot;:&quot;ì&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;í&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ñ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ó&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ö&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ú&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;ü&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;ā&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ă&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;č&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ē&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ė&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ģ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ļ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ł&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ş&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;š&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ţ&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ū&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ů&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ų&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ά&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;έ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ή&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ί&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;α&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;β&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;γ&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ε&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;η&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;θ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ι&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;κ&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;λ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;μ&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ν&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ξ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ο&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;π&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ρ&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;ς&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;σ&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;τ&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;υ&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;φ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ω&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;а&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;б&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;в&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;г&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;е&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;з&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;и&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;к&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;л&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;н&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;о&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;п&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;р&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;с&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;т&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;х&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ц&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ъ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;я&quot;,&quot;_2&quot;:0.0000011970277800222049}],&quot;genId&quot;:&quot;905088334&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonf343f3efb0be4be0088355b35beb4768&quot;,&quot;initialValue&quot;:&quot;98&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon71bc99790393c1b9560e465963073455&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab776744271-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon9290ea2054c7e8400d713e90f2f1b100&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;å&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ç&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;é&quot;,&quot;_2&quot;:0.000021546500040399688},{&quot;_1&quot;:&quot;ì&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;í&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ñ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ó&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ö&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ú&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;ü&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;ā&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ă&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;č&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ē&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ė&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ģ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ļ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ł&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ş&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;š&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ţ&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ū&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ů&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ų&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ά&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;έ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ή&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ί&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;α&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;β&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;γ&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ε&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;η&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;θ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ι&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;κ&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;λ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;μ&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ν&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ξ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ο&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;π&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ρ&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;ς&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;σ&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;τ&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;υ&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;φ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ω&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;а&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;б&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;в&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;г&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;е&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;з&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;и&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;к&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;л&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;н&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;о&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;п&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;р&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;с&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;т&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;х&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ц&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ъ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;я&quot;,&quot;_2&quot;:0.0000011970277800222049}],&quot;genId&quot;:&quot;1787691446&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon58eb21a68fa286af901fec5cc51aebd1&quot;,&quot;initialValue&quot;:&quot;98&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon0d21ec28e8901cdad022fc45313b4902&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab776744271-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon865eae1c9e458c80840ff1f1f55ec278&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;å&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ç&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;é&quot;,&quot;_2&quot;:0.000021546500040399688},{&quot;_1&quot;:&quot;ì&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;í&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ñ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ó&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ö&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ú&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;ü&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;ā&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ă&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;č&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ē&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ė&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ģ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ļ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ł&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ş&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;š&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ţ&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ū&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ů&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ų&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ά&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;έ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ή&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ί&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;α&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;β&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;γ&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ε&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;η&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;θ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ι&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;κ&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;λ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;μ&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ν&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ξ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ο&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;π&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ρ&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;ς&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;σ&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;τ&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;υ&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;φ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ω&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;а&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;б&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;в&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;г&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;е&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;з&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;и&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;к&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;л&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;н&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;о&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;п&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;р&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;с&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;т&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;х&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ц&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ъ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;я&quot;,&quot;_2&quot;:0.0000011970277800222049}],&quot;genId&quot;:&quot;1631835490&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon58b783fcbc1eeb18fe58a3a972c9069b&quot;,&quot;initialValue&quot;:&quot;98&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon1a398ee0d51bd9f7606306d8619239ca&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab776744271-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon69d441a42e7fa7610f01362bf765f66f&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;å&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ç&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;é&quot;,&quot;_2&quot;:0.000021546500040399688},{&quot;_1&quot;:&quot;ì&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;í&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ñ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ó&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ö&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ú&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;ü&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;ā&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;ă&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;č&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ē&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ė&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ģ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ļ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ł&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ş&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;š&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ţ&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ū&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ů&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ų&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ά&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;έ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ή&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ί&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;α&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;β&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;γ&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;ε&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;η&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;θ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ι&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;κ&quot;,&quot;_2&quot;:0.0000047881111200888195},{&quot;_1&quot;:&quot;λ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;μ&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;ν&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ξ&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ο&quot;,&quot;_2&quot;:0.000005985138900111025},{&quot;_1&quot;:&quot;π&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;ρ&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;ς&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;σ&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;τ&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;υ&quot;,&quot;_2&quot;:0.000005386625010099922},{&quot;_1&quot;:&quot;φ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ω&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;а&quot;,&quot;_2&quot;:0.000006583652790122127},{&quot;_1&quot;:&quot;б&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;в&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;г&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;е&quot;,&quot;_2&quot;:0.0000035910833400666144},{&quot;_1&quot;:&quot;з&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;и&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;к&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;л&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;н&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;о&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;п&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;р&quot;,&quot;_2&quot;:0.0000017955416700333072},{&quot;_1&quot;:&quot;с&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;т&quot;,&quot;_2&quot;:0.0000029925694500555123},{&quot;_1&quot;:&quot;х&quot;,&quot;_2&quot;:5.985138900111024E-7},{&quot;_1&quot;:&quot;ц&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;ъ&quot;,&quot;_2&quot;:0.0000011970277800222049},{&quot;_1&quot;:&quot;я&quot;,&quot;_2&quot;:0.0000011970277800222049}],&quot;genId&quot;:&quot;106630826&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon57bc2810311a6543d4b6505e2e02bc7f&quot;,&quot;initialValue&quot;:&quot;98&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonfd2bc4764f867895dcd047fe54be95a1&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 9,
      "time" : "Took: 978 milliseconds, at 2017-3-8 19:56"
    } ]
  }, {
    "metadata" : {
      "id" : "90FDBDE535424CC0897C20A6989845C3"
    },
    "cell_type" : "markdown",
    "source" : "### Probably better to take the relevant part"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab816367881-1\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "A780D4906EC84FCD8339A250ADF50EF0"
    },
    "cell_type" : "code",
    "source" : "freqOrdered.take(30)\n",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res12: List[(String, Double)] = List((a,0.07892123856464399), (b,0.013841232220396755), (c,0.04509203647343646), (d,0.030138166931509062), (e,0.12519294591529234), (f,0.026006625548762423), (g,0.014792270791624396), (h,0.044525243819595946), (i,0.08238364141835822), (j,0.002664583838329428), (k,0.002872866672053292), (l,0.040070504936243305), (m,0.024439716184713356), (n,0.07904632796765632), (o,0.08121653933283657), (p,0.025622379631375296), (q,0.0011192209743207616), (r,0.06635484092997088), (s,0.05571326396557348), (t,0.10015710989612792), (u,0.02913805022130051), (v,0.00852882293265821), (w,0.0074197766944676365), (x,0.0023743046016740433), (y,0.011944541702951571), (z,2.1187391706393026E-4), (à,4.189597230077717E-6), (á,1.0174736130188742E-5), (ã,2.3940555600444098E-6), (ä,4.189597..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anondc78d4b289f2f69ef0ac2d34bacc6646&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;816367881&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul816367881\"><li>\n              <a href=\"#tab816367881-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab816367881-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab816367881-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab816367881-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab816367881\"><div class=\"tab-pane\" id=\"tab816367881-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon0e1409545e5088a26d10feb7646e1f30&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717}],&quot;genId&quot;:&quot;1154039316&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond38f23e5d71e4fae0e5ba0965530a176&quot;,&quot;initialValue&quot;:&quot;30&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb4d9e37cfb821fc4a8030da405d99ca3&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab816367881-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon93525d5f5954564f2894aa457174259c&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717}],&quot;genId&quot;:&quot;2104736295&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon863727d1a4231661dc41bd26e73e959a&quot;,&quot;initialValue&quot;:&quot;30&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona7db51127fe3838063caddb1cc70a9f6&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab816367881-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon90ab1c63b95eed2453e76db050db2d61&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717}],&quot;genId&quot;:&quot;461299395&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon067d7965510fbc2d26229648d244ed04&quot;,&quot;initialValue&quot;:&quot;30&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonacf2a5e7b1c91ff4a17c7d2173e6cada&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab816367881-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon85a53d6ba3a2d5668e5d0f5a8af4c9fb&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;x&quot;,&quot;_2&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;z&quot;,&quot;_2&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;à&quot;,&quot;_2&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;ã&quot;,&quot;_2&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;ä&quot;,&quot;_2&quot;:0.000004189597230077717}],&quot;genId&quot;:&quot;353084198&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anoneb751152da23d0ec82e7ee81d0e99bbb&quot;,&quot;initialValue&quot;:&quot;30&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon62ecd67d39153deb391b3b5e1868587f&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 10,
      "time" : "Took: 799 milliseconds, at 2017-3-8 19:57"
    } ]
  }, {
    "metadata" : {
      "id" : "1F8D760BD9094A1C8956F0D9EF2AEE8D"
    },
    "cell_type" : "markdown",
    "source" : "## Let's put together these initial steps to process other languages and compare the distributions\nDefine a method `letterFreq` that takes an `RDD[String]` and produces a sequence of pairs of a letter and its relative frequency"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "26429C6A81D24253AF14041AEB781E0F"
    },
    "cell_type" : "code",
    "source" : "import java.lang.Character\nimport org.apache.spark.rdd.RDD\n  \ndef letterFreq(rdd: RDD[String]): Seq[(String, Double)] = {\n  val cleanedChars = rdd.flatMap(str => str).collect{case char if Character.isAlphabetic(char) => Character.toLowerCase(char)}\n  val total = cleanedChars.count\n  val freq = cleanedChars.keyBy(identity).countByKey()\n  // here we transform characters to String to help us with limited support for 'char' in Spark Datasets\n  val ordered = freq.map{case (k,v) => (k.toString, v.toDouble/total)}.toList.sortBy{case (k,v)=> k}\n  ordered\n}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "import java.lang.Character\nimport org.apache.spark.rdd.RDD\nletterFreq: (rdd: org.apache.spark.rdd.RDD[String])Seq[(String, Double)]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 11,
      "time" : "Took: 760 milliseconds, at 2017-3-8 20:0"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "74CE994500F4495B9B123B94D6AB99F5"
    },
    "cell_type" : "code",
    "source" : "val es = sparkSession.sparkContext.textFile(baseFolder + \"/es\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "es: org.apache.spark.rdd.RDD[String] = /home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/es MapPartitionsRDD[11] at textFile at <console>:72\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 12,
      "time" : "Took: 540 milliseconds, at 2017-3-8 20:3"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "E21E00DDADFB43649D682F2E8807DAE4"
    },
    "cell_type" : "code",
    "source" : "val esLetterFreq = letterFreq(es).take(30)",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "esLetterFreq: Seq[(String, Double)] = List((a,0.10811093644933893), (b,0.011199629499334257), (c,0.055396417899813415), (d,0.056432327964339314), (e,0.12497161127711401), (f,0.007402220332114659), (g,0.008447036662644004), (h,0.002932388081634834), (i,0.07469295647953117), (j,0.004328445277675108), (k,4.1748121891156525E-5), (l,0.05847687265375555), (m,0.023087268047434772), (n,0.07069237311910795), (o,0.08934988711307841), (p,0.028785051723139814), (q,0.004136403916975788), (r,0.06678196570196962), (s,0.0724157355907749), (t,0.05165856938649187), (u,0.03707344552259742), (v,0.006658547120826858), (w,1.5585965506031768E-5), (x,0.0015324343942180521), (y,0.006487101500260509), (z,0.0020684802793005017), (º,9.462907628662146E-6), (à,5.566416252154203E-7), (á,0.0061186047443679), (ã,2.2265..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 13,
      "time" : "Took: 1 second 48 milliseconds, at 2017-3-8 20:3"
    } ]
  }, {
    "metadata" : {
      "id" : "91F563460CC145CF931BAF324B1BF902"
    },
    "cell_type" : "markdown",
    "source" : "### Let's compare the frequency distribution of English vs Spanish"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "337B9750FD2C4E6880194D2B835B2D8A"
    },
    "cell_type" : "code",
    "source" : "def withLanguage(data: Seq[(String, Double)], lang:String) = data.map{case (letter, freq) => (lang, letter, freq)}\nval esVsEn = withLanguage(esLetterFreq, \"es\") ++ withLanguage(freqOrdered.take(30), \"en\")\nCustomPlotlyChart(esVsEn,\n                  layout=\"{title: 'Language Frequency Distribution Comparison: ES vs EN'}\",\n                  dataOptions=\"\"\"{type: 'line', splitBy: '_1'}\"\"\",\n                  dataSources=\"{x: '_2', y: '_3'}\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "withLanguage: (data: Seq[(String, Double)], lang: String)Seq[(String, String, Double)]\nesVsEn: Seq[(String, String, Double)] = List((es,a,0.10811093644933893), (es,b,0.011199629499334257), (es,c,0.055396417899813415), (es,d,0.056432327964339314), (es,e,0.12497161127711401), (es,f,0.007402220332114659), (es,g,0.008447036662644004), (es,h,0.002932388081634834), (es,i,0.07469295647953117), (es,j,0.004328445277675108), (es,k,4.1748121891156525E-5), (es,l,0.05847687265375555), (es,m,0.023087268047434772), (es,n,0.07069237311910795), (es,o,0.08934988711307841), (es,p,0.028785051723139814), (es,q,0.004136403916975788), (es,r,0.06678196570196962), (es,s,0.0724157355907749), (es,t,0.05165856938649187), (es,u,0.03707344552259742), (es,v,0.006658547120826858), (es,w,1.5585965506031768E-5), (es,x,0..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonf1f5d0f8a5a6f5a63af2b3d4b9c70d33&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;a&quot;,&quot;_3&quot;:0.10811093644933893},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;b&quot;,&quot;_3&quot;:0.011199629499334257},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;c&quot;,&quot;_3&quot;:0.055396417899813415},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;d&quot;,&quot;_3&quot;:0.056432327964339314},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;e&quot;,&quot;_3&quot;:0.12497161127711401},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;f&quot;,&quot;_3&quot;:0.007402220332114659},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;g&quot;,&quot;_3&quot;:0.008447036662644004},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;h&quot;,&quot;_3&quot;:0.002932388081634834},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;i&quot;,&quot;_3&quot;:0.07469295647953117},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;j&quot;,&quot;_3&quot;:0.004328445277675108},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;k&quot;,&quot;_3&quot;:0.000041748121891156525},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;l&quot;,&quot;_3&quot;:0.05847687265375555},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;m&quot;,&quot;_3&quot;:0.023087268047434772},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;n&quot;,&quot;_3&quot;:0.07069237311910795},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;o&quot;,&quot;_3&quot;:0.08934988711307841},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;p&quot;,&quot;_3&quot;:0.028785051723139814},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;q&quot;,&quot;_3&quot;:0.004136403916975788},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;r&quot;,&quot;_3&quot;:0.06678196570196962},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;s&quot;,&quot;_3&quot;:0.0724157355907749},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;t&quot;,&quot;_3&quot;:0.05165856938649187},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;u&quot;,&quot;_3&quot;:0.03707344552259742},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;v&quot;,&quot;_3&quot;:0.006658547120826858},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;w&quot;,&quot;_3&quot;:0.000015585965506031768},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;x&quot;,&quot;_3&quot;:0.0015324343942180521},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;y&quot;,&quot;_3&quot;:0.006487101500260509},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;z&quot;,&quot;_3&quot;:0.0020684802793005017},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;º&quot;,&quot;_3&quot;:0.000009462907628662146},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;à&quot;,&quot;_3&quot;:5.566416252154203E-7},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;á&quot;,&quot;_3&quot;:0.0061186047443679},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:&quot;ã&quot;,&quot;_3&quot;:0.000002226566500861681},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;a&quot;,&quot;_3&quot;:0.07892123856464399},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;b&quot;,&quot;_3&quot;:0.013841232220396755},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;c&quot;,&quot;_3&quot;:0.04509203647343646},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;d&quot;,&quot;_3&quot;:0.030138166931509062},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;e&quot;,&quot;_3&quot;:0.12519294591529234},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;f&quot;,&quot;_3&quot;:0.026006625548762423},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;g&quot;,&quot;_3&quot;:0.014792270791624396},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;h&quot;,&quot;_3&quot;:0.044525243819595946},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;i&quot;,&quot;_3&quot;:0.08238364141835822},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;j&quot;,&quot;_3&quot;:0.002664583838329428},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;k&quot;,&quot;_3&quot;:0.002872866672053292},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;l&quot;,&quot;_3&quot;:0.040070504936243305},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;m&quot;,&quot;_3&quot;:0.024439716184713356},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;n&quot;,&quot;_3&quot;:0.07904632796765632},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;o&quot;,&quot;_3&quot;:0.08121653933283657},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;p&quot;,&quot;_3&quot;:0.025622379631375296},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;q&quot;,&quot;_3&quot;:0.0011192209743207616},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;r&quot;,&quot;_3&quot;:0.06635484092997088},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;s&quot;,&quot;_3&quot;:0.05571326396557348},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;t&quot;,&quot;_3&quot;:0.10015710989612792},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;u&quot;,&quot;_3&quot;:0.02913805022130051},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;v&quot;,&quot;_3&quot;:0.00852882293265821},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;w&quot;,&quot;_3&quot;:0.0074197766944676365},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;x&quot;,&quot;_3&quot;:0.0023743046016740433},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;y&quot;,&quot;_3&quot;:0.011944541702951571},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;z&quot;,&quot;_3&quot;:0.00021187391706393026},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;à&quot;,&quot;_3&quot;:0.000004189597230077717},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;á&quot;,&quot;_3&quot;:0.000010174736130188742},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;ã&quot;,&quot;_3&quot;:0.0000023940555600444098},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:&quot;ä&quot;,&quot;_3&quot;:0.000004189597230077717}],&quot;genId&quot;:&quot;829627021&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/customPlotlyChart'], \n      function(playground, _magiccustomPlotlyChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magiccustomPlotlyChart,\n    \"o\": {\"js\":\"var layout = {title: 'Language Frequency Distribution Comparison: ES vs EN'}; var dataSources={x: '_2', y: '_3'}; var dataOptions = {type: 'line', splitBy: '_1'}\",\"headers\":[\"_1\",\"_2\",\"_3\"],\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon643791962e802995e0768b27a1f54129&quot;,&quot;initialValue&quot;:&quot;60&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona262c37c82ed6c7ab531a19a0939dd2f&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 14,
      "time" : "Took: 974 milliseconds, at 2017-3-8 20:3"
    } ]
  }, {
    "metadata" : {
      "id" : "3507E4C4387C462EB08775FD2419E945"
    },
    "cell_type" : "markdown",
    "source" : "# Let's create a classifier for 6 common european languages"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "C0AA0B4BBA274409867FBF255D234787"
    },
    "cell_type" : "code",
    "source" : "val languages = Seq(\"en\", \"es\", \"it\", \"de\", \"fr\", \"nl\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "languages: Seq[String] = List(en, es, it, de, fr, nl)\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 15,
      "time" : "Took: 497 milliseconds, at 2017-3-8 20:4"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "393F496631B549A583C26FE8AE7F850B"
    },
    "cell_type" : "code",
    "source" : "val langDataset = languages.map{lang => (lang, sparkContext.textFile(baseFolder + s\"/$lang\"))}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "langDataset: Seq[(String, org.apache.spark.rdd.RDD[String])] = List((en,/home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/en MapPartitionsRDD[67] at textFile at <console>:74), (es,/home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/es MapPartitionsRDD[69] at textFile at <console>:74), (it,/home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/it MapPartitionsRDD[71] at textFile at <console>:74), (de,/home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/de MapPartitionsRDD[73] at textFile at <console>:74), (fr,/home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/fr MapPartitionsRDD[75] at textFile at <console>:74), (nl,/home/maasg/playground/sparkfun/spark-notebooks/languag..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 18,
      "time" : "Took: 635 milliseconds, at 2017-3-8 20:5"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "770E09E738CD472A8047D1F6CBAA32F1"
    },
    "cell_type" : "code",
    "source" : "val langLetterFreq = langDataset.map{case (lang, rdd) => (lang, letterFreq(rdd))}\n",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "langLetterFreq: Seq[(String, Seq[(String, Double)])] = List((en,List((a,0.07892123856464399), (b,0.013841232220396755), (c,0.04509203647343646), (d,0.030138166931509062), (e,0.12519294591529234), (f,0.026006625548762423), (g,0.014792270791624396), (h,0.044525243819595946), (i,0.08238364141835822), (j,0.002664583838329428), (k,0.002872866672053292), (l,0.040070504936243305), (m,0.024439716184713356), (n,0.07904632796765632), (o,0.08121653933283657), (p,0.025622379631375296), (q,0.0011192209743207616), (r,0.06635484092997088), (s,0.05571326396557348), (t,0.10015710989612792), (u,0.02913805022130051), (v,0.00852882293265821), (w,0.0074197766944676365), (x,0.0023743046016740433), (y,0.011944541702951571), (z,2.1187391706393026E-4), (à,4.189597230077717E-6), (á,1.0174736130188742E-5), (ã,2.3..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 19,
      "time" : "Took: 2 seconds 412 milliseconds, at 2017-3-8 20:6"
    } ]
  }, {
    "metadata" : {
      "id" : "988317526ABC47D3828CC9D10180B436"
    },
    "cell_type" : "markdown",
    "source" : "#### This `case class` helps to provide a schema to the dataset to help us plotting it."
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "944D0547A7CD437F97DC6248A324D550"
    },
    "cell_type" : "code",
    "source" : "case class LanguageLetterFrequency(lang: String, letter: String, freq: Double)",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "defined class LanguageLetterFrequency\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 20,
      "time" : "Took: 896 milliseconds, at 2017-3-8 20:9"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "CAB89D26080541CA9731BADBC4876794"
    },
    "cell_type" : "code",
    "source" : "val langByLetterFreq = langLetterFreq.flatMap{case (lang, freqList) => freqList.take(30).map{case (letter, freq) => LanguageLetterFrequency(lang, letter, freq)}}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "langByLetterFreq: Seq[LanguageLetterFrequency] = List(LanguageLetterFrequency(en,a,0.07892123856464399), LanguageLetterFrequency(en,b,0.013841232220396755), LanguageLetterFrequency(en,c,0.04509203647343646), LanguageLetterFrequency(en,d,0.030138166931509062), LanguageLetterFrequency(en,e,0.12519294591529234), LanguageLetterFrequency(en,f,0.026006625548762423), LanguageLetterFrequency(en,g,0.014792270791624396), LanguageLetterFrequency(en,h,0.044525243819595946), LanguageLetterFrequency(en,i,0.08238364141835822), LanguageLetterFrequency(en,j,0.002664583838329428), LanguageLetterFrequency(en,k,0.002872866672053292), LanguageLetterFrequency(en,l,0.040070504936243305), LanguageLetterFrequency(en,m,0.024439716184713356), LanguageLetterFrequency(en,n,0.07904632796765632), LanguageLetterFreque..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 21,
      "time" : "Took: 592 milliseconds, at 2017-3-8 20:9"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "A22112C532A34B759772E92B8770615A"
    },
    "cell_type" : "code",
    "source" : "CustomPlotlyChart(langByLetterFreq,\n                  layout=\"{title: 'Language Frequency Distribution Comparison'}\",\n                  dataOptions=\"\"\"{type: 'bar', splitBy: 'lang'}\"\"\",\n                  dataSources=\"{x: 'letter', y: 'freq'}\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res26: notebook.front.widgets.charts.CustomPlotlyChart[Seq[LanguageLetterFrequency]] = <CustomPlotlyChart widget>\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon8183608f1b61c5a6e1a4d76cdfeee65a&quot;,&quot;dataInit&quot;:[{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.07892123856464399},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.013841232220396755},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.04509203647343646},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.030138166931509062},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.12519294591529234},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.026006625548762423},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.014792270791624396},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.044525243819595946},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.08238364141835822},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.002664583838329428},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.002872866672053292},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.040070504936243305},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.024439716184713356},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.07904632796765632},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.08121653933283657},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.025622379631375296},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.0011192209743207616},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.06635484092997088},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.05571326396557348},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.10015710989612792},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.02913805022130051},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.00852882293265821},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.0074197766944676365},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.0023743046016740433},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.011944541702951571},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.00021187391706393026},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:0.000004189597230077717},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.000010174736130188742},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;ã&quot;,&quot;freq&quot;:0.0000023940555600444098},{&quot;lang&quot;:&quot;en&quot;,&quot;letter&quot;:&quot;ä&quot;,&quot;freq&quot;:0.000004189597230077717},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.10811093644933893},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.011199629499334257},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.055396417899813415},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.056432327964339314},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.12497161127711401},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.007402220332114659},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.008447036662644004},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.002932388081634834},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.07469295647953117},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.004328445277675108},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.000041748121891156525},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.05847687265375555},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.023087268047434772},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.07069237311910795},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.08934988711307841},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.028785051723139814},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.004136403916975788},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.06678196570196962},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.0724157355907749},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.05165856938649187},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.03707344552259742},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.006658547120826858},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.000015585965506031768},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.0015324343942180521},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.006487101500260509},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.0020684802793005017},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;º&quot;,&quot;freq&quot;:0.000009462907628662146},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:5.566416252154203E-7},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.0061186047443679},{&quot;lang&quot;:&quot;es&quot;,&quot;letter&quot;:&quot;ã&quot;,&quot;freq&quot;:0.000002226566500861681},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.09944886655522718},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.009015842941270022},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.04123203553248964},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.04087620721336084},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.11737872375480111},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.009504391791006353},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.015761135080896597},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.004517646681929528},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.12504962718116466},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.000026315277620458182},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.000039472916430687275},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.07422853331228112},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.02363111930317145},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.06894316700933735},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.0946137203280943},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.0286676346112261},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.002517113511522087},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.06323046348068745},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.04497910223714184},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.0743017584326163},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.030756266754536812},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.009840769687546123},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.000013729710062847748},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.0006304225203857591},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.0000326080613992634},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.016086643623636612},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:0.0023672308433359992},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.000009725211294517155},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;ã&quot;,&quot;freq&quot;:0.0000022882850104746246},{&quot;lang&quot;:&quot;it&quot;,&quot;letter&quot;:&quot;ä&quot;,&quot;freq&quot;:0.000004576570020949249},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.053500533682887784},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.01995736070157305},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.023862181996654592},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.054839029178537814},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.16726324427183134},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.016530613035363614},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.035566686014631047},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.03624672361866324},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.08227237691679029},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.0010463393891170744},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.014673651115809464},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.03394931423547229},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.024248403516275805},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.10228175025854155},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.025217830597044244},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.008267243158539507},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.0002263103173711705},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.07863038545239653},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.0617561569962811},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.06725068377255426},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.03918488446277306},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.010507106641958818},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.008912974553092456},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.0006944240789751075},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.0002655964604845033},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.012566585862632405},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;ß&quot;,&quot;freq&quot;:0.0020616925245109568},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:5.533259593427151E-7},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.000009959867268168873},{&quot;lang&quot;:&quot;de&quot;,&quot;letter&quot;:&quot;ã&quot;,&quot;freq&quot;:0.0000022133038373708606},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.07039785172473764},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.008270081399492363},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.040762987980409636},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.041001360914865594},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.13902493307923103},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.010551042820778823},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.00815454349758769},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.0038984920479518776},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.07771565757484727},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.0028434485752960505},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.00015810449734323634},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.05538582970199735},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.026179064288937185},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.0788686042170118},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.06083252963547184},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.032201629449273385},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.007307468248360274},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.06954165506220196},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.07906258627336754},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.07965061338464027},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.05192212502173937},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.008857500416544541},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.000011553790190467271},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.004864753764407272},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.0013408477563147544},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.00008999794464153454},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;º&quot;,&quot;freq&quot;:0.000007905224867161817},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:0.00475590489892866},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.000010337601749365454},{&quot;lang&quot;:&quot;fr&quot;,&quot;letter&quot;:&quot;â&quot;,&quot;freq&quot;:0.000049255631864623634},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;a&quot;,&quot;freq&quot;:0.07266998140289496},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;b&quot;,&quot;freq&quot;:0.01743989051437275},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;c&quot;,&quot;freq&quot;:0.014131040610117487},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;d&quot;,&quot;freq&quot;:0.06408275435817914},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;e&quot;,&quot;freq&quot;:0.1976199016615989},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;f&quot;,&quot;freq&quot;:0.009007179475859634},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;g&quot;,&quot;freq&quot;:0.034438858568188464},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;h&quot;,&quot;freq&quot;:0.020866834794797225},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;i&quot;,&quot;freq&quot;:0.07223292184249301},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;j&quot;,&quot;freq&quot;:0.00905794902075481},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;k&quot;,&quot;freq&quot;:0.020905463796347903},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;l&quot;,&quot;freq&quot;:0.038258714978671275},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;m&quot;,&quot;freq&quot;:0.018432655854225186},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;n&quot;,&quot;freq&quot;:0.10600405052673403},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;o&quot;,&quot;freq&quot;:0.05133628753221383},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;p&quot;,&quot;freq&quot;:0.016104982589357157},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;q&quot;,&quot;freq&quot;:0.00010650567570401356},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;r&quot;,&quot;freq&quot;:0.06304970448813814},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;s&quot;,&quot;freq&quot;:0.03548680819597044},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;t&quot;,&quot;freq&quot;:0.06611188062534835},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;u&quot;,&quot;freq&quot;:0.01867822593551164},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;v&quot;,&quot;freq&quot;:0.03466456230582029},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;w&quot;,&quot;freq&quot;:0.009461346165519753},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;x&quot;,&quot;freq&quot;:0.0003068246408882463},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;y&quot;,&quot;freq&quot;:0.00017934893577100728},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;z&quot;,&quot;freq&quot;:0.008051939451799283},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;à&quot;,&quot;freq&quot;:5.51842879295407E-7},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;á&quot;,&quot;freq&quot;:0.000009381328948021919},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;ã&quot;,&quot;freq&quot;:0.000002207371517181628},{&quot;lang&quot;:&quot;nl&quot;,&quot;letter&quot;:&quot;ä&quot;,&quot;freq&quot;:0.000003862900155067849}],&quot;genId&quot;:&quot;1023859131&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/customPlotlyChart'], \n      function(playground, _magiccustomPlotlyChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magiccustomPlotlyChart,\n    \"o\": {\"js\":\"var layout = {title: 'Language Frequency Distribution Comparison'}; var dataSources={x: 'letter', y: 'freq'}; var dataOptions = {type: 'bar', splitBy: 'lang'}\",\"headers\":[\"lang\",\"letter\",\"freq\"],\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc024eeb35593afe69fb084e8e3a5cbfc&quot;,&quot;initialValue&quot;:&quot;180&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon2a2d0f038df7ace790be58688a0ef9e0&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 22,
      "time" : "Took: 772 milliseconds, at 2017-3-8 20:9"
    } ]
  }, {
    "metadata" : {
      "id" : "D0AFDA1AE6BB40E993942FC46C59FDF1"
    },
    "cell_type" : "markdown",
    "source" : "#Naive Language Prediction"
  }, {
    "metadata" : {
      "id" : "4580665C68B2443F8C3386112625FA93"
    },
    "cell_type" : "markdown",
    "source" : "## We first need to apply the same process to the text to evaluate\nAgain, API parity between Spark and Scala to the rescue"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "9657B6F72C124AB1A7A37F65B64A1E08"
    },
    "cell_type" : "code",
    "source" : "def sentenceFreq(str: String):List[(String, Double)] = {\n  val cleaned = str.collect{case char if Character.isAlphabetic(char) => Character.toLowerCase(char)}\n  val total = cleaned.size\n  val freq = cleaned.groupBy(identity).map{case (letter, group) => (letter, group.size)}\n  val ordered = freq.map{case (k,v) => (k.toString, v.toDouble/total)}.toList.sortBy{case (k,v)=> k}\n  ordered\n}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "sentenceFreq: (str: String)List[(String, Double)]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 23,
      "time" : "Took: 593 milliseconds, at 2017-3-8 20:11"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab1975815727-1\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "CD5EF3BF238040108CBE4116F3F1ACBB"
    },
    "cell_type" : "code",
    "source" : "sentenceFreq(\"estamos haciendo un modelo para prediccion de lenguage\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res29: List[(String, Double)] = List((a,0.10638297872340426), (c,0.06382978723404255), (d,0.0851063829787234), (e,0.14893617021276595), (g,0.0425531914893617), (h,0.02127659574468085), (i,0.06382978723404255), (l,0.0425531914893617), (m,0.0425531914893617), (n,0.0851063829787234), (o,0.10638297872340426), (p,0.0425531914893617), (r,0.0425531914893617), (s,0.0425531914893617), (t,0.02127659574468085), (u,0.0425531914893617))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon73c36c4d66ecb377d65e4b86fe6bf783&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1975815727&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1975815727\"><li>\n              <a href=\"#tab1975815727-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1975815727-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1975815727-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1975815727-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1975815727\"><div class=\"tab-pane\" id=\"tab1975815727-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonb16950b9f034b5c7e4b87a4e88fcad00&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.14893617021276595},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.0425531914893617}],&quot;genId&quot;:&quot;1067751011&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonf639d862bfb611f1a8c291783dbac768&quot;,&quot;initialValue&quot;:&quot;16&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon90892590a4055c265fac681d41f11689&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1975815727-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon29508ee9a335f2de2966144ee3077ae1&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.14893617021276595},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.0425531914893617}],&quot;genId&quot;:&quot;1940128703&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anondf7ad217a63403a3a3128648aaecfe4e&quot;,&quot;initialValue&quot;:&quot;16&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon6a53f9e785bdf23321ff920dc45c8d67&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1975815727-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonf16d9d6afecb027747e5c8cfc959f684&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.14893617021276595},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.0425531914893617}],&quot;genId&quot;:&quot;1037488477&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc2f2f7f03d8a1ac809a0303603b61fab&quot;,&quot;initialValue&quot;:&quot;16&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon85592a9664f1ea497bc7ed84726f7844&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1975815727-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anone54cb51ea56a480e68066a22f357b51f&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0.14893617021276595},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:0.06382978723404255},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:0.0851063829787234},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:0.10638297872340426},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:0.0425531914893617},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:0.02127659574468085},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:0.0425531914893617}],&quot;genId&quot;:&quot;1242461384&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anone28a22e351c024b85fad334ac2c9c5e8&quot;,&quot;initialValue&quot;:&quot;16&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon83d4df19f0fefb4b11ea41b8aa69a20d&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 24,
      "time" : "Took: 611 milliseconds, at 2017-3-8 20:11"
    } ]
  }, {
    "metadata" : {
      "id" : "B7E80377289A454E8265A0FF3B9CBA5B"
    },
    "cell_type" : "markdown",
    "source" : "## Our classifier will use Euclidean distance between the sample and each of our pre-calculated models\nThe closer we are from a model, the higher likehood that we have a match "
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "0B2E891AEBDF45B586683CB38E20464A"
    },
    "cell_type" : "code",
    "source" : "def classify(str:String): Seq[(String, Double)] = {\n  val strFreq = sentenceFreq(str).toMap\n  langLetterFreq.map{case (lang, refFreq) => \n                     val freqMap = refFreq.toMap\n                     val score = strFreq.map{case (letter, freq) => \n                                 val modelFreq = freqMap.get(letter)\n                                 modelFreq.map(mf => (freq - mf)*(freq-mf)).getOrElse(1.0)\n                                }.sum\n                     (lang, Math.sqrt(score))\n                    }.sortBy(_._2)\n}\n  ",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "classify: (str: String)Seq[(String, Double)]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 25,
      "time" : "Took: 549 milliseconds, at 2017-3-8 20:13"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab1547674205-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "98C383AFE06C413DB9C5C354F8E6E73D"
    },
    "cell_type" : "code",
    "source" : "classify(\"è\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res32: Seq[(String, Double)] = List((fr,0.9970452701823431), (it,0.9991785056812396), (nl,0.9999939297283278), (es,0.9999994433583748), (de,0.9999994466740406), (en,1.0))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon972696362e38393b531cf83dff6988bf&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1547674205&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1547674205\"><li>\n              <a href=\"#tab1547674205-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1547674205-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1547674205-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1547674205-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1547674205\"><div class=\"tab-pane\" id=\"tab1547674205-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon4dbcc5a29568eeafbd2cfa266df537da&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.9970452701823431},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.9991785056812396},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.9999939297283278},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.9999994433583748},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.9999994466740406},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:1.0}],&quot;genId&quot;:&quot;1714868295&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anone82348f607dcbef3c02be00d7726ef3a&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon6032f577f4e09f949a1484913b8533c7&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1547674205-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon7b186e167c344a53d60b01c2328455b5&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.9970452701823431},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.9991785056812396},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.9999939297283278},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.9999994433583748},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.9999994466740406},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:1.0}],&quot;genId&quot;:&quot;609908997&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonef821cba6a292446c3b39b50d08896da&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon521053d5b27cb0c9722530be6cdbb771&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1547674205-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon11356843a5bddf4401d0e43a03ad9799&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.9970452701823431},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.9991785056812396},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.9999939297283278},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.9999994433583748},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.9999994466740406},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:1.0}],&quot;genId&quot;:&quot;850521507&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anondf14f4164db2a8f71426a8a7ad74f1e2&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonee8f08a93e927fca84a16a0b2904391c&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1547674205-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonabb4045a0b4a3fe0c35b5a3a5be4386d&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.9970452701823431},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.9991785056812396},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.9999939297283278},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.9999994433583748},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.9999994466740406},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:1.0}],&quot;genId&quot;:&quot;20878517&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon1df01a9a487edbce3c35e7ea2a35f9d5&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonf8bae8a0dbf13802d978f80240183176&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 26,
      "time" : "Took: 703 milliseconds, at 2017-3-8 20:13"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab1166091599-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "CBCB400234D543D286DFFBEF8094D4F5"
    },
    "cell_type" : "code",
    "source" : "classify(\"estamos haciendo un modelo para clasificar el lenguage usado en un documento\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res34: Seq[(String, Double)] = List((es,0.08238430605362929), (fr,0.11604577757832807), (it,0.12226442259056455), (en,0.1267000540758025), (nl,0.14883738620927084), (de,0.1525148741851856))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon0cb205f631bc9d1d5fd21ecdca243eac&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1166091599&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1166091599\"><li>\n              <a href=\"#tab1166091599-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1166091599-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1166091599-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1166091599-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1166091599\"><div class=\"tab-pane\" id=\"tab1166091599-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon92730833cd49d26bb998c8f6d12741a2&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.08238430605362929},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11604577757832807},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.12226442259056455},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.1267000540758025},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.14883738620927084},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1525148741851856}],&quot;genId&quot;:&quot;273294976&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon6c352be2dd340ce433f12d636c060dc4&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anoncecc258b70098c095b65f470c88e972b&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1166091599-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anona763e3044b8183e29c817d4b43b2edc5&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.08238430605362929},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11604577757832807},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.12226442259056455},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.1267000540758025},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.14883738620927084},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1525148741851856}],&quot;genId&quot;:&quot;1711424189&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anoneca4a329783e4982b165ea02af2173c8&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon17f37d2d5e8e9c68c6f5cff071fdc01c&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1166091599-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon822be6fa4ff92680737dc4f195632ebf&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.08238430605362929},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11604577757832807},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.12226442259056455},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.1267000540758025},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.14883738620927084},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1525148741851856}],&quot;genId&quot;:&quot;521753636&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb4467f976b559520328c6b45c67b46c2&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon2ef10048ca9dc4f939555637e4fd1124&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1166091599-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon699c4e70c239ebc251e36a9e78853a4b&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.08238430605362929},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11604577757832807},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.12226442259056455},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.1267000540758025},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.14883738620927084},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1525148741851856}],&quot;genId&quot;:&quot;1877354022&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond90a0e9705bd0c73dbc7acf912fb22a8&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon47be828e0f53536c1beee53f7a7c4353&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 27,
      "time" : "Took: 607 milliseconds, at 2017-3-8 20:14"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab1294684248-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "D897ABDAB4BB40CD81B9ABE9C3D19C97"
    },
    "cell_type" : "code",
    "source" : "classify(\"wij maken een model om de taal te bepalen die in een document gebruikt wordt\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res36: Seq[(String, Double)] = List((nl,0.07504696135635662), (de,0.10206072502408552), (fr,0.11896964686997333), (en,0.13026324061404027), (es,0.13912996402195157), (it,0.1538555940616276))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon8a11510b211acf045e7eed33af7066bc&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1294684248&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1294684248\"><li>\n              <a href=\"#tab1294684248-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1294684248-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1294684248-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1294684248-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1294684248\"><div class=\"tab-pane\" id=\"tab1294684248-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon4f29c4e6164d109929f7c274cf3b56b4&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.07504696135635662},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.10206072502408552},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11896964686997333},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.13026324061404027},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.13912996402195157},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.1538555940616276}],&quot;genId&quot;:&quot;170004593&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon7878c0075cd785d86bc5e025b620bb9b&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon3a7430283b99c92ba09d0c737f1eca1e&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1294684248-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon3b46fbe4c887ecb88abda115ff67383d&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.07504696135635662},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.10206072502408552},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11896964686997333},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.13026324061404027},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.13912996402195157},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.1538555940616276}],&quot;genId&quot;:&quot;1800269935&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon26195e171e3f86ad0c62908ea9c8bf62&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc10f910d801b620f13a8867cccd1023d&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1294684248-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon5593a6553df4aaef935ba668282e64fe&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.07504696135635662},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.10206072502408552},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11896964686997333},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.13026324061404027},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.13912996402195157},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.1538555940616276}],&quot;genId&quot;:&quot;1115132829&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon316b5debab7ebfd8f53888f22e0ee08e&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb211fd6adce93c14d3aeca0226cb20db&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1294684248-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anona6a46895405bac778056ad04e753ffd0&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.07504696135635662},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.10206072502408552},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.11896964686997333},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.13026324061404027},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.13912996402195157},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.1538555940616276}],&quot;genId&quot;:&quot;1997200661&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon0e2c26d9419f0b887ec6f0bf40277d8d&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon1958b078b9ec8a20c5bd549ccfb43a07&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 28,
      "time" : "Took: 659 milliseconds, at 2017-3-8 20:14"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab760302950-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "E5C4B5919E714C34850B408AFCD746D7"
    },
    "cell_type" : "code",
    "source" : "classify(\"het regent vandaag\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res38: Seq[(String, Double)] = List((nl,0.16682104765577835), (de,0.1841906039715287), (en,0.18666627176518563), (it,0.19214285086810903), (es,0.19709647377829867), (fr,0.20180116297120448))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon83e5f69899d64f538ab463075215add6&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;760302950&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul760302950\"><li>\n              <a href=\"#tab760302950-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab760302950-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab760302950-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab760302950-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab760302950\"><div class=\"tab-pane\" id=\"tab760302950-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon02f1e02b692c3639b03c8a3e26d8561e&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.16682104765577835},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1841906039715287},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.18666627176518563},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.19214285086810903},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.19709647377829867},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.20180116297120448}],&quot;genId&quot;:&quot;289406585&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anondc9d9cb536edae0fedc9c835365606c5&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona45108960959e6842754062557a24939&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab760302950-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon4a66f162df969349c1ec515ecda950e3&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.16682104765577835},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1841906039715287},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.18666627176518563},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.19214285086810903},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.19709647377829867},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.20180116297120448}],&quot;genId&quot;:&quot;2020287519&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon06ed21903aadf94332b360e60ba59867&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon40bb5b383eef8fbfd5e4c925363f0c93&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab760302950-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon6408be66668f642967261e51a8341476&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.16682104765577835},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1841906039715287},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.18666627176518563},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.19214285086810903},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.19709647377829867},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.20180116297120448}],&quot;genId&quot;:&quot;1890864290&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon8a3c11004359141dc893df01dfc78e9d&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond0edd7c65d37d74c3d6aef23df4f2650&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab760302950-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anona1d8d99ab727a8408ec1f8d986d92ec2&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.16682104765577835},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.1841906039715287},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.18666627176518563},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.19214285086810903},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.19709647377829867},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.20180116297120448}],&quot;genId&quot;:&quot;1595662085&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon01e2e8859a4ac327d34bb008f95a1557&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon4d5421e8b2317f66b5af3861fb5a01fa&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 29,
      "time" : "Took: 564 milliseconds, at 2017-3-8 20:14"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab308089581-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "27DE7E84356D49AB9D0E4BF9B30E4777"
    },
    "cell_type" : "code",
    "source" : "classify(\"language\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res40: Seq[(String, Double)] = List((it,0.3036339326924917), (es,0.30591839606321103), (nl,0.3199615720241069), (de,0.3202349895470698), (en,0.32109956126123407), (fr,0.32133700290867645))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon9da271a138fb28a03b73721fa026881c&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;308089581&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul308089581\"><li>\n              <a href=\"#tab308089581-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab308089581-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab308089581-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab308089581-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab308089581\"><div class=\"tab-pane\" id=\"tab308089581-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon03dd95795461c49900ae1fd9e370f562&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.3036339326924917},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.30591839606321103},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.3199615720241069},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.3202349895470698},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.32109956126123407},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.32133700290867645}],&quot;genId&quot;:&quot;1672732357&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonbe0db2bc1e092ced11114f70fc8d68ce&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb3d1266f02e19098f9a40320706487f1&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab308089581-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon739563b2ce51d75e5d43d48ac6099444&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.3036339326924917},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.30591839606321103},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.3199615720241069},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.3202349895470698},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.32109956126123407},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.32133700290867645}],&quot;genId&quot;:&quot;1989399156&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond73f511e0ffc6976a66188c3ff69309a&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon3998fcdba9ee17944a5ed1dcaedc2a87&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab308089581-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon4ac295c2c9a86894f371bbcdcfffc871&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.3036339326924917},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.30591839606321103},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.3199615720241069},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.3202349895470698},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.32109956126123407},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.32133700290867645}],&quot;genId&quot;:&quot;1526205348&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon8b7924f51d2e1feb7205416a9d468c6e&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon4f95468395ed7326a47b92f46eb0b253&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab308089581-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon9b45e26045bfa73c31f75b508d3d6775&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.3036339326924917},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.30591839606321103},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.3199615720241069},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.3202349895470698},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.32109956126123407},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.32133700290867645}],&quot;genId&quot;:&quot;748311763&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon7094dd2dba7d34f0490a4ef6d5875a4c&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc2581611b8c479331a7ca5374dd99da7&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 30,
      "time" : "Took: 578 milliseconds, at 2017-3-8 20:14"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab756688496-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "A7746E9B9DB24A3CB21E9BBA0A4CCDA3"
    },
    "cell_type" : "code",
    "source" : "classify(\"these little sentences\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res42: Seq[(String, Double)] = List((nl,0.2190859315831615), (de,0.22205888191068252), (fr,0.22548803266578976), (en,0.23355825718020554), (es,0.25317339037675696), (it,0.2637927804402644))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anona972db6f7a812e4d6aebb2214304279f&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;756688496&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul756688496\"><li>\n              <a href=\"#tab756688496-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab756688496-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab756688496-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab756688496-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab756688496\"><div class=\"tab-pane\" id=\"tab756688496-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonf181d743d0230b99961b4f3da58d48b0&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2190859315831615},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.22205888191068252},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22548803266578976},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.23355825718020554},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.25317339037675696},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2637927804402644}],&quot;genId&quot;:&quot;724735614&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon953f008a0f24c5ba3693e9e0ec67b84a&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon2ca5d340e452e4cc256e0d9d2c1122f1&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab756688496-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon361adf59ede841d40302a57997c90d07&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2190859315831615},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.22205888191068252},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22548803266578976},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.23355825718020554},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.25317339037675696},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2637927804402644}],&quot;genId&quot;:&quot;372608091&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon50e39dc2044faf2481704491770a3d45&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon1e50d15797a666513b43667814c9d434&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab756688496-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anondd54675e5ab0635f60932d79003c3838&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2190859315831615},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.22205888191068252},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22548803266578976},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.23355825718020554},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.25317339037675696},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2637927804402644}],&quot;genId&quot;:&quot;612868316&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb4d4bc97fe49556efcd551071bf7a49d&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonef26a2eac4fbf8bb24383905ef9aa997&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab756688496-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonc7acf71a9803fc24d1fe9b595ad1ffa6&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2190859315831615},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.22205888191068252},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22548803266578976},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.23355825718020554},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.25317339037675696},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.2637927804402644}],&quot;genId&quot;:&quot;1320068004&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona44b8d815c7282190c865f9dbaa83e50&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon4fe836a0d37ee0eef72725e4a6665080&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 31,
      "time" : "Took: 539 milliseconds, at 2017-3-8 20:15"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab1650499779-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "E1F0E3038747454B8FC476C9F20AEBB8"
    },
    "cell_type" : "code",
    "source" : "classify(\"are too small\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res44: Seq[(String, Double)] = List((it,0.18531944139887466), (es,0.1934450899958764), (en,0.21982178935422475), (fr,0.22420064355561053), (nl,0.2658023366151163), (de,0.2732915571268681))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon241c6403db225170271f1a8ebd7fa992&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1650499779&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1650499779\"><li>\n              <a href=\"#tab1650499779-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1650499779-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1650499779-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1650499779-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1650499779\"><div class=\"tab-pane\" id=\"tab1650499779-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon2e66ee19a2c30859cf446e8d7ff05ed9&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.18531944139887466},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.1934450899958764},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.21982178935422475},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22420064355561053},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2658023366151163},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.2732915571268681}],&quot;genId&quot;:&quot;778882843&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon9f8f9f5d3b1de6ddbd5fdb48bba40a3f&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonca5b2032f65d8eac79ce29314db9def2&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1650499779-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon4d08b3090546f2da2fc7cb800ad6ec21&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.18531944139887466},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.1934450899958764},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.21982178935422475},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22420064355561053},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2658023366151163},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.2732915571268681}],&quot;genId&quot;:&quot;1549969632&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon864eeb4eb5bf38a99db96c1a0ffe7ce0&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anoneae253827b6b38e7ede5d1bf2f32d490&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1650499779-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anond12d2f9f73731e5652ed5de27b6b0075&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.18531944139887466},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.1934450899958764},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.21982178935422475},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22420064355561053},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2658023366151163},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.2732915571268681}],&quot;genId&quot;:&quot;729738017&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb1f9f8d2fd5d12508c098100fa704f0a&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonf18ffcff32ad5dcd78704acdac23b325&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1650499779-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon532c21927e7c73ced69c15e4fabe33ea&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:0.18531944139887466},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:0.1934450899958764},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:0.21982178935422475},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:0.22420064355561053},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:0.2658023366151163},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:0.2732915571268681}],&quot;genId&quot;:&quot;523630680&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonea6e9d83b524a4916bc9fcdd6ab25396&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon7e9f52c21c2ac6b442a95915da9c1083&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 32,
      "time" : "Took: 667 milliseconds, at 2017-3-8 20:15"
    } ]
  }, {
    "metadata" : {
      "id" : "A30259B131B241D39A18EFABF8F1E9A3"
    },
    "cell_type" : "markdown",
    "source" : "#Let's evaluate our classification model"
  }, {
    "metadata" : {
      "id" : "96C943D6FBBB4757A995A642EF5B2C8F"
    },
    "cell_type" : "markdown",
    "source" : "## We need a test dataset"
  }, {
    "metadata" : {
      "id" : "DDD38FD5736C4E7080527B4C611DE253"
    },
    "cell_type" : "markdown",
    "source" : "We want to see how our model performs with text of different lengths. We'll randomly sample the original text in order to create a labeled sample. \n\nNote that we are labeling the samples with the actual size."
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "3C2764EC04334DB2880BFB48B85C638D"
    },
    "cell_type" : "code",
    "source" : "val sampleDataByLanguage = langDataset.map{case (lang, rdd) => \n                val sample = rdd.sample(withReplacement = false, fraction = 0.3)\n                                           .map(str => str.collect{case char if Character.isAlphabetic(char) || Character.isWhitespace(char) => Character.toLowerCase(char)})\n                sample.map{str => \n                        val sentenceLength = scala.util.Random.nextInt(100)+1\n                        val sampled = str.take(sentenceLength).trim\n                        (lang, sampled.size, sampled)\n                          }.filter{case (_, _, sampled) =>  sampled.size > 0 }\n                }",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "sampleDataByLanguage: Seq[org.apache.spark.rdd.RDD[(String, Int, String)]] = List(MapPartitionsRDD[117] at filter at <console>:85, MapPartitionsRDD[121] at filter at <console>:85, MapPartitionsRDD[125] at filter at <console>:85, MapPartitionsRDD[129] at filter at <console>:85, MapPartitionsRDD[133] at filter at <console>:85, MapPartitionsRDD[137] at filter at <console>:85)\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 33,
      "time" : "Took: 551 milliseconds, at 2017-3-8 20:16"
    } ]
  }, {
    "metadata" : {
      "id" : "23FB6A4DA52F421A810DA2F40FE95211"
    },
    "cell_type" : "markdown",
    "source" : "### Here we union all the samples from the different languages in a consolidated test dataset\nThen we make a dataframe in order to easy the slicing and dicing we're going to perform next"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "63DA0724BCB445BB88F6E4ED9870D1EC"
    },
    "cell_type" : "code",
    "source" : "val testDataset = sparkContext.union(sampleDataByLanguage).coalesce(8).toDF(\"language\", \"textSize\", \"text\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "testDataset: org.apache.spark.sql.DataFrame = [language: string, textSize: int ... 1 more field]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 34,
      "time" : "Took: 1 second 428 milliseconds, at 2017-3-8 20:16"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "E5D6B059731B4233B866337879946ED6"
    },
    "cell_type" : "code",
    "source" : "testDataset.sample(withReplacement = false, fraction = 0.0005)",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res48: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [language: string, textSize: int ... 1 more field]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div class=\"df-canvas\">\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon047721e32556ecf55afb0c7cbdabed83&quot;,&quot;partitionIndexId&quot;:&quot;anoncf7680c21f080da0701f3e9d1b350ba3&quot;,&quot;numPartitions&quot;:2,&quot;dfSchema&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;language&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;textSize&quot;,&quot;type&quot;:&quot;integer&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}},{&quot;name&quot;:&quot;text&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]}}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/dataframe','../javascripts/notebook/consoleDir'], \n      function(dataframe, extension) {\n        dataframe.call(data, this, extension);\n      }\n    );/*]]>*/</script>\n      <link rel=\"stylesheet\" href=\"/assets/stylesheets/ipython/css/dataframe.css\" type=\"text/css\"/>\n    </div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 35,
      "time" : "Took: 1 second 568 milliseconds, at 2017-3-8 20:16"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "6900F4E571094472A152E0575EC155C3"
    },
    "cell_type" : "code",
    "source" : "<h3>Our test dataset contains {testDataset.count()} records</h3>",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res50: scala.xml.Elem = <h3>Our test dataset contains 58116 records</h3>\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<h3>Our test dataset contains 58116 records</h3>"
      },
      "output_type" : "execute_result",
      "execution_count" : 36,
      "time" : "Took: 1 second 41 milliseconds, at 2017-3-8 20:16"
    } ]
  }, {
    "metadata" : {
      "id" : "C16E50D6CF32498F80F0E80A34D76D8B"
    },
    "cell_type" : "markdown",
    "source" : "#### We can easily use shell functions :-)\nIn this case, we clean up the target save dir to avoid issues when writing our dataset"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : true,
      "id" : "06E7C327B8EB46D58FFFF77ACD2F7E7C"
    },
    "cell_type" : "code",
    "source" : ":sh rm -rf /tmp/testDataset",
    "outputs" : [ ]
  }, {
    "metadata" : {
      "id" : "D21391A771A84B74AEBD0F35174C98A9"
    },
    "cell_type" : "markdown",
    "source" : "### We save our test dataset for potential use later on..."
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "17DE60116B3441F5A810DBE5C311C7A1"
    },
    "cell_type" : "code",
    "source" : "testDataset.write.mode(SaveMode.Overwrite).parquet(\"/tmp/testDataset\")",
    "outputs" : [ {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 48,
      "time" : "Took: 1 second 212 milliseconds, at 2017-3-8 20:24"
    } ]
  }, {
    "metadata" : {
      "id" : "4B2DEFD0B4B04C2E89C82A3A6E566568"
    },
    "cell_type" : "markdown",
    "source" : "### Lets do some sanity checks on out test data"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab346670404-2\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "E2F623D45F914253BA2017D52E5948DB"
    },
    "cell_type" : "code",
    "source" : "testDataset.select($\"language\", $\"textSize\").groupBy($\"textSize\").count().orderBy($\"textSize\").collect()",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res52: Array[org.apache.spark.sql.Row] = Array([1,642], [2,758], [3,598], [4,714], [5,811], [6,869], [7,3421], [8,2162], [9,982], [10,918], [11,896], [12,802], [13,749], [14,1026], [15,878], [16,1410], [17,733], [18,1100], [19,707], [20,866], [21,878], [22,717], [23,612], [24,679], [25,715], [26,612], [27,754], [28,634], [29,668], [30,632], [31,607], [32,666], [33,709], [34,629], [35,608], [36,569], [37,555], [38,795], [39,585], [40,684], [41,789], [42,571], [43,910], [44,678], [45,551], [46,521], [47,530], [48,502], [49,478], [50,481], [51,453], [52,498], [53,471], [54,472], [55,465], [56,481], [57,469], [58,430], [59,451], [60,425], [61,464], [62,415], [63,412], [64,416], [65,403], [66,391], [67,386], [68,350], [69,385], [70,391], [71,355], [72,357], [73,350], [74,361], [75,364], [76,..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon9fc03f70a11b3bbbc071172db29cbe70&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;346670404&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul346670404\"><li>\n              <a href=\"#tab346670404-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab346670404-1\"><i class=\"fa fa-dot-circle-o\"/></a>\n            </li><li>\n              <a href=\"#tab346670404-2\"><i class=\"fa fa-line-chart\"/></a>\n            </li><li>\n              <a href=\"#tab346670404-3\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab346670404-4\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab346670404\"><div class=\"tab-pane\" id=\"tab346670404-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonb18ad3d1feb64abedc606625856a565e&quot;,&quot;dataInit&quot;:[{&quot;textSize&quot;:1,&quot;count&quot;:642},{&quot;textSize&quot;:2,&quot;count&quot;:758},{&quot;textSize&quot;:3,&quot;count&quot;:598},{&quot;textSize&quot;:4,&quot;count&quot;:714},{&quot;textSize&quot;:5,&quot;count&quot;:811},{&quot;textSize&quot;:6,&quot;count&quot;:869},{&quot;textSize&quot;:7,&quot;count&quot;:3421},{&quot;textSize&quot;:8,&quot;count&quot;:2162},{&quot;textSize&quot;:9,&quot;count&quot;:982},{&quot;textSize&quot;:10,&quot;count&quot;:918},{&quot;textSize&quot;:11,&quot;count&quot;:896},{&quot;textSize&quot;:12,&quot;count&quot;:802},{&quot;textSize&quot;:13,&quot;count&quot;:749},{&quot;textSize&quot;:14,&quot;count&quot;:1026},{&quot;textSize&quot;:15,&quot;count&quot;:878},{&quot;textSize&quot;:16,&quot;count&quot;:1410},{&quot;textSize&quot;:17,&quot;count&quot;:733},{&quot;textSize&quot;:18,&quot;count&quot;:1100},{&quot;textSize&quot;:19,&quot;count&quot;:707},{&quot;textSize&quot;:20,&quot;count&quot;:866},{&quot;textSize&quot;:21,&quot;count&quot;:878},{&quot;textSize&quot;:22,&quot;count&quot;:717},{&quot;textSize&quot;:23,&quot;count&quot;:612},{&quot;textSize&quot;:24,&quot;count&quot;:679},{&quot;textSize&quot;:25,&quot;count&quot;:715},{&quot;textSize&quot;:26,&quot;count&quot;:612},{&quot;textSize&quot;:27,&quot;count&quot;:754},{&quot;textSize&quot;:28,&quot;count&quot;:634},{&quot;textSize&quot;:29,&quot;count&quot;:668},{&quot;textSize&quot;:30,&quot;count&quot;:632},{&quot;textSize&quot;:31,&quot;count&quot;:607},{&quot;textSize&quot;:32,&quot;count&quot;:666},{&quot;textSize&quot;:33,&quot;count&quot;:709},{&quot;textSize&quot;:34,&quot;count&quot;:629},{&quot;textSize&quot;:35,&quot;count&quot;:608},{&quot;textSize&quot;:36,&quot;count&quot;:569},{&quot;textSize&quot;:37,&quot;count&quot;:555},{&quot;textSize&quot;:38,&quot;count&quot;:795},{&quot;textSize&quot;:39,&quot;count&quot;:585},{&quot;textSize&quot;:40,&quot;count&quot;:684},{&quot;textSize&quot;:41,&quot;count&quot;:789},{&quot;textSize&quot;:42,&quot;count&quot;:571},{&quot;textSize&quot;:43,&quot;count&quot;:910},{&quot;textSize&quot;:44,&quot;count&quot;:678},{&quot;textSize&quot;:45,&quot;count&quot;:551},{&quot;textSize&quot;:46,&quot;count&quot;:521},{&quot;textSize&quot;:47,&quot;count&quot;:530},{&quot;textSize&quot;:48,&quot;count&quot;:502},{&quot;textSize&quot;:49,&quot;count&quot;:478},{&quot;textSize&quot;:50,&quot;count&quot;:481},{&quot;textSize&quot;:51,&quot;count&quot;:453},{&quot;textSize&quot;:52,&quot;count&quot;:498},{&quot;textSize&quot;:53,&quot;count&quot;:471},{&quot;textSize&quot;:54,&quot;count&quot;:472},{&quot;textSize&quot;:55,&quot;count&quot;:465},{&quot;textSize&quot;:56,&quot;count&quot;:481},{&quot;textSize&quot;:57,&quot;count&quot;:469},{&quot;textSize&quot;:58,&quot;count&quot;:430},{&quot;textSize&quot;:59,&quot;count&quot;:451},{&quot;textSize&quot;:60,&quot;count&quot;:425},{&quot;textSize&quot;:61,&quot;count&quot;:464},{&quot;textSize&quot;:62,&quot;count&quot;:415},{&quot;textSize&quot;:63,&quot;count&quot;:412},{&quot;textSize&quot;:64,&quot;count&quot;:416},{&quot;textSize&quot;:65,&quot;count&quot;:403},{&quot;textSize&quot;:66,&quot;count&quot;:391},{&quot;textSize&quot;:67,&quot;count&quot;:386},{&quot;textSize&quot;:68,&quot;count&quot;:350},{&quot;textSize&quot;:69,&quot;count&quot;:385},{&quot;textSize&quot;:70,&quot;count&quot;:391},{&quot;textSize&quot;:71,&quot;count&quot;:355},{&quot;textSize&quot;:72,&quot;count&quot;:357},{&quot;textSize&quot;:73,&quot;count&quot;:350},{&quot;textSize&quot;:74,&quot;count&quot;:361},{&quot;textSize&quot;:75,&quot;count&quot;:364},{&quot;textSize&quot;:76,&quot;count&quot;:405},{&quot;textSize&quot;:77,&quot;count&quot;:326},{&quot;textSize&quot;:78,&quot;count&quot;:348},{&quot;textSize&quot;:79,&quot;count&quot;:350},{&quot;textSize&quot;:80,&quot;count&quot;:315},{&quot;textSize&quot;:81,&quot;count&quot;:342},{&quot;textSize&quot;:82,&quot;count&quot;:377},{&quot;textSize&quot;:83,&quot;count&quot;:357},{&quot;textSize&quot;:84,&quot;count&quot;:362},{&quot;textSize&quot;:85,&quot;count&quot;:343},{&quot;textSize&quot;:86,&quot;count&quot;:351},{&quot;textSize&quot;:87,&quot;count&quot;:334},{&quot;textSize&quot;:88,&quot;count&quot;:389},{&quot;textSize&quot;:89,&quot;count&quot;:371},{&quot;textSize&quot;:90,&quot;count&quot;:358},{&quot;textSize&quot;:91,&quot;count&quot;:330},{&quot;textSize&quot;:92,&quot;count&quot;:331},{&quot;textSize&quot;:93,&quot;count&quot;:330},{&quot;textSize&quot;:94,&quot;count&quot;:271},{&quot;textSize&quot;:95,&quot;count&quot;:256},{&quot;textSize&quot;:96,&quot;count&quot;:185},{&quot;textSize&quot;:97,&quot;count&quot;:144},{&quot;textSize&quot;:98,&quot;count&quot;:92},{&quot;textSize&quot;:99,&quot;count&quot;:69},{&quot;textSize&quot;:100,&quot;count&quot;:27}],&quot;genId&quot;:&quot;1059178005&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"textSize\",\"count\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon14ee26b0ae12581e2710be54e1150d07&quot;,&quot;initialValue&quot;:&quot;100&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon40d88f51ef1b5cb918f44331a909b7d1&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab346670404-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon4b24a5d5dee08ecc5f81421c0fc53520&quot;,&quot;dataInit&quot;:[{&quot;textSize&quot;:1,&quot;count&quot;:642},{&quot;textSize&quot;:2,&quot;count&quot;:758},{&quot;textSize&quot;:3,&quot;count&quot;:598},{&quot;textSize&quot;:4,&quot;count&quot;:714},{&quot;textSize&quot;:5,&quot;count&quot;:811},{&quot;textSize&quot;:6,&quot;count&quot;:869},{&quot;textSize&quot;:7,&quot;count&quot;:3421},{&quot;textSize&quot;:8,&quot;count&quot;:2162},{&quot;textSize&quot;:9,&quot;count&quot;:982},{&quot;textSize&quot;:10,&quot;count&quot;:918},{&quot;textSize&quot;:11,&quot;count&quot;:896},{&quot;textSize&quot;:12,&quot;count&quot;:802},{&quot;textSize&quot;:13,&quot;count&quot;:749},{&quot;textSize&quot;:14,&quot;count&quot;:1026},{&quot;textSize&quot;:15,&quot;count&quot;:878},{&quot;textSize&quot;:16,&quot;count&quot;:1410},{&quot;textSize&quot;:17,&quot;count&quot;:733},{&quot;textSize&quot;:18,&quot;count&quot;:1100},{&quot;textSize&quot;:19,&quot;count&quot;:707},{&quot;textSize&quot;:20,&quot;count&quot;:866},{&quot;textSize&quot;:21,&quot;count&quot;:878},{&quot;textSize&quot;:22,&quot;count&quot;:717},{&quot;textSize&quot;:23,&quot;count&quot;:612},{&quot;textSize&quot;:24,&quot;count&quot;:679},{&quot;textSize&quot;:25,&quot;count&quot;:715},{&quot;textSize&quot;:26,&quot;count&quot;:612},{&quot;textSize&quot;:27,&quot;count&quot;:754},{&quot;textSize&quot;:28,&quot;count&quot;:634},{&quot;textSize&quot;:29,&quot;count&quot;:668},{&quot;textSize&quot;:30,&quot;count&quot;:632},{&quot;textSize&quot;:31,&quot;count&quot;:607},{&quot;textSize&quot;:32,&quot;count&quot;:666},{&quot;textSize&quot;:33,&quot;count&quot;:709},{&quot;textSize&quot;:34,&quot;count&quot;:629},{&quot;textSize&quot;:35,&quot;count&quot;:608},{&quot;textSize&quot;:36,&quot;count&quot;:569},{&quot;textSize&quot;:37,&quot;count&quot;:555},{&quot;textSize&quot;:38,&quot;count&quot;:795},{&quot;textSize&quot;:39,&quot;count&quot;:585},{&quot;textSize&quot;:40,&quot;count&quot;:684},{&quot;textSize&quot;:41,&quot;count&quot;:789},{&quot;textSize&quot;:42,&quot;count&quot;:571},{&quot;textSize&quot;:43,&quot;count&quot;:910},{&quot;textSize&quot;:44,&quot;count&quot;:678},{&quot;textSize&quot;:45,&quot;count&quot;:551},{&quot;textSize&quot;:46,&quot;count&quot;:521},{&quot;textSize&quot;:47,&quot;count&quot;:530},{&quot;textSize&quot;:48,&quot;count&quot;:502},{&quot;textSize&quot;:49,&quot;count&quot;:478},{&quot;textSize&quot;:50,&quot;count&quot;:481},{&quot;textSize&quot;:51,&quot;count&quot;:453},{&quot;textSize&quot;:52,&quot;count&quot;:498},{&quot;textSize&quot;:53,&quot;count&quot;:471},{&quot;textSize&quot;:54,&quot;count&quot;:472},{&quot;textSize&quot;:55,&quot;count&quot;:465},{&quot;textSize&quot;:56,&quot;count&quot;:481},{&quot;textSize&quot;:57,&quot;count&quot;:469},{&quot;textSize&quot;:58,&quot;count&quot;:430},{&quot;textSize&quot;:59,&quot;count&quot;:451},{&quot;textSize&quot;:60,&quot;count&quot;:425},{&quot;textSize&quot;:61,&quot;count&quot;:464},{&quot;textSize&quot;:62,&quot;count&quot;:415},{&quot;textSize&quot;:63,&quot;count&quot;:412},{&quot;textSize&quot;:64,&quot;count&quot;:416},{&quot;textSize&quot;:65,&quot;count&quot;:403},{&quot;textSize&quot;:66,&quot;count&quot;:391},{&quot;textSize&quot;:67,&quot;count&quot;:386},{&quot;textSize&quot;:68,&quot;count&quot;:350},{&quot;textSize&quot;:69,&quot;count&quot;:385},{&quot;textSize&quot;:70,&quot;count&quot;:391},{&quot;textSize&quot;:71,&quot;count&quot;:355},{&quot;textSize&quot;:72,&quot;count&quot;:357},{&quot;textSize&quot;:73,&quot;count&quot;:350},{&quot;textSize&quot;:74,&quot;count&quot;:361},{&quot;textSize&quot;:75,&quot;count&quot;:364},{&quot;textSize&quot;:76,&quot;count&quot;:405},{&quot;textSize&quot;:77,&quot;count&quot;:326},{&quot;textSize&quot;:78,&quot;count&quot;:348},{&quot;textSize&quot;:79,&quot;count&quot;:350},{&quot;textSize&quot;:80,&quot;count&quot;:315},{&quot;textSize&quot;:81,&quot;count&quot;:342},{&quot;textSize&quot;:82,&quot;count&quot;:377},{&quot;textSize&quot;:83,&quot;count&quot;:357},{&quot;textSize&quot;:84,&quot;count&quot;:362},{&quot;textSize&quot;:85,&quot;count&quot;:343},{&quot;textSize&quot;:86,&quot;count&quot;:351},{&quot;textSize&quot;:87,&quot;count&quot;:334},{&quot;textSize&quot;:88,&quot;count&quot;:389},{&quot;textSize&quot;:89,&quot;count&quot;:371},{&quot;textSize&quot;:90,&quot;count&quot;:358},{&quot;textSize&quot;:91,&quot;count&quot;:330},{&quot;textSize&quot;:92,&quot;count&quot;:331},{&quot;textSize&quot;:93,&quot;count&quot;:330},{&quot;textSize&quot;:94,&quot;count&quot;:271},{&quot;textSize&quot;:95,&quot;count&quot;:256},{&quot;textSize&quot;:96,&quot;count&quot;:185},{&quot;textSize&quot;:97,&quot;count&quot;:144},{&quot;textSize&quot;:98,&quot;count&quot;:92},{&quot;textSize&quot;:99,&quot;count&quot;:69},{&quot;textSize&quot;:100,&quot;count&quot;:27}],&quot;genId&quot;:&quot;1276177855&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/scatterChart'], \n      function(playground, _magicscatterChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicscatterChart,\n    \"o\": {\"x\":\"textSize\",\"y\":\"count\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anone71607999f8039e7195cef1e8461ac4e&quot;,&quot;initialValue&quot;:&quot;100&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon8f1523108016dfb9462f3d787206760c&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab346670404-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonae7f0065f83938200575f85ce12e776b&quot;,&quot;dataInit&quot;:[{&quot;textSize&quot;:1,&quot;count&quot;:642},{&quot;textSize&quot;:2,&quot;count&quot;:758},{&quot;textSize&quot;:3,&quot;count&quot;:598},{&quot;textSize&quot;:4,&quot;count&quot;:714},{&quot;textSize&quot;:5,&quot;count&quot;:811},{&quot;textSize&quot;:6,&quot;count&quot;:869},{&quot;textSize&quot;:7,&quot;count&quot;:3421},{&quot;textSize&quot;:8,&quot;count&quot;:2162},{&quot;textSize&quot;:9,&quot;count&quot;:982},{&quot;textSize&quot;:10,&quot;count&quot;:918},{&quot;textSize&quot;:11,&quot;count&quot;:896},{&quot;textSize&quot;:12,&quot;count&quot;:802},{&quot;textSize&quot;:13,&quot;count&quot;:749},{&quot;textSize&quot;:14,&quot;count&quot;:1026},{&quot;textSize&quot;:15,&quot;count&quot;:878},{&quot;textSize&quot;:16,&quot;count&quot;:1410},{&quot;textSize&quot;:17,&quot;count&quot;:733},{&quot;textSize&quot;:18,&quot;count&quot;:1100},{&quot;textSize&quot;:19,&quot;count&quot;:707},{&quot;textSize&quot;:20,&quot;count&quot;:866},{&quot;textSize&quot;:21,&quot;count&quot;:878},{&quot;textSize&quot;:22,&quot;count&quot;:717},{&quot;textSize&quot;:23,&quot;count&quot;:612},{&quot;textSize&quot;:24,&quot;count&quot;:679},{&quot;textSize&quot;:25,&quot;count&quot;:715},{&quot;textSize&quot;:26,&quot;count&quot;:612},{&quot;textSize&quot;:27,&quot;count&quot;:754},{&quot;textSize&quot;:28,&quot;count&quot;:634},{&quot;textSize&quot;:29,&quot;count&quot;:668},{&quot;textSize&quot;:30,&quot;count&quot;:632},{&quot;textSize&quot;:31,&quot;count&quot;:607},{&quot;textSize&quot;:32,&quot;count&quot;:666},{&quot;textSize&quot;:33,&quot;count&quot;:709},{&quot;textSize&quot;:34,&quot;count&quot;:629},{&quot;textSize&quot;:35,&quot;count&quot;:608},{&quot;textSize&quot;:36,&quot;count&quot;:569},{&quot;textSize&quot;:37,&quot;count&quot;:555},{&quot;textSize&quot;:38,&quot;count&quot;:795},{&quot;textSize&quot;:39,&quot;count&quot;:585},{&quot;textSize&quot;:40,&quot;count&quot;:684},{&quot;textSize&quot;:41,&quot;count&quot;:789},{&quot;textSize&quot;:42,&quot;count&quot;:571},{&quot;textSize&quot;:43,&quot;count&quot;:910},{&quot;textSize&quot;:44,&quot;count&quot;:678},{&quot;textSize&quot;:45,&quot;count&quot;:551},{&quot;textSize&quot;:46,&quot;count&quot;:521},{&quot;textSize&quot;:47,&quot;count&quot;:530},{&quot;textSize&quot;:48,&quot;count&quot;:502},{&quot;textSize&quot;:49,&quot;count&quot;:478},{&quot;textSize&quot;:50,&quot;count&quot;:481},{&quot;textSize&quot;:51,&quot;count&quot;:453},{&quot;textSize&quot;:52,&quot;count&quot;:498},{&quot;textSize&quot;:53,&quot;count&quot;:471},{&quot;textSize&quot;:54,&quot;count&quot;:472},{&quot;textSize&quot;:55,&quot;count&quot;:465},{&quot;textSize&quot;:56,&quot;count&quot;:481},{&quot;textSize&quot;:57,&quot;count&quot;:469},{&quot;textSize&quot;:58,&quot;count&quot;:430},{&quot;textSize&quot;:59,&quot;count&quot;:451},{&quot;textSize&quot;:60,&quot;count&quot;:425},{&quot;textSize&quot;:61,&quot;count&quot;:464},{&quot;textSize&quot;:62,&quot;count&quot;:415},{&quot;textSize&quot;:63,&quot;count&quot;:412},{&quot;textSize&quot;:64,&quot;count&quot;:416},{&quot;textSize&quot;:65,&quot;count&quot;:403},{&quot;textSize&quot;:66,&quot;count&quot;:391},{&quot;textSize&quot;:67,&quot;count&quot;:386},{&quot;textSize&quot;:68,&quot;count&quot;:350},{&quot;textSize&quot;:69,&quot;count&quot;:385},{&quot;textSize&quot;:70,&quot;count&quot;:391},{&quot;textSize&quot;:71,&quot;count&quot;:355},{&quot;textSize&quot;:72,&quot;count&quot;:357},{&quot;textSize&quot;:73,&quot;count&quot;:350},{&quot;textSize&quot;:74,&quot;count&quot;:361},{&quot;textSize&quot;:75,&quot;count&quot;:364},{&quot;textSize&quot;:76,&quot;count&quot;:405},{&quot;textSize&quot;:77,&quot;count&quot;:326},{&quot;textSize&quot;:78,&quot;count&quot;:348},{&quot;textSize&quot;:79,&quot;count&quot;:350},{&quot;textSize&quot;:80,&quot;count&quot;:315},{&quot;textSize&quot;:81,&quot;count&quot;:342},{&quot;textSize&quot;:82,&quot;count&quot;:377},{&quot;textSize&quot;:83,&quot;count&quot;:357},{&quot;textSize&quot;:84,&quot;count&quot;:362},{&quot;textSize&quot;:85,&quot;count&quot;:343},{&quot;textSize&quot;:86,&quot;count&quot;:351},{&quot;textSize&quot;:87,&quot;count&quot;:334},{&quot;textSize&quot;:88,&quot;count&quot;:389},{&quot;textSize&quot;:89,&quot;count&quot;:371},{&quot;textSize&quot;:90,&quot;count&quot;:358},{&quot;textSize&quot;:91,&quot;count&quot;:330},{&quot;textSize&quot;:92,&quot;count&quot;:331},{&quot;textSize&quot;:93,&quot;count&quot;:330},{&quot;textSize&quot;:94,&quot;count&quot;:271},{&quot;textSize&quot;:95,&quot;count&quot;:256},{&quot;textSize&quot;:96,&quot;count&quot;:185},{&quot;textSize&quot;:97,&quot;count&quot;:144},{&quot;textSize&quot;:98,&quot;count&quot;:92},{&quot;textSize&quot;:99,&quot;count&quot;:69},{&quot;textSize&quot;:100,&quot;count&quot;:27}],&quot;genId&quot;:&quot;1474900492&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/lineChart'], \n      function(playground, _magiclineChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magiclineChart,\n    \"o\": {\"x\":\"textSize\",\"y\":\"count\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anone480d9d348e3da643c5ee655b2e28851&quot;,&quot;initialValue&quot;:&quot;100&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonfd45aa0099f40cb8ce50f2e38761bc90&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab346670404-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonadf652d096c35a877ffcaf6cd1ced3dc&quot;,&quot;dataInit&quot;:[{&quot;textSize&quot;:1,&quot;count&quot;:642},{&quot;textSize&quot;:2,&quot;count&quot;:758},{&quot;textSize&quot;:3,&quot;count&quot;:598},{&quot;textSize&quot;:4,&quot;count&quot;:714},{&quot;textSize&quot;:5,&quot;count&quot;:811},{&quot;textSize&quot;:6,&quot;count&quot;:869},{&quot;textSize&quot;:7,&quot;count&quot;:3421},{&quot;textSize&quot;:8,&quot;count&quot;:2162},{&quot;textSize&quot;:9,&quot;count&quot;:982},{&quot;textSize&quot;:10,&quot;count&quot;:918},{&quot;textSize&quot;:11,&quot;count&quot;:896},{&quot;textSize&quot;:12,&quot;count&quot;:802},{&quot;textSize&quot;:13,&quot;count&quot;:749},{&quot;textSize&quot;:14,&quot;count&quot;:1026},{&quot;textSize&quot;:15,&quot;count&quot;:878},{&quot;textSize&quot;:16,&quot;count&quot;:1410},{&quot;textSize&quot;:17,&quot;count&quot;:733},{&quot;textSize&quot;:18,&quot;count&quot;:1100},{&quot;textSize&quot;:19,&quot;count&quot;:707},{&quot;textSize&quot;:20,&quot;count&quot;:866},{&quot;textSize&quot;:21,&quot;count&quot;:878},{&quot;textSize&quot;:22,&quot;count&quot;:717},{&quot;textSize&quot;:23,&quot;count&quot;:612},{&quot;textSize&quot;:24,&quot;count&quot;:679},{&quot;textSize&quot;:25,&quot;count&quot;:715},{&quot;textSize&quot;:26,&quot;count&quot;:612},{&quot;textSize&quot;:27,&quot;count&quot;:754},{&quot;textSize&quot;:28,&quot;count&quot;:634},{&quot;textSize&quot;:29,&quot;count&quot;:668},{&quot;textSize&quot;:30,&quot;count&quot;:632},{&quot;textSize&quot;:31,&quot;count&quot;:607},{&quot;textSize&quot;:32,&quot;count&quot;:666},{&quot;textSize&quot;:33,&quot;count&quot;:709},{&quot;textSize&quot;:34,&quot;count&quot;:629},{&quot;textSize&quot;:35,&quot;count&quot;:608},{&quot;textSize&quot;:36,&quot;count&quot;:569},{&quot;textSize&quot;:37,&quot;count&quot;:555},{&quot;textSize&quot;:38,&quot;count&quot;:795},{&quot;textSize&quot;:39,&quot;count&quot;:585},{&quot;textSize&quot;:40,&quot;count&quot;:684},{&quot;textSize&quot;:41,&quot;count&quot;:789},{&quot;textSize&quot;:42,&quot;count&quot;:571},{&quot;textSize&quot;:43,&quot;count&quot;:910},{&quot;textSize&quot;:44,&quot;count&quot;:678},{&quot;textSize&quot;:45,&quot;count&quot;:551},{&quot;textSize&quot;:46,&quot;count&quot;:521},{&quot;textSize&quot;:47,&quot;count&quot;:530},{&quot;textSize&quot;:48,&quot;count&quot;:502},{&quot;textSize&quot;:49,&quot;count&quot;:478},{&quot;textSize&quot;:50,&quot;count&quot;:481},{&quot;textSize&quot;:51,&quot;count&quot;:453},{&quot;textSize&quot;:52,&quot;count&quot;:498},{&quot;textSize&quot;:53,&quot;count&quot;:471},{&quot;textSize&quot;:54,&quot;count&quot;:472},{&quot;textSize&quot;:55,&quot;count&quot;:465},{&quot;textSize&quot;:56,&quot;count&quot;:481},{&quot;textSize&quot;:57,&quot;count&quot;:469},{&quot;textSize&quot;:58,&quot;count&quot;:430},{&quot;textSize&quot;:59,&quot;count&quot;:451},{&quot;textSize&quot;:60,&quot;count&quot;:425},{&quot;textSize&quot;:61,&quot;count&quot;:464},{&quot;textSize&quot;:62,&quot;count&quot;:415},{&quot;textSize&quot;:63,&quot;count&quot;:412},{&quot;textSize&quot;:64,&quot;count&quot;:416},{&quot;textSize&quot;:65,&quot;count&quot;:403},{&quot;textSize&quot;:66,&quot;count&quot;:391},{&quot;textSize&quot;:67,&quot;count&quot;:386},{&quot;textSize&quot;:68,&quot;count&quot;:350},{&quot;textSize&quot;:69,&quot;count&quot;:385},{&quot;textSize&quot;:70,&quot;count&quot;:391},{&quot;textSize&quot;:71,&quot;count&quot;:355},{&quot;textSize&quot;:72,&quot;count&quot;:357},{&quot;textSize&quot;:73,&quot;count&quot;:350},{&quot;textSize&quot;:74,&quot;count&quot;:361},{&quot;textSize&quot;:75,&quot;count&quot;:364},{&quot;textSize&quot;:76,&quot;count&quot;:405},{&quot;textSize&quot;:77,&quot;count&quot;:326},{&quot;textSize&quot;:78,&quot;count&quot;:348},{&quot;textSize&quot;:79,&quot;count&quot;:350},{&quot;textSize&quot;:80,&quot;count&quot;:315},{&quot;textSize&quot;:81,&quot;count&quot;:342},{&quot;textSize&quot;:82,&quot;count&quot;:377},{&quot;textSize&quot;:83,&quot;count&quot;:357},{&quot;textSize&quot;:84,&quot;count&quot;:362},{&quot;textSize&quot;:85,&quot;count&quot;:343},{&quot;textSize&quot;:86,&quot;count&quot;:351},{&quot;textSize&quot;:87,&quot;count&quot;:334},{&quot;textSize&quot;:88,&quot;count&quot;:389},{&quot;textSize&quot;:89,&quot;count&quot;:371},{&quot;textSize&quot;:90,&quot;count&quot;:358},{&quot;textSize&quot;:91,&quot;count&quot;:330},{&quot;textSize&quot;:92,&quot;count&quot;:331},{&quot;textSize&quot;:93,&quot;count&quot;:330},{&quot;textSize&quot;:94,&quot;count&quot;:271},{&quot;textSize&quot;:95,&quot;count&quot;:256},{&quot;textSize&quot;:96,&quot;count&quot;:185},{&quot;textSize&quot;:97,&quot;count&quot;:144},{&quot;textSize&quot;:98,&quot;count&quot;:92},{&quot;textSize&quot;:99,&quot;count&quot;:69},{&quot;textSize&quot;:100,&quot;count&quot;:27}],&quot;genId&quot;:&quot;47297489&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"textSize\",\"y\":\"count\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonf293fe14f5136ed6dec24d4428f2c3ef&quot;,&quot;initialValue&quot;:&quot;100&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonfb05aca849073af71d72695021e40cca&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab346670404-4\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon2bb207d5c238786218ceac5ce21eaf1a&quot;,&quot;dataInit&quot;:[{&quot;textSize&quot;:1,&quot;count&quot;:642},{&quot;textSize&quot;:2,&quot;count&quot;:758},{&quot;textSize&quot;:3,&quot;count&quot;:598},{&quot;textSize&quot;:4,&quot;count&quot;:714},{&quot;textSize&quot;:5,&quot;count&quot;:811},{&quot;textSize&quot;:6,&quot;count&quot;:869},{&quot;textSize&quot;:7,&quot;count&quot;:3421},{&quot;textSize&quot;:8,&quot;count&quot;:2162},{&quot;textSize&quot;:9,&quot;count&quot;:982},{&quot;textSize&quot;:10,&quot;count&quot;:918},{&quot;textSize&quot;:11,&quot;count&quot;:896},{&quot;textSize&quot;:12,&quot;count&quot;:802},{&quot;textSize&quot;:13,&quot;count&quot;:749},{&quot;textSize&quot;:14,&quot;count&quot;:1026},{&quot;textSize&quot;:15,&quot;count&quot;:878},{&quot;textSize&quot;:16,&quot;count&quot;:1410},{&quot;textSize&quot;:17,&quot;count&quot;:733},{&quot;textSize&quot;:18,&quot;count&quot;:1100},{&quot;textSize&quot;:19,&quot;count&quot;:707},{&quot;textSize&quot;:20,&quot;count&quot;:866},{&quot;textSize&quot;:21,&quot;count&quot;:878},{&quot;textSize&quot;:22,&quot;count&quot;:717},{&quot;textSize&quot;:23,&quot;count&quot;:612},{&quot;textSize&quot;:24,&quot;count&quot;:679},{&quot;textSize&quot;:25,&quot;count&quot;:715},{&quot;textSize&quot;:26,&quot;count&quot;:612},{&quot;textSize&quot;:27,&quot;count&quot;:754},{&quot;textSize&quot;:28,&quot;count&quot;:634},{&quot;textSize&quot;:29,&quot;count&quot;:668},{&quot;textSize&quot;:30,&quot;count&quot;:632},{&quot;textSize&quot;:31,&quot;count&quot;:607},{&quot;textSize&quot;:32,&quot;count&quot;:666},{&quot;textSize&quot;:33,&quot;count&quot;:709},{&quot;textSize&quot;:34,&quot;count&quot;:629},{&quot;textSize&quot;:35,&quot;count&quot;:608},{&quot;textSize&quot;:36,&quot;count&quot;:569},{&quot;textSize&quot;:37,&quot;count&quot;:555},{&quot;textSize&quot;:38,&quot;count&quot;:795},{&quot;textSize&quot;:39,&quot;count&quot;:585},{&quot;textSize&quot;:40,&quot;count&quot;:684},{&quot;textSize&quot;:41,&quot;count&quot;:789},{&quot;textSize&quot;:42,&quot;count&quot;:571},{&quot;textSize&quot;:43,&quot;count&quot;:910},{&quot;textSize&quot;:44,&quot;count&quot;:678},{&quot;textSize&quot;:45,&quot;count&quot;:551},{&quot;textSize&quot;:46,&quot;count&quot;:521},{&quot;textSize&quot;:47,&quot;count&quot;:530},{&quot;textSize&quot;:48,&quot;count&quot;:502},{&quot;textSize&quot;:49,&quot;count&quot;:478},{&quot;textSize&quot;:50,&quot;count&quot;:481},{&quot;textSize&quot;:51,&quot;count&quot;:453},{&quot;textSize&quot;:52,&quot;count&quot;:498},{&quot;textSize&quot;:53,&quot;count&quot;:471},{&quot;textSize&quot;:54,&quot;count&quot;:472},{&quot;textSize&quot;:55,&quot;count&quot;:465},{&quot;textSize&quot;:56,&quot;count&quot;:481},{&quot;textSize&quot;:57,&quot;count&quot;:469},{&quot;textSize&quot;:58,&quot;count&quot;:430},{&quot;textSize&quot;:59,&quot;count&quot;:451},{&quot;textSize&quot;:60,&quot;count&quot;:425},{&quot;textSize&quot;:61,&quot;count&quot;:464},{&quot;textSize&quot;:62,&quot;count&quot;:415},{&quot;textSize&quot;:63,&quot;count&quot;:412},{&quot;textSize&quot;:64,&quot;count&quot;:416},{&quot;textSize&quot;:65,&quot;count&quot;:403},{&quot;textSize&quot;:66,&quot;count&quot;:391},{&quot;textSize&quot;:67,&quot;count&quot;:386},{&quot;textSize&quot;:68,&quot;count&quot;:350},{&quot;textSize&quot;:69,&quot;count&quot;:385},{&quot;textSize&quot;:70,&quot;count&quot;:391},{&quot;textSize&quot;:71,&quot;count&quot;:355},{&quot;textSize&quot;:72,&quot;count&quot;:357},{&quot;textSize&quot;:73,&quot;count&quot;:350},{&quot;textSize&quot;:74,&quot;count&quot;:361},{&quot;textSize&quot;:75,&quot;count&quot;:364},{&quot;textSize&quot;:76,&quot;count&quot;:405},{&quot;textSize&quot;:77,&quot;count&quot;:326},{&quot;textSize&quot;:78,&quot;count&quot;:348},{&quot;textSize&quot;:79,&quot;count&quot;:350},{&quot;textSize&quot;:80,&quot;count&quot;:315},{&quot;textSize&quot;:81,&quot;count&quot;:342},{&quot;textSize&quot;:82,&quot;count&quot;:377},{&quot;textSize&quot;:83,&quot;count&quot;:357},{&quot;textSize&quot;:84,&quot;count&quot;:362},{&quot;textSize&quot;:85,&quot;count&quot;:343},{&quot;textSize&quot;:86,&quot;count&quot;:351},{&quot;textSize&quot;:87,&quot;count&quot;:334},{&quot;textSize&quot;:88,&quot;count&quot;:389},{&quot;textSize&quot;:89,&quot;count&quot;:371},{&quot;textSize&quot;:90,&quot;count&quot;:358},{&quot;textSize&quot;:91,&quot;count&quot;:330},{&quot;textSize&quot;:92,&quot;count&quot;:331},{&quot;textSize&quot;:93,&quot;count&quot;:330},{&quot;textSize&quot;:94,&quot;count&quot;:271},{&quot;textSize&quot;:95,&quot;count&quot;:256},{&quot;textSize&quot;:96,&quot;count&quot;:185},{&quot;textSize&quot;:97,&quot;count&quot;:144},{&quot;textSize&quot;:98,&quot;count&quot;:92},{&quot;textSize&quot;:99,&quot;count&quot;:69},{&quot;textSize&quot;:100,&quot;count&quot;:27}],&quot;genId&quot;:&quot;1238250683&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anoneef065a80ca8237a0f00c65caaccd7e9&quot;,&quot;initialValue&quot;:&quot;100&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon4e15446013fd43381d9c648856540a35&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 37,
      "time" : "Took: 2 seconds 331 milliseconds, at 2017-3-8 20:17"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "C7FA096B691745908DAF2989C95E7032"
    },
    "cell_type" : "code",
    "source" : "testDataset.select($\"text\").where($\"textSize\" === 7)",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res54: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [text: string]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div class=\"df-canvas\">\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon8f787d8612a3762b8965d9c5b3a1e562&quot;,&quot;partitionIndexId&quot;:&quot;anon6788c9dbaf45723a72f0a56e446937b0&quot;,&quot;numPartitions&quot;:137,&quot;dfSchema&quot;:{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;text&quot;,&quot;type&quot;:&quot;string&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]}}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/dataframe','../javascripts/notebook/consoleDir'], \n      function(dataframe, extension) {\n        dataframe.call(data, this, extension);\n      }\n    );/*]]>*/</script>\n      <link rel=\"stylesheet\" href=\"/assets/stylesheets/ipython/css/dataframe.css\" type=\"text/css\"/>\n    </div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 38,
      "time" : "Took: 998 milliseconds, at 2017-3-8 20:17"
    } ]
  }, {
    "metadata" : {
      "id" : "BF18914EE07242649E6A6D534663D7EE"
    },
    "cell_type" : "markdown",
    "source" : "### Use an UDF to apply the predict function to our dataset\n"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "B01DFDE685CC448A80F700BE22EED85E"
    },
    "cell_type" : "code",
    "source" : "val classifyUDF = {\n  val func: String => String = str => classify(str).head._1\n  udf(func)\n}",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "classifyUDF: org.apache.spark.sql.expressions.UserDefinedFunction = UserDefinedFunction(<function1>,StringType,Some(List(StringType)))\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 39,
      "time" : "Took: 582 milliseconds, at 2017-3-8 20:18"
    } ]
  }, {
    "metadata" : {
      "id" : "3C577ACBAE1847CBB9CD1ADE845F14BD"
    },
    "cell_type" : "markdown",
    "source" : "### And we apply the classifier to the test dataset"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "D50DD2D023FF46E0AFB93BC42C9D4528"
    },
    "cell_type" : "code",
    "source" : "val hitAndMiss = testDataset.withColumn(\"lang_classification\", classifyUDF($\"text\"))",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "hitAndMiss: org.apache.spark.sql.DataFrame = [language: string, textSize: int ... 2 more fields]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 40,
      "time" : "Took: 427 milliseconds, at 2017-3-8 20:18"
    } ]
  }, {
    "metadata" : {
      "id" : "E2C948615EF84F278F5DC32F115AEFD7"
    },
    "cell_type" : "markdown",
    "source" : "#### Let's see some of the results"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab70468671-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "76D1FED1200B4DF18E0C96301B4A02E1"
    },
    "cell_type" : "code",
    "source" : "hitAndMiss.sample(false, 0.001).collect",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res60: Array[org.apache.spark.sql.Row] = Array([en,88,information is derived from its own research programme or communicated to the commission,it], [en,29,lay down procedures for the d,es], [en,37,court and while the case is still sub,fr], [en,20,debate on that basis,en], [en,28,sitting in the deliberations,en], [en,10,ex article,fr], [en,91,as directorgeneral by consensus of the members present or if no consensus can be reached by,fr], [en,44,current union copyright framework this direc,en], [en,79,union action which shall complement national policies shall be directed towards,it], [es,8,artículo,es], [es,19,otros conocimientos,it], [es,13,disposiciones,it], [es,18,artículo  artículo,es], [es,21,el consejo europeo se,es], [it,20,disposizioni relativ,it], [it,47,httpeceuropaeuinternalma..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anondf71786cdf0081b289769adc8195b69d&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;70468671&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul70468671\"><li>\n              <a href=\"#tab70468671-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab70468671-1\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab70468671\"><div class=\"tab-pane\" id=\"tab70468671-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anona6594359708d6aca9e356b392245713a&quot;,&quot;dataInit&quot;:[{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:88,&quot;text&quot;:&quot;information is derived from its own research programme or communicated to the commission&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:29,&quot;text&quot;:&quot;lay down procedures for the d&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:37,&quot;text&quot;:&quot;court and while the case is still sub&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:20,&quot;text&quot;:&quot;debate on that basis&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:28,&quot;text&quot;:&quot;sitting in the deliberations&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:10,&quot;text&quot;:&quot;ex article&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:91,&quot;text&quot;:&quot;as directorgeneral by consensus of the members present or if no consensus can be reached by&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:44,&quot;text&quot;:&quot;current union copyright framework this direc&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:79,&quot;text&quot;:&quot;union action which shall complement national policies shall be directed towards&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:8,&quot;text&quot;:&quot;artículo&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:19,&quot;text&quot;:&quot;otros conocimientos&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:13,&quot;text&quot;:&quot;disposiciones&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:18,&quot;text&quot;:&quot;artículo  artículo&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:21,&quot;text&quot;:&quot;el consejo europeo se&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:20,&quot;text&quot;:&quot;disposizioni relativ&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:47,&quot;text&quot;:&quot;httpeceuropaeuinternalmarketcopyrightdocsstudie&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:13,&quot;text&quot;:&quot;rappresentati&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:85,&quot;text&quot;:&quot;faccia parte di unaltra sezione alle condizioni definite dal regolamento di procedura&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:14,&quot;text&quot;:&quot;atti giuridici&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:1,&quot;text&quot;:&quot;i&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:39,&quot;text&quot;:&quot;it  gazzetta ufficiale dellunione europ&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:17,&quot;text&quot;:&quot;repräsentativ ist&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:43,&quot;text&quot;:&quot;gliedstaaten vereinbarten austauschstandard&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:15,&quot;text&quot;:&quot;für ein hohes m&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:88,&quot;text&quot;:&quot;dem wunsch entsprechend den grundsätzen der satzung der vereinten nationen den wohlstand&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:88,&quot;text&quot;:&quot;jeder unionsbürger kann sich an den nach artikel  eingesetzten bürgerbeauftragten wenden&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:68,&quot;text&quot;:&quot;bei aufnahme eines neuen mitglieds erhöht sich das gezeichnete kapit&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:13,&quot;text&quot;:&quot;der rat der g&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:14,&quot;text&quot;:&quot;von den abgabe&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:9,&quot;text&quot;:&quot;kapitel v&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:70,&quot;text&quot;:&quot;preisstabilität und eine während des letzten jahres vor der prüfung ge&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:14,&quot;text&quot;:&quot;exartikel  egv&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:27,&quot;text&quot;:&quot;ist die kommission der auff&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:78,&quot;text&quot;:&quot;gerichts des mitgliedstaats die eine solche frage enthält auch den betreffende&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:84,&quot;text&quot;:&quot;leitet worden ist und bis der rat oder gegebenenfalls der europäische rat diesbezügl&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:89,&quot;text&quot;:&quot;maßnahmen zur behebung dieser sachlage erforderlich sind so kann er von sich aus beschlie&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:36,&quot;text&quot;:&quot;création des communautés européennes&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:85,&quot;text&quot;:&quot;dans un domaine ayant fait lobjet de mesures dharmonisation des directives peuvent ét&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:63,&quot;text&quot;:&quot;titre x  coopération douanière déplacé troisième partie titre i&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:38,&quot;text&quot;:&quot;production de modérateurs de réacteurs&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:9,&quot;text&quot;:&quot;chef la d&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:41,&quot;text&quot;:&quot;ro pas dinformations fournies par le pays&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:73,&quot;text&quot;:&quot;valentes en leur infligeant de ce fait un désavantage dans la concurrence&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:57,&quot;text&quot;:&quot;caractéristiques la période dobservation et les délais de&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:26,&quot;text&quot;:&quot;van het economisch en soci&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:32,&quot;text&quot;:&quot;bij de uitvoer van producten naa&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:59,&quot;text&quot;:&quot;advies voorgelegd aan de lidstaat op wiens grondgebied de i&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:25,&quot;text&quot;:&quot;lidstaten begrepen die ge&quot;,&quot;lang_classification&quot;:&quot;nl&quot;}],&quot;genId&quot;:&quot;1577876022&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"language\",\"textSize\",\"text\",\"lang_classification\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc89d46768ee9d63243fdc54c4f22882c&quot;,&quot;initialValue&quot;:&quot;48&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon61ed20ea5785c1a9ab5143a32f2e3adb&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab70468671-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon8fd4b586b1cfd3ad62a0e8e867eb1571&quot;,&quot;dataInit&quot;:[{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:88,&quot;text&quot;:&quot;information is derived from its own research programme or communicated to the commission&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:29,&quot;text&quot;:&quot;lay down procedures for the d&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:37,&quot;text&quot;:&quot;court and while the case is still sub&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:20,&quot;text&quot;:&quot;debate on that basis&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:28,&quot;text&quot;:&quot;sitting in the deliberations&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:10,&quot;text&quot;:&quot;ex article&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:91,&quot;text&quot;:&quot;as directorgeneral by consensus of the members present or if no consensus can be reached by&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:44,&quot;text&quot;:&quot;current union copyright framework this direc&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:79,&quot;text&quot;:&quot;union action which shall complement national policies shall be directed towards&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:8,&quot;text&quot;:&quot;artículo&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:19,&quot;text&quot;:&quot;otros conocimientos&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:13,&quot;text&quot;:&quot;disposiciones&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:18,&quot;text&quot;:&quot;artículo  artículo&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:21,&quot;text&quot;:&quot;el consejo europeo se&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:20,&quot;text&quot;:&quot;disposizioni relativ&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:47,&quot;text&quot;:&quot;httpeceuropaeuinternalmarketcopyrightdocsstudie&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:13,&quot;text&quot;:&quot;rappresentati&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:85,&quot;text&quot;:&quot;faccia parte di unaltra sezione alle condizioni definite dal regolamento di procedura&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:14,&quot;text&quot;:&quot;atti giuridici&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:1,&quot;text&quot;:&quot;i&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:39,&quot;text&quot;:&quot;it  gazzetta ufficiale dellunione europ&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:17,&quot;text&quot;:&quot;repräsentativ ist&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:43,&quot;text&quot;:&quot;gliedstaaten vereinbarten austauschstandard&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:15,&quot;text&quot;:&quot;für ein hohes m&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:88,&quot;text&quot;:&quot;dem wunsch entsprechend den grundsätzen der satzung der vereinten nationen den wohlstand&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:88,&quot;text&quot;:&quot;jeder unionsbürger kann sich an den nach artikel  eingesetzten bürgerbeauftragten wenden&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:68,&quot;text&quot;:&quot;bei aufnahme eines neuen mitglieds erhöht sich das gezeichnete kapit&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:13,&quot;text&quot;:&quot;der rat der g&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:14,&quot;text&quot;:&quot;von den abgabe&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:9,&quot;text&quot;:&quot;kapitel v&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:70,&quot;text&quot;:&quot;preisstabilität und eine während des letzten jahres vor der prüfung ge&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:14,&quot;text&quot;:&quot;exartikel  egv&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:27,&quot;text&quot;:&quot;ist die kommission der auff&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:78,&quot;text&quot;:&quot;gerichts des mitgliedstaats die eine solche frage enthält auch den betreffende&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:84,&quot;text&quot;:&quot;leitet worden ist und bis der rat oder gegebenenfalls der europäische rat diesbezügl&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:89,&quot;text&quot;:&quot;maßnahmen zur behebung dieser sachlage erforderlich sind so kann er von sich aus beschlie&quot;,&quot;lang_classification&quot;:&quot;de&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:36,&quot;text&quot;:&quot;création des communautés européennes&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:85,&quot;text&quot;:&quot;dans un domaine ayant fait lobjet de mesures dharmonisation des directives peuvent ét&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:63,&quot;text&quot;:&quot;titre x  coopération douanière déplacé troisième partie titre i&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:38,&quot;text&quot;:&quot;production de modérateurs de réacteurs&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:9,&quot;text&quot;:&quot;chef la d&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:41,&quot;text&quot;:&quot;ro pas dinformations fournies par le pays&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:73,&quot;text&quot;:&quot;valentes en leur infligeant de ce fait un désavantage dans la concurrence&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:57,&quot;text&quot;:&quot;caractéristiques la période dobservation et les délais de&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:26,&quot;text&quot;:&quot;van het economisch en soci&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:32,&quot;text&quot;:&quot;bij de uitvoer van producten naa&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:59,&quot;text&quot;:&quot;advies voorgelegd aan de lidstaat op wiens grondgebied de i&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:25,&quot;text&quot;:&quot;lidstaten begrepen die ge&quot;,&quot;lang_classification&quot;:&quot;nl&quot;}],&quot;genId&quot;:&quot;1442114997&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon3143a903bd24a6c5c1ef29ba046a3b6f&quot;,&quot;initialValue&quot;:&quot;48&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon5dcc440e797458694a06466ebec9600a&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 42,
      "time" : "Took: 765 milliseconds, at 2017-3-8 20:19"
    } ]
  }, {
    "metadata" : {
      "id" : "FB51DCBC56E0403FAFE43F1D263178C1"
    },
    "cell_type" : "markdown",
    "source" : "## Let's evaluate the overall hit ratio\nAKA Model Accuracy"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "AC749C8104F8439D9375F975288F412C"
    },
    "cell_type" : "code",
    "source" : "val hitCol = when($\"language\" === $\"lang_classification\", 1L).otherwise(0L)\nval hits = hitAndMiss.withColumn(\"hit\", hitCol).withColumn(\"counter\", lit(1))",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "hitCol: org.apache.spark.sql.Column = CASE WHEN (language = lang_classification) THEN 1 ELSE 0 END\nhits: org.apache.spark.sql.DataFrame = [language: string, textSize: int ... 4 more fields]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 43,
      "time" : "Took: 547 milliseconds, at 2017-3-8 20:19"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "305662E192844B5BBB621DED26100CF4"
    },
    "cell_type" : "code",
    "source" : "val hitRatio = hits.select(sum($\"hit\")/sum($\"counter\")).head.getDouble(0)",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "hitRatio: Double = 0.5474727657597191\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 44,
      "time" : "Took: 2 seconds 378 milliseconds, at 2017-3-8 20:19"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "17FBE2383F5549F396EEF0A97170E11A"
    },
    "cell_type" : "markdown",
    "source" : "## We learnt that our method performs bad on small texts\n### How is the performance in relation to text length (measured in words, not characters)"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "id" : "5A8E8364FBE644CEAF55AE4FEC3CA126"
    },
    "cell_type" : "code",
    "source" : "val hitRatioPerLength = hits.groupBy($\"textSize\").agg(sum($\"hit\")/sum($\"counter\")).orderBy($\"textSize\")",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "hitRatioPerLength: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [textSize: int, (sum(hit) / sum(counter)): double]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 45,
      "time" : "Took: 508 milliseconds, at 2017-3-8 20:20"
    } ]
  }, {
    "metadata" : {
      "id" : "0B9C8D2BC336462BB30072272231EB1E"
    },
    "cell_type" : "markdown",
    "source" : "#Model accuracy vs sentence length"
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab187936961-0\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "9F7DA76D76C74FF4BE8D6C3E02B99776"
    },
    "cell_type" : "code",
    "source" : "val ds = hitRatioPerLength.as[(Long, Double)]",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "ds: org.apache.spark.sql.Dataset[(Long, Double)] = [textSize: int, (sum(hit) / sum(counter)): double]\n"
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : ""
      },
      "output_type" : "execute_result",
      "execution_count" : 46,
      "time" : "Took: 594 milliseconds, at 2017-3-8 20:21"
    } ]
  }, {
    "metadata" : {
      "trusted" : true,
      "input_collapsed" : false,
      "collapsed" : false,
      "presentation" : {
        "tabs_state" : "{\n  \"tab_id\": \"#tab164256751-2\"\n}",
        "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
      },
      "id" : "6E3C23EFF56F46E78C21B7AE89C6ED70"
    },
    "cell_type" : "code",
    "source" : "ds.collect",
    "outputs" : [ {
      "name" : "stdout",
      "output_type" : "stream",
      "text" : "res66: Array[(Long, Double)] = Array((1,0.2398190045248869), (2,0.2222222222222222), (3,0.3116883116883117), (4,0.25744047619047616), (5,0.3354350567465322), (6,0.3276643990929705), (7,0.10885773933790635), (8,0.6803885291396855), (9,0.3687436159346272), (10,0.34929270946681173), (11,0.39562841530054643), (12,0.41262135922330095), (13,0.3954727030625832), (14,0.4520417853751187), (15,0.3687214611872146), (16,0.3297796730632552), (17,0.46685472496473907), (18,0.5346260387811634), (19,0.40027137042062416), (20,0.39859320046893315), (21,0.4035532994923858), (22,0.4578313253012048), (23,0.5), (24,0.45272206303724927), (25,0.46801872074882994), (26,0.5072463768115942), (27,0.48787878787878786), (28,0.5294117647058824), (29,0.4900763358778626), (30,0.5247678018575851), (31,0.5595854922279793)..."
    }, {
      "metadata" : { },
      "data" : {
        "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonc8cef1519e675a1492e46eb2b8d495a7&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;164256751&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul164256751\"><li>\n              <a href=\"#tab164256751-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab164256751-1\"><i class=\"fa fa-dot-circle-o\"/></a>\n            </li><li>\n              <a href=\"#tab164256751-2\"><i class=\"fa fa-line-chart\"/></a>\n            </li><li>\n              <a href=\"#tab164256751-3\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab164256751-4\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab164256751\"><div class=\"tab-pane\" id=\"tab164256751-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonda631984a525b25bb567c12c0e9af50c&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:1,&quot;_2&quot;:0.2398190045248869},{&quot;_1&quot;:2,&quot;_2&quot;:0.2222222222222222},{&quot;_1&quot;:3,&quot;_2&quot;:0.3116883116883117},{&quot;_1&quot;:4,&quot;_2&quot;:0.25744047619047616},{&quot;_1&quot;:5,&quot;_2&quot;:0.3354350567465322},{&quot;_1&quot;:6,&quot;_2&quot;:0.3276643990929705},{&quot;_1&quot;:7,&quot;_2&quot;:0.10885773933790635},{&quot;_1&quot;:8,&quot;_2&quot;:0.6803885291396855},{&quot;_1&quot;:9,&quot;_2&quot;:0.3687436159346272},{&quot;_1&quot;:10,&quot;_2&quot;:0.34929270946681173},{&quot;_1&quot;:11,&quot;_2&quot;:0.39562841530054643},{&quot;_1&quot;:12,&quot;_2&quot;:0.41262135922330095},{&quot;_1&quot;:13,&quot;_2&quot;:0.3954727030625832},{&quot;_1&quot;:14,&quot;_2&quot;:0.4520417853751187},{&quot;_1&quot;:15,&quot;_2&quot;:0.3687214611872146},{&quot;_1&quot;:16,&quot;_2&quot;:0.3297796730632552},{&quot;_1&quot;:17,&quot;_2&quot;:0.46685472496473907},{&quot;_1&quot;:18,&quot;_2&quot;:0.5346260387811634},{&quot;_1&quot;:19,&quot;_2&quot;:0.40027137042062416},{&quot;_1&quot;:20,&quot;_2&quot;:0.39859320046893315},{&quot;_1&quot;:21,&quot;_2&quot;:0.4035532994923858},{&quot;_1&quot;:22,&quot;_2&quot;:0.4578313253012048},{&quot;_1&quot;:23,&quot;_2&quot;:0.5},{&quot;_1&quot;:24,&quot;_2&quot;:0.45272206303724927},{&quot;_1&quot;:25,&quot;_2&quot;:0.46801872074882994},{&quot;_1&quot;:26,&quot;_2&quot;:0.5072463768115942},{&quot;_1&quot;:27,&quot;_2&quot;:0.48787878787878786},{&quot;_1&quot;:28,&quot;_2&quot;:0.5294117647058824},{&quot;_1&quot;:29,&quot;_2&quot;:0.4900763358778626},{&quot;_1&quot;:30,&quot;_2&quot;:0.5247678018575851},{&quot;_1&quot;:31,&quot;_2&quot;:0.5595854922279793},{&quot;_1&quot;:32,&quot;_2&quot;:0.5472868217054263},{&quot;_1&quot;:33,&quot;_2&quot;:0.5826771653543307},{&quot;_1&quot;:34,&quot;_2&quot;:0.6061068702290077},{&quot;_1&quot;:35,&quot;_2&quot;:0.585949177877429},{&quot;_1&quot;:36,&quot;_2&quot;:0.5996563573883161},{&quot;_1&quot;:37,&quot;_2&quot;:0.5406871609403255},{&quot;_1&quot;:38,&quot;_2&quot;:0.46055979643765904},{&quot;_1&quot;:39,&quot;_2&quot;:0.605683836589698},{&quot;_1&quot;:40,&quot;_2&quot;:0.44747612551159616},{&quot;_1&quot;:41,&quot;_2&quot;:0.46733668341708545},{&quot;_1&quot;:42,&quot;_2&quot;:0.6565836298932385},{&quot;_1&quot;:43,&quot;_2&quot;:0.7612107623318386},{&quot;_1&quot;:44,&quot;_2&quot;:0.4791946308724832},{&quot;_1&quot;:45,&quot;_2&quot;:0.6341948310139165},{&quot;_1&quot;:46,&quot;_2&quot;:0.6396761133603239},{&quot;_1&quot;:47,&quot;_2&quot;:0.6237623762376238},{&quot;_1&quot;:48,&quot;_2&quot;:0.6566604127579737},{&quot;_1&quot;:49,&quot;_2&quot;:0.6953781512605042},{&quot;_1&quot;:50,&quot;_2&quot;:0.6808943089430894},{&quot;_1&quot;:51,&quot;_2&quot;:0.7105788423153693},{&quot;_1&quot;:52,&quot;_2&quot;:0.6875},{&quot;_1&quot;:53,&quot;_2&quot;:0.682261208576998},{&quot;_1&quot;:54,&quot;_2&quot;:0.6859504132231405},{&quot;_1&quot;:55,&quot;_2&quot;:0.7142857142857143},{&quot;_1&quot;:56,&quot;_2&quot;:0.7533333333333333},{&quot;_1&quot;:57,&quot;_2&quot;:0.7096114519427403},{&quot;_1&quot;:58,&quot;_2&quot;:0.6997742663656885},{&quot;_1&quot;:59,&quot;_2&quot;:0.7464788732394366},{&quot;_1&quot;:60,&quot;_2&quot;:0.7297921478060047},{&quot;_1&quot;:61,&quot;_2&quot;:0.7304347826086957},{&quot;_1&quot;:62,&quot;_2&quot;:0.728735632183908},{&quot;_1&quot;:63,&quot;_2&quot;:0.7244897959183674},{&quot;_1&quot;:64,&quot;_2&quot;:0.7388235294117647},{&quot;_1&quot;:65,&quot;_2&quot;:0.7458033573141487},{&quot;_1&quot;:66,&quot;_2&quot;:0.754950495049505},{&quot;_1&quot;:67,&quot;_2&quot;:0.7709923664122137},{&quot;_1&quot;:68,&quot;_2&quot;:0.7570332480818415},{&quot;_1&quot;:69,&quot;_2&quot;:0.8072916666666666},{&quot;_1&quot;:70,&quot;_2&quot;:0.767379679144385},{&quot;_1&quot;:71,&quot;_2&quot;:0.782051282051282},{&quot;_1&quot;:72,&quot;_2&quot;:0.7844827586206896},{&quot;_1&quot;:73,&quot;_2&quot;:0.7553763440860215},{&quot;_1&quot;:74,&quot;_2&quot;:0.7436619718309859},{&quot;_1&quot;:75,&quot;_2&quot;:0.7896039603960396},{&quot;_1&quot;:76,&quot;_2&quot;:0.8333333333333334},{&quot;_1&quot;:77,&quot;_2&quot;:0.8165829145728644},{&quot;_1&quot;:78,&quot;_2&quot;:0.7630769230769231},{&quot;_1&quot;:79,&quot;_2&quot;:0.8045977011494253},{&quot;_1&quot;:80,&quot;_2&quot;:0.790633608815427},{&quot;_1&quot;:81,&quot;_2&quot;:0.8217522658610272},{&quot;_1&quot;:82,&quot;_2&quot;:0.7863013698630137},{&quot;_1&quot;:83,&quot;_2&quot;:0.7801608579088471},{&quot;_1&quot;:84,&quot;_2&quot;:0.7879656160458453},{&quot;_1&quot;:85,&quot;_2&quot;:0.7928994082840237},{&quot;_1&quot;:86,&quot;_2&quot;:0.8497267759562842},{&quot;_1&quot;:87,&quot;_2&quot;:0.792022792022792},{&quot;_1&quot;:88,&quot;_2&quot;:0.8051575931232091},{&quot;_1&quot;:89,&quot;_2&quot;:0.8409090909090909},{&quot;_1&quot;:90,&quot;_2&quot;:0.8194444444444444},{&quot;_1&quot;:91,&quot;_2&quot;:0.8666666666666667},{&quot;_1&quot;:92,&quot;_2&quot;:0.8328267477203647},{&quot;_1&quot;:93,&quot;_2&quot;:0.8392282958199357},{&quot;_1&quot;:94,&quot;_2&quot;:0.791970802919708},{&quot;_1&quot;:95,&quot;_2&quot;:0.8354430379746836},{&quot;_1&quot;:96,&quot;_2&quot;:0.8372093023255814},{&quot;_1&quot;:97,&quot;_2&quot;:0.8357142857142857},{&quot;_1&quot;:98,&quot;_2&quot;:0.75},{&quot;_1&quot;:99,&quot;_2&quot;:0.8235294117647058},{&quot;_1&quot;:100,&quot;_2&quot;:0.8333333333333334}],&quot;genId&quot;:&quot;691057281&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon90f4290d5b1522822fde06d027304cc2&quot;,&quot;initialValue&quot;:&quot;100&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon68a572842432aaabf5607762db44854c&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab164256751-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon9c07144174986dad45a786d76cc6417a&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:1,&quot;_2&quot;:0.2398190045248869},{&quot;_1&quot;:2,&quot;_2&quot;:0.2222222222222222},{&quot;_1&quot;:3,&quot;_2&quot;:0.3116883116883117},{&quot;_1&quot;:4,&quot;_2&quot;:0.25744047619047616},{&quot;_1&quot;:5,&quot;_2&quot;:0.3354350567465322},{&quot;_1&quot;:6,&quot;_2&quot;:0.3276643990929705},{&quot;_1&quot;:7,&quot;_2&quot;:0.10885773933790635},{&quot;_1&quot;:8,&quot;_2&quot;:0.6803885291396855},{&quot;_1&quot;:9,&quot;_2&quot;:0.3687436159346272},{&quot;_1&quot;:10,&quot;_2&quot;:0.34929270946681173},{&quot;_1&quot;:11,&quot;_2&quot;:0.39562841530054643},{&quot;_1&quot;:12,&quot;_2&quot;:0.41262135922330095},{&quot;_1&quot;:13,&quot;_2&quot;:0.3954727030625832},{&quot;_1&quot;:14,&quot;_2&quot;:0.4520417853751187},{&quot;_1&quot;:15,&quot;_2&quot;:0.3687214611872146},{&quot;_1&quot;:16,&quot;_2&quot;:0.3297796730632552},{&quot;_1&quot;:17,&quot;_2&quot;:0.46685472496473907},{&quot;_1&quot;:18,&quot;_2&quot;:0.5346260387811634},{&quot;_1&quot;:19,&quot;_2&quot;:0.40027137042062416},{&quot;_1&quot;:20,&quot;_2&quot;:0.39859320046893315},{&quot;_1&quot;:21,&quot;_2&quot;:0.4035532994923858},{&quot;_1&quot;:22,&quot;_2&quot;:0.4578313253012048},{&quot;_1&quot;:23,&quot;_2&quot;:0.5},{&quot;_1&quot;:24,&quot;_2&quot;:0.45272206303724927},{&quot;_1&quot;:25,&quot;_2&quot;:0.46801872074882994},{&quot;_1&quot;:26,&quot;_2&quot;:0.5072463768115942},{&quot;_1&quot;:27,&quot;_2&quot;:0.48787878787878786},{&quot;_1&quot;:28,&quot;_2&quot;:0.5294117647058824},{&quot;_1&quot;:29,&quot;_2&quot;:0.4900763358778626},{&quot;_1&quot;:30,&quot;_2&quot;:0.5247678018575851},{&quot;_1&quot;:31,&quot;_2&quot;:0.5595854922279793},{&quot;_1&quot;:32,&quot;_2&quot;:0.5472868217054263},{&quot;_1&quot;:33,&quot;_2&quot;:0.5826771653543307},{&quot;_1&quot;:34,&quot;_2&quot;:0.6061068702290077},{&quot;_1&quot;:35,&quot;_2&quot;:0.585949177877429},{&quot;_1&quot;:36,&quot;_2&quot;:0.5996563573883161},{&quot;_1&quot;:37,&quot;_2&quot;:0.5406871609403255},{&quot;_1&quot;:38,&quot;_2&quot;:0.46055979643765904},{&quot;_1&quot;:39,&quot;_2&quot;:0.605683836589698},{&quot;_1&quot;:40,&quot;_2&quot;:0.44747612551159616},{&quot;_1&quot;:41,&quot;_2&quot;:0.46733668341708545},{&quot;_1&quot;:42,&quot;_2&quot;:0.6565836298932385},{&quot;_1&quot;:43,&quot;_2&quot;:0.7612107623318386},{&quot;_1&quot;:44,&quot;_2&quot;:0.4791946308724832},{&quot;_1&quot;:45,&quot;_2&quot;:0.6341948310139165},{&quot;_1&quot;:46,&quot;_2&quot;:0.6396761133603239},{&quot;_1&quot;:47,&quot;_2&quot;:0.6237623762376238},{&quot;_1&quot;:48,&quot;_2&quot;:0.6566604127579737},{&quot;_1&quot;:49,&quot;_2&quot;:0.6953781512605042},{&quot;_1&quot;:50,&quot;_2&quot;:0.6808943089430894},{&quot;_1&quot;:51,&quot;_2&quot;:0.7105788423153693},{&quot;_1&quot;:52,&quot;_2&quot;:0.6875},{&quot;_1&quot;:53,&quot;_2&quot;:0.682261208576998},{&quot;_1&quot;:54,&quot;_2&quot;:0.6859504132231405},{&quot;_1&quot;:55,&quot;_2&quot;:0.7142857142857143},{&quot;_1&quot;:56,&quot;_2&quot;:0.7533333333333333},{&quot;_1&quot;:57,&quot;_2&quot;:0.7096114519427403},{&quot;_1&quot;:58,&quot;_2&quot;:0.6997742663656885},{&quot;_1&quot;:59,&quot;_2&quot;:0.7464788732394366},{&quot;_1&quot;:60,&quot;_2&quot;:0.7297921478060047},{&quot;_1&quot;:61,&quot;_2&quot;:0.7304347826086957},{&quot;_1&quot;:62,&quot;_2&quot;:0.728735632183908},{&quot;_1&quot;:63,&quot;_2&quot;:0.7244897959183674},{&quot;_1&quot;:64,&quot;_2&quot;:0.7388235294117647},{&quot;_1&quot;:65,&quot;_2&quot;:0.7458033573141487},{&quot;_1&quot;:66,&quot;_2&quot;:0.754950495049505},{&quot;_1&quot;:67,&quot;_2&quot;:0.7709923664122137},{&quot;_1&quot;:68,&quot;_2&quot;:0.7570332480818415},{&quot;_1&quot;:69,&quot;_2&quot;:0.8072916666666666},{&quot;_1&quot;:70,&quot;_2&quot;:0.767379679144385},{&quot;_1&quot;:71,&quot;_2&quot;:0.782051282051282},{&quot;_1&quot;:72,&quot;_2&quot;:0.7844827586206896},{&quot;_1&quot;:73,&quot;_2&quot;:0.7553763440860215},{&quot;_1&quot;:74,&quot;_2&quot;:0.7436619718309859},{&quot;_1&quot;:75,&quot;_2&quot;:0.7896039603960396},{&quot;_1&quot;:76,&quot;_2&quot;:0.8333333333333334},{&quot;_1&quot;:77,&quot;_2&quot;:0.8165829145728644},{&quot;_1&quot;:78,&quot;_2&quot;:0.7630769230769231},{&quot;_1&quot;:79,&quot;_2&quot;:0.8045977011494253},{&quot;_1&quot;:80,&quot;_2&quot;:0.790633608815427},{&quot;_1&quot;:81,&quot;_2&quot;:0.8217522658610272},{&quot;_1&quot;:82,&quot;_2&quot;:0.7863013698630137},{&quot;_1&quot;:83,&quot;_2&quot;:0.7801608579088471},{&quot;_1&quot;:84,&quot;_2&quot;:0.7879656160458453},{&quot;_1&quot;:85,&quot;_2&quot;:0.7928994082840237},{&quot;_1&quot;:86,&quot;_2&quot;:0.8497267759562842},{&quot;_1&quot;:87,&quot;_2&quot;:0.792022792022792},{&quot;_1&quot;:88,&quot;_2&quot;:0.8051575931232091},{&quot;_1&quot;:89,&quot;_2&quot;:0.8409090909090909},{&quot;_1&quot;:90,&quot;_2&quot;:0.8194444444444444},{&quot;_1&quot;:91,&quot;_2&quot;:0.8666666666666667},{&quot;_1&quot;:92,&quot;_2&quot;:0.8328267477203647},{&quot;_1&quot;:93,&quot;_2&quot;:0.8392282958199357},{&quot;_1&quot;:94,&quot;_2&quot;:0.791970802919708},{&quot;_1&quot;:95,&quot;_2&quot;:0.8354430379746836},{&quot;_1&quot;:96,&quot;_2&quot;:0.8372093023255814},{&quot;_1&quot;:97,&quot;_2&quot;:0.8357142857142857},{&quot;_1&quot;:98,&quot;_2&quot;:0.75},{&quot;_1&quot;:99,&quot;_2&quot;:0.8235294117647058},{&quot;_1&quot;:100,&quot;_2&quot;:0.8333333333333334}],&quot;genId&quot;:&quot;1505855093&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/scatterChart'], \n      function(playground, _magicscatterChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicscatterChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon780a370a783d4945fd5139ca3c150d45&quot;,&quot;initialValue&quot;:&quot;100&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon2b6cf96c5ff8bb14027d2e31030de245&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab164256751-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonb7b3ec727a1c139b3eda8d54262b20e4&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:1,&quot;_2&quot;:0.2398190045248869},{&quot;_1&quot;:2,&quot;_2&quot;:0.2222222222222222},{&quot;_1&quot;:3,&quot;_2&quot;:0.3116883116883117},{&quot;_1&quot;:4,&quot;_2&quot;:0.25744047619047616},{&quot;_1&quot;:5,&quot;_2&quot;:0.3354350567465322},{&quot;_1&quot;:6,&quot;_2&quot;:0.3276643990929705},{&quot;_1&quot;:7,&quot;_2&quot;:0.10885773933790635},{&quot;_1&quot;:8,&quot;_2&quot;:0.6803885291396855},{&quot;_1&quot;:9,&quot;_2&quot;:0.3687436159346272},{&quot;_1&quot;:10,&quot;_2&quot;:0.34929270946681173},{&quot;_1&quot;:11,&quot;_2&quot;:0.39562841530054643},{&quot;_1&quot;:12,&quot;_2&quot;:0.41262135922330095},{&quot;_1&quot;:13,&quot;_2&quot;:0.3954727030625832},{&quot;_1&quot;:14,&quot;_2&quot;:0.4520417853751187},{&quot;_1&quot;:15,&quot;_2&quot;:0.3687214611872146},{&quot;_1&quot;:16,&quot;_2&quot;:0.3297796730632552},{&quot;_1&quot;:17,&quot;_2&quot;:0.46685472496473907},{&quot;_1&quot;:18,&quot;_2&quot;:0.5346260387811634},{&quot;_1&quot;:19,&quot;_2&quot;:0.40027137042062416},{&quot;_1&quot;:20,&quot;_2&quot;:0.39859320046893315},{&quot;_1&quot;:21,&quot;_2&quot;:0.4035532994923858},{&quot;_1&quot;:22,&quot;_2&quot;:0.4578313253012048},{&quot;_1&quot;:23,&quot;_2&quot;:0.5},{&quot;_1&quot;:24,&quot;_2&quot;:0.45272206303724927},{&quot;_1&quot;:25,&quot;_2&quot;:0.46801872074882994},{&quot;_1&quot;:26,&quot;_2&quot;:0.5072463768115942},{&quot;_1&quot;:27,&quot;_2&quot;:0.48787878787878786},{&quot;_1&quot;:28,&quot;_2&quot;:0.5294117647058824},{&quot;_1&quot;:29,&quot;_2&quot;:0.4900763358778626},{&quot;_1&quot;:30,&quot;_2&quot;:0.5247678018575851},{&quot;_1&quot;:31,&quot;_2&quot;:0.5595854922279793},{&quot;_1&quot;:32,&quot;_2&quot;:0.5472868217054263},{&quot;_1&quot;:33,&quot;_2&quot;:0.5826771653543307},{&quot;_1&quot;:34,&quot;_2&quot;:0.6061068702290077},{&quot;_1&quot;:35,&quot;_2&quot;:0.585949177877429},{&quot;_1&quot;:36,&quot;_2&quot;:0.5996563573883161},{&quot;_1&quot;:37,&quot;_2&quot;:0.5406871609403255},{&quot;_1&quot;:38,&quot;_2&quot;:0.46055979643765904},{&quot;_1&quot;:39,&quot;_2&quot;:0.605683836589698},{&quot;_1&quot;:40,&quot;_2&quot;:0.44747612551159616},{&quot;_1&quot;:41,&quot;_2&quot;:0.46733668341708545},{&quot;_1&quot;:42,&quot;_2&quot;:0.6565836298932385},{&quot;_1&quot;:43,&quot;_2&quot;:0.7612107623318386},{&quot;_1&quot;:44,&quot;_2&quot;:0.4791946308724832},{&quot;_1&quot;:45,&quot;_2&quot;:0.6341948310139165},{&quot;_1&quot;:46,&quot;_2&quot;:0.6396761133603239},{&quot;_1&quot;:47,&quot;_2&quot;:0.6237623762376238},{&quot;_1&quot;:48,&quot;_2&quot;:0.6566604127579737},{&quot;_1&quot;:49,&quot;_2&quot;:0.6953781512605042},{&quot;_1&quot;:50,&quot;_2&quot;:0.6808943089430894},{&quot;_1&quot;:51,&quot;_2&quot;:0.7105788423153693},{&quot;_1&quot;:52,&quot;_2&quot;:0.6875},{&quot;_1&quot;:53,&quot;_2&quot;:0.682261208576998},{&quot;_1&quot;:54,&quot;_2&quot;:0.6859504132231405},{&quot;_1&quot;:55,&quot;_2&quot;:0.7142857142857143},{&quot;_1&quot;:56,&quot;_2&quot;:0.7533333333333333},{&quot;_1&quot;:57,&quot;_2&quot;:0.7096114519427403},{&quot;_1&quot;:58,&quot;_2&quot;:0.6997742663656885},{&quot;_1&quot;:59,&quot;_2&quot;:0.7464788732394366},{&quot;_1&quot;:60,&quot;_2&quot;:0.7297921478060047},{&quot;_1&quot;:61,&quot;_2&quot;:0.7304347826086957},{&quot;_1&quot;:62,&quot;_2&quot;:0.728735632183908},{&quot;_1&quot;:63,&quot;_2&quot;:0.7244897959183674},{&quot;_1&quot;:64,&quot;_2&quot;:0.7388235294117647},{&quot;_1&quot;:65,&quot;_2&quot;:0.7458033573141487},{&quot;_1&quot;:66,&quot;_2&quot;:0.754950495049505},{&quot;_1&quot;:67,&quot;_2&quot;:0.7709923664122137},{&quot;_1&quot;:68,&quot;_2&quot;:0.7570332480818415},{&quot;_1&quot;:69,&quot;_2&quot;:0.8072916666666666},{&quot;_1&quot;:70,&quot;_2&quot;:0.767379679144385},{&quot;_1&quot;:71,&quot;_2&quot;:0.782051282051282},{&quot;_1&quot;:72,&quot;_2&quot;:0.7844827586206896},{&quot;_1&quot;:73,&quot;_2&quot;:0.7553763440860215},{&quot;_1&quot;:74,&quot;_2&quot;:0.7436619718309859},{&quot;_1&quot;:75,&quot;_2&quot;:0.7896039603960396},{&quot;_1&quot;:76,&quot;_2&quot;:0.8333333333333334},{&quot;_1&quot;:77,&quot;_2&quot;:0.8165829145728644},{&quot;_1&quot;:78,&quot;_2&quot;:0.7630769230769231},{&quot;_1&quot;:79,&quot;_2&quot;:0.8045977011494253},{&quot;_1&quot;:80,&quot;_2&quot;:0.790633608815427},{&quot;_1&quot;:81,&quot;_2&quot;:0.8217522658610272},{&quot;_1&quot;:82,&quot;_2&quot;:0.7863013698630137},{&quot;_1&quot;:83,&quot;_2&quot;:0.7801608579088471},{&quot;_1&quot;:84,&quot;_2&quot;:0.7879656160458453},{&quot;_1&quot;:85,&quot;_2&quot;:0.7928994082840237},{&quot;_1&quot;:86,&quot;_2&quot;:0.8497267759562842},{&quot;_1&quot;:87,&quot;_2&quot;:0.792022792022792},{&quot;_1&quot;:88,&quot;_2&quot;:0.8051575931232091},{&quot;_1&quot;:89,&quot;_2&quot;:0.8409090909090909},{&quot;_1&quot;:90,&quot;_2&quot;:0.8194444444444444},{&quot;_1&quot;:91,&quot;_2&quot;:0.8666666666666667},{&quot;_1&quot;:92,&quot;_2&quot;:0.8328267477203647},{&quot;_1&quot;:93,&quot;_2&quot;:0.8392282958199357},{&quot;_1&quot;:94,&quot;_2&quot;:0.791970802919708},{&quot;_1&quot;:95,&quot;_2&quot;:0.8354430379746836},{&quot;_1&quot;:96,&quot;_2&quot;:0.8372093023255814},{&quot;_1&quot;:97,&quot;_2&quot;:0.8357142857142857},{&quot;_1&quot;:98,&quot;_2&quot;:0.75},{&quot;_1&quot;:99,&quot;_2&quot;:0.8235294117647058},{&quot;_1&quot;:100,&quot;_2&quot;:0.8333333333333334}],&quot;genId&quot;:&quot;1586358814&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/lineChart'], \n      function(playground, _magiclineChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magiclineChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona9be153e747f1e9702d1ea08bd0cb170&quot;,&quot;initialValue&quot;:&quot;100&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon8c335f4743131600000615e8a11c4aa0&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab164256751-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anone0e4b9edd4fc8b6a8a26580221e3bd9d&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:1,&quot;_2&quot;:0.2398190045248869},{&quot;_1&quot;:2,&quot;_2&quot;:0.2222222222222222},{&quot;_1&quot;:3,&quot;_2&quot;:0.3116883116883117},{&quot;_1&quot;:4,&quot;_2&quot;:0.25744047619047616},{&quot;_1&quot;:5,&quot;_2&quot;:0.3354350567465322},{&quot;_1&quot;:6,&quot;_2&quot;:0.3276643990929705},{&quot;_1&quot;:7,&quot;_2&quot;:0.10885773933790635},{&quot;_1&quot;:8,&quot;_2&quot;:0.6803885291396855},{&quot;_1&quot;:9,&quot;_2&quot;:0.3687436159346272},{&quot;_1&quot;:10,&quot;_2&quot;:0.34929270946681173},{&quot;_1&quot;:11,&quot;_2&quot;:0.39562841530054643},{&quot;_1&quot;:12,&quot;_2&quot;:0.41262135922330095},{&quot;_1&quot;:13,&quot;_2&quot;:0.3954727030625832},{&quot;_1&quot;:14,&quot;_2&quot;:0.4520417853751187},{&quot;_1&quot;:15,&quot;_2&quot;:0.3687214611872146},{&quot;_1&quot;:16,&quot;_2&quot;:0.3297796730632552},{&quot;_1&quot;:17,&quot;_2&quot;:0.46685472496473907},{&quot;_1&quot;:18,&quot;_2&quot;:0.5346260387811634},{&quot;_1&quot;:19,&quot;_2&quot;:0.40027137042062416},{&quot;_1&quot;:20,&quot;_2&quot;:0.39859320046893315},{&quot;_1&quot;:21,&quot;_2&quot;:0.4035532994923858},{&quot;_1&quot;:22,&quot;_2&quot;:0.4578313253012048},{&quot;_1&quot;:23,&quot;_2&quot;:0.5},{&quot;_1&quot;:24,&quot;_2&quot;:0.45272206303724927},{&quot;_1&quot;:25,&quot;_2&quot;:0.46801872074882994},{&quot;_1&quot;:26,&quot;_2&quot;:0.5072463768115942},{&quot;_1&quot;:27,&quot;_2&quot;:0.48787878787878786},{&quot;_1&quot;:28,&quot;_2&quot;:0.5294117647058824},{&quot;_1&quot;:29,&quot;_2&quot;:0.4900763358778626},{&quot;_1&quot;:30,&quot;_2&quot;:0.5247678018575851},{&quot;_1&quot;:31,&quot;_2&quot;:0.5595854922279793},{&quot;_1&quot;:32,&quot;_2&quot;:0.5472868217054263},{&quot;_1&quot;:33,&quot;_2&quot;:0.5826771653543307},{&quot;_1&quot;:34,&quot;_2&quot;:0.6061068702290077},{&quot;_1&quot;:35,&quot;_2&quot;:0.585949177877429},{&quot;_1&quot;:36,&quot;_2&quot;:0.5996563573883161},{&quot;_1&quot;:37,&quot;_2&quot;:0.5406871609403255},{&quot;_1&quot;:38,&quot;_2&quot;:0.46055979643765904},{&quot;_1&quot;:39,&quot;_2&quot;:0.605683836589698},{&quot;_1&quot;:40,&quot;_2&quot;:0.44747612551159616},{&quot;_1&quot;:41,&quot;_2&quot;:0.46733668341708545},{&quot;_1&quot;:42,&quot;_2&quot;:0.6565836298932385},{&quot;_1&quot;:43,&quot;_2&quot;:0.7612107623318386},{&quot;_1&quot;:44,&quot;_2&quot;:0.4791946308724832},{&quot;_1&quot;:45,&quot;_2&quot;:0.6341948310139165},{&quot;_1&quot;:46,&quot;_2&quot;:0.6396761133603239},{&quot;_1&quot;:47,&quot;_2&quot;:0.6237623762376238},{&quot;_1&quot;:48,&quot;_2&quot;:0.6566604127579737},{&quot;_1&quot;:49,&quot;_2&quot;:0.6953781512605042},{&quot;_1&quot;:50,&quot;_2&quot;:0.6808943089430894},{&quot;_1&quot;:51,&quot;_2&quot;:0.7105788423153693},{&quot;_1&quot;:52,&quot;_2&quot;:0.6875},{&quot;_1&quot;:53,&quot;_2&quot;:0.682261208576998},{&quot;_1&quot;:54,&quot;_2&quot;:0.6859504132231405},{&quot;_1&quot;:55,&quot;_2&quot;:0.7142857142857143},{&quot;_1&quot;:56,&quot;_2&quot;:0.7533333333333333},{&quot;_1&quot;:57,&quot;_2&quot;:0.7096114519427403},{&quot;_1&quot;:58,&quot;_2&quot;:0.6997742663656885},{&quot;_1&quot;:59,&quot;_2&quot;:0.7464788732394366},{&quot;_1&quot;:60,&quot;_2&quot;:0.7297921478060047},{&quot;_1&quot;:61,&quot;_2&quot;:0.7304347826086957},{&quot;_1&quot;:62,&quot;_2&quot;:0.728735632183908},{&quot;_1&quot;:63,&quot;_2&quot;:0.7244897959183674},{&quot;_1&quot;:64,&quot;_2&quot;:0.7388235294117647},{&quot;_1&quot;:65,&quot;_2&quot;:0.7458033573141487},{&quot;_1&quot;:66,&quot;_2&quot;:0.754950495049505},{&quot;_1&quot;:67,&quot;_2&quot;:0.7709923664122137},{&quot;_1&quot;:68,&quot;_2&quot;:0.7570332480818415},{&quot;_1&quot;:69,&quot;_2&quot;:0.8072916666666666},{&quot;_1&quot;:70,&quot;_2&quot;:0.767379679144385},{&quot;_1&quot;:71,&quot;_2&quot;:0.782051282051282},{&quot;_1&quot;:72,&quot;_2&quot;:0.7844827586206896},{&quot;_1&quot;:73,&quot;_2&quot;:0.7553763440860215},{&quot;_1&quot;:74,&quot;_2&quot;:0.7436619718309859},{&quot;_1&quot;:75,&quot;_2&quot;:0.7896039603960396},{&quot;_1&quot;:76,&quot;_2&quot;:0.8333333333333334},{&quot;_1&quot;:77,&quot;_2&quot;:0.8165829145728644},{&quot;_1&quot;:78,&quot;_2&quot;:0.7630769230769231},{&quot;_1&quot;:79,&quot;_2&quot;:0.8045977011494253},{&quot;_1&quot;:80,&quot;_2&quot;:0.790633608815427},{&quot;_1&quot;:81,&quot;_2&quot;:0.8217522658610272},{&quot;_1&quot;:82,&quot;_2&quot;:0.7863013698630137},{&quot;_1&quot;:83,&quot;_2&quot;:0.7801608579088471},{&quot;_1&quot;:84,&quot;_2&quot;:0.7879656160458453},{&quot;_1&quot;:85,&quot;_2&quot;:0.7928994082840237},{&quot;_1&quot;:86,&quot;_2&quot;:0.8497267759562842},{&quot;_1&quot;:87,&quot;_2&quot;:0.792022792022792},{&quot;_1&quot;:88,&quot;_2&quot;:0.8051575931232091},{&quot;_1&quot;:89,&quot;_2&quot;:0.8409090909090909},{&quot;_1&quot;:90,&quot;_2&quot;:0.8194444444444444},{&quot;_1&quot;:91,&quot;_2&quot;:0.8666666666666667},{&quot;_1&quot;:92,&quot;_2&quot;:0.8328267477203647},{&quot;_1&quot;:93,&quot;_2&quot;:0.8392282958199357},{&quot;_1&quot;:94,&quot;_2&quot;:0.791970802919708},{&quot;_1&quot;:95,&quot;_2&quot;:0.8354430379746836},{&quot;_1&quot;:96,&quot;_2&quot;:0.8372093023255814},{&quot;_1&quot;:97,&quot;_2&quot;:0.8357142857142857},{&quot;_1&quot;:98,&quot;_2&quot;:0.75},{&quot;_1&quot;:99,&quot;_2&quot;:0.8235294117647058},{&quot;_1&quot;:100,&quot;_2&quot;:0.8333333333333334}],&quot;genId&quot;:&quot;1363273187&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anondcc0045513b9056dab90b3381b6715ef&quot;,&quot;initialValue&quot;:&quot;100&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon6c23df24f2abad3558b1856aaf3137d2&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab164256751-4\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonf06b8d6c041991899a200b8a4c3aa5e0&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:1,&quot;_2&quot;:0.2398190045248869},{&quot;_1&quot;:2,&quot;_2&quot;:0.2222222222222222},{&quot;_1&quot;:3,&quot;_2&quot;:0.3116883116883117},{&quot;_1&quot;:4,&quot;_2&quot;:0.25744047619047616},{&quot;_1&quot;:5,&quot;_2&quot;:0.3354350567465322},{&quot;_1&quot;:6,&quot;_2&quot;:0.3276643990929705},{&quot;_1&quot;:7,&quot;_2&quot;:0.10885773933790635},{&quot;_1&quot;:8,&quot;_2&quot;:0.6803885291396855},{&quot;_1&quot;:9,&quot;_2&quot;:0.3687436159346272},{&quot;_1&quot;:10,&quot;_2&quot;:0.34929270946681173},{&quot;_1&quot;:11,&quot;_2&quot;:0.39562841530054643},{&quot;_1&quot;:12,&quot;_2&quot;:0.41262135922330095},{&quot;_1&quot;:13,&quot;_2&quot;:0.3954727030625832},{&quot;_1&quot;:14,&quot;_2&quot;:0.4520417853751187},{&quot;_1&quot;:15,&quot;_2&quot;:0.3687214611872146},{&quot;_1&quot;:16,&quot;_2&quot;:0.3297796730632552},{&quot;_1&quot;:17,&quot;_2&quot;:0.46685472496473907},{&quot;_1&quot;:18,&quot;_2&quot;:0.5346260387811634},{&quot;_1&quot;:19,&quot;_2&quot;:0.40027137042062416},{&quot;_1&quot;:20,&quot;_2&quot;:0.39859320046893315},{&quot;_1&quot;:21,&quot;_2&quot;:0.4035532994923858},{&quot;_1&quot;:22,&quot;_2&quot;:0.4578313253012048},{&quot;_1&quot;:23,&quot;_2&quot;:0.5},{&quot;_1&quot;:24,&quot;_2&quot;:0.45272206303724927},{&quot;_1&quot;:25,&quot;_2&quot;:0.46801872074882994},{&quot;_1&quot;:26,&quot;_2&quot;:0.5072463768115942},{&quot;_1&quot;:27,&quot;_2&quot;:0.48787878787878786},{&quot;_1&quot;:28,&quot;_2&quot;:0.5294117647058824},{&quot;_1&quot;:29,&quot;_2&quot;:0.4900763358778626},{&quot;_1&quot;:30,&quot;_2&quot;:0.5247678018575851},{&quot;_1&quot;:31,&quot;_2&quot;:0.5595854922279793},{&quot;_1&quot;:32,&quot;_2&quot;:0.5472868217054263},{&quot;_1&quot;:33,&quot;_2&quot;:0.5826771653543307},{&quot;_1&quot;:34,&quot;_2&quot;:0.6061068702290077},{&quot;_1&quot;:35,&quot;_2&quot;:0.585949177877429},{&quot;_1&quot;:36,&quot;_2&quot;:0.5996563573883161},{&quot;_1&quot;:37,&quot;_2&quot;:0.5406871609403255},{&quot;_1&quot;:38,&quot;_2&quot;:0.46055979643765904},{&quot;_1&quot;:39,&quot;_2&quot;:0.605683836589698},{&quot;_1&quot;:40,&quot;_2&quot;:0.44747612551159616},{&quot;_1&quot;:41,&quot;_2&quot;:0.46733668341708545},{&quot;_1&quot;:42,&quot;_2&quot;:0.6565836298932385},{&quot;_1&quot;:43,&quot;_2&quot;:0.7612107623318386},{&quot;_1&quot;:44,&quot;_2&quot;:0.4791946308724832},{&quot;_1&quot;:45,&quot;_2&quot;:0.6341948310139165},{&quot;_1&quot;:46,&quot;_2&quot;:0.6396761133603239},{&quot;_1&quot;:47,&quot;_2&quot;:0.6237623762376238},{&quot;_1&quot;:48,&quot;_2&quot;:0.6566604127579737},{&quot;_1&quot;:49,&quot;_2&quot;:0.6953781512605042},{&quot;_1&quot;:50,&quot;_2&quot;:0.6808943089430894},{&quot;_1&quot;:51,&quot;_2&quot;:0.7105788423153693},{&quot;_1&quot;:52,&quot;_2&quot;:0.6875},{&quot;_1&quot;:53,&quot;_2&quot;:0.682261208576998},{&quot;_1&quot;:54,&quot;_2&quot;:0.6859504132231405},{&quot;_1&quot;:55,&quot;_2&quot;:0.7142857142857143},{&quot;_1&quot;:56,&quot;_2&quot;:0.7533333333333333},{&quot;_1&quot;:57,&quot;_2&quot;:0.7096114519427403},{&quot;_1&quot;:58,&quot;_2&quot;:0.6997742663656885},{&quot;_1&quot;:59,&quot;_2&quot;:0.7464788732394366},{&quot;_1&quot;:60,&quot;_2&quot;:0.7297921478060047},{&quot;_1&quot;:61,&quot;_2&quot;:0.7304347826086957},{&quot;_1&quot;:62,&quot;_2&quot;:0.728735632183908},{&quot;_1&quot;:63,&quot;_2&quot;:0.7244897959183674},{&quot;_1&quot;:64,&quot;_2&quot;:0.7388235294117647},{&quot;_1&quot;:65,&quot;_2&quot;:0.7458033573141487},{&quot;_1&quot;:66,&quot;_2&quot;:0.754950495049505},{&quot;_1&quot;:67,&quot;_2&quot;:0.7709923664122137},{&quot;_1&quot;:68,&quot;_2&quot;:0.7570332480818415},{&quot;_1&quot;:69,&quot;_2&quot;:0.8072916666666666},{&quot;_1&quot;:70,&quot;_2&quot;:0.767379679144385},{&quot;_1&quot;:71,&quot;_2&quot;:0.782051282051282},{&quot;_1&quot;:72,&quot;_2&quot;:0.7844827586206896},{&quot;_1&quot;:73,&quot;_2&quot;:0.7553763440860215},{&quot;_1&quot;:74,&quot;_2&quot;:0.7436619718309859},{&quot;_1&quot;:75,&quot;_2&quot;:0.7896039603960396},{&quot;_1&quot;:76,&quot;_2&quot;:0.8333333333333334},{&quot;_1&quot;:77,&quot;_2&quot;:0.8165829145728644},{&quot;_1&quot;:78,&quot;_2&quot;:0.7630769230769231},{&quot;_1&quot;:79,&quot;_2&quot;:0.8045977011494253},{&quot;_1&quot;:80,&quot;_2&quot;:0.790633608815427},{&quot;_1&quot;:81,&quot;_2&quot;:0.8217522658610272},{&quot;_1&quot;:82,&quot;_2&quot;:0.7863013698630137},{&quot;_1&quot;:83,&quot;_2&quot;:0.7801608579088471},{&quot;_1&quot;:84,&quot;_2&quot;:0.7879656160458453},{&quot;_1&quot;:85,&quot;_2&quot;:0.7928994082840237},{&quot;_1&quot;:86,&quot;_2&quot;:0.8497267759562842},{&quot;_1&quot;:87,&quot;_2&quot;:0.792022792022792},{&quot;_1&quot;:88,&quot;_2&quot;:0.8051575931232091},{&quot;_1&quot;:89,&quot;_2&quot;:0.8409090909090909},{&quot;_1&quot;:90,&quot;_2&quot;:0.8194444444444444},{&quot;_1&quot;:91,&quot;_2&quot;:0.8666666666666667},{&quot;_1&quot;:92,&quot;_2&quot;:0.8328267477203647},{&quot;_1&quot;:93,&quot;_2&quot;:0.8392282958199357},{&quot;_1&quot;:94,&quot;_2&quot;:0.791970802919708},{&quot;_1&quot;:95,&quot;_2&quot;:0.8354430379746836},{&quot;_1&quot;:96,&quot;_2&quot;:0.8372093023255814},{&quot;_1&quot;:97,&quot;_2&quot;:0.8357142857142857},{&quot;_1&quot;:98,&quot;_2&quot;:0.75},{&quot;_1&quot;:99,&quot;_2&quot;:0.8235294117647058},{&quot;_1&quot;:100,&quot;_2&quot;:0.8333333333333334}],&quot;genId&quot;:&quot;1390116115&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon558cc39cc46c6e40c56c377c9b9e4350&quot;,&quot;initialValue&quot;:&quot;100&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc6d25144c49f210e45ac70926973e178&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
      },
      "output_type" : "execute_result",
      "execution_count" : 47,
      "time" : "Took: 3 seconds 740 milliseconds, at 2017-3-8 20:21"
    } ]
  }, {
    "metadata" : {
      "id" : "2140F8A946F243E7A0A77C2DE9D0E541"
    },
    "cell_type" : "markdown",
    "source" : "#=o="
  } ],
  "nbformat" : 4
}