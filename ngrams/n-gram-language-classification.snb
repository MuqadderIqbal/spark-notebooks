{
  "metadata" : {
    "id" : "96d60d9b-8898-4257-a255-ecd574e07771",
    "name" : "n-gram-language-classification",
    "user_save_timestamp" : "1970-01-01T01:00:00.000Z",
    "auto_save_timestamp" : "1970-01-01T01:00:00.000Z",
    "language_info" : {
      "name" : "scala",
      "file_extension" : "scala",
      "codemirror_mode" : "text/x-scala"
    },
    "trusted" : true,
    "sparkNotebook" : null,
    "customLocalRepo" : null,
    "customRepos" : null,
    "customDeps" : null,
    "customImports" : null,
    "customArgs" : null,
    "customSparkConf" : null,
    "customVars" : null
  },
  "cells" : [
    {
      "metadata" : {
        "id" : "9F0F316DF69C4F378FD88FAAFD718053"
      },
      "cell_type" : "markdown",
      "source" : "#n-gram based language classification\n###This notebook implements the method described by  Cavnar and Trenkle in the paper [N-Gram-Based Text Categorization](http://odur.let.rug.nl/~vannoord/TextCat/textcat.pdf)\nn-grams are continuos segments of size 'n' taken from a given string. Given the sentence _\"cavnar and trenkle\"_, \n- bi-grams: `ca,av,vn,na,ar,r_,_a,an,nd,d_,_t,tr,re,en,nk,kl,le,e_`\n- tri-grams: `cav,avn,vna,nar,ar_,r_a,_an,and,nd_,d_t,_tr,tre,ren,enk,nkl,kle,le_`\n- quad-grams: `cavn,...`\n\nNext to the frequency of letter (one-gram) that we explored in [A naive approach to language classification](/notebooks/languageclassification/language-detection-letter-freq.snb) they also capture common letter combinations that are typical in a language. n-grams where n>1 also provide record of start and end of words, further adding features to the language classification model that we can create with it."
    },
    {
      "metadata" : {
        "id" : "2D7D377CAB9241C5B114A4BF3C95EC70"
      },
      "cell_type" : "markdown",
      "source" : "## First, we will load some data"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "5AEA5BEEBE1C40E092C3E5047A2B40B7"
      },
      "cell_type" : "code",
      "source" : [
        "val notebooksFolder = sys.env(\"NOTEBOOKS_DIR\")\n",
        "val baseFolder = s\"$notebooksFolder/languageclassification/data\""
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "notebooksFolder: String = /home/maasg/playground/sparkfun/spark-notebooks\nbaseFolder: String = /home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 8,
          "time" : "Took: 0.707s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "CA507D56DB514C7DB9F2A27E8A3F3B06"
      },
      "cell_type" : "markdown",
      "source" : "##n-gram generation"
    },
    {
      "metadata" : {
        "id" : "7DB8479F3A8D4ED88F218CB67B4664EE"
      },
      "cell_type" : "markdown",
      "source" : "### We need a function that creates n-grams from a `string`.\nThe rules are:\n - we normalize the text to lowercase\n - n-grams are windows over the string, with window size equal to the 'n' and a step of 1\n - n-grams keep letters and aphostrophes. Spaces and punctuation marks are replaced by underscores\n - consecutive underscores are collates in one\n - start and end of the string are padded with underscores to match `n`-1  (1-gram do not introduce `_` artifacts)\n\nWe are going to generate n-grams for 1<=n<=5"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "717AFDC8FC7E41F48D347CD679151568"
      },
      "cell_type" : "code",
      "source" : [
        "def ngrams(str: String): Seq[String] = {\n",
        "  val NgramSize = 5\n",
        "  val cleaned = str.toLowerCase.replaceAll(\"[^A-zÀ-ÿ'’]+\", \"_\").reverse.dropWhile(_ == '_').reverse\n",
        "    \n",
        "  def _ngram(n:Int) : Seq[String] = {\n",
        "    if (n == 1) {\n",
        "      cleaned.collect{case c if c != '_' => c.toString}\n",
        "    } else {\n",
        "      val padding = Seq.fill(n - 1)(\"_\").mkString(\"\")\n",
        "      val padded = \"_\" + cleaned + padding \n",
        "      padded.sliding(n,1).toSeq\n",
        "    }\n",
        "  }\n",
        "  (1 to Math.min(cleaned.size, NgramSize)).flatMap(i => _ngram(i))\n",
        "}"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "ngrams: (str: String)Seq[String]\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 9,
          "time" : "Took: 0.835s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "A179A714477A4123821531902ADB4A60"
      },
      "cell_type" : "markdown",
      "source" : "### Sanity check"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "BD3AD2AD45364D88863C5905219FEE6F"
      },
      "cell_type" : "code",
      "source" : [
        "require(ngrams(\"a\") == Seq(\"a\"), \"should generate ngram for a single character\")"
      ],
      "outputs" : [
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 10,
          "time" : "Took: 0.922s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "B84BA03733584C3788439F96F760DDB3"
      },
      "cell_type" : "code",
      "source" : [
        "require(ngrams(\"abc\") == Seq(\"a\", \"b\", \"c\", \"_a\", \"ab\", \"bc\", \"c_\", \"_ab\", \"abc\", \"bc_\", \"c__\"), \"should generate ngram for multiple characters\")"
      ],
      "outputs" : [
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 11,
          "time" : "Took: 0.913s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "B84BA03733584C3788439F96F760DDB3"
      },
      "cell_type" : "code",
      "source" : [
        "require(ngrams(\"ABc\") == ngrams(\"abc\"), \"should use lowercase normalization\")"
      ],
      "outputs" : [
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 12,
          "time" : "Took: 0.838s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "3CEDA5F0EB6242A7B12F44443A3660AD"
      },
      "cell_type" : "code",
      "source" : [
        "require(ngrams(\"abc.1!!\") == ngrams(\"abc\"), \"should ignore numbers and punctuation\")"
      ],
      "outputs" : [
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 13,
          "time" : "Took: 0.781s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "B84BA03733584C3788439F96F760DDB3"
      },
      "cell_type" : "code",
      "source" : [
        "require(ngrams(\"a'b\").toSet == Set(\"a\",\"'\",\"b\",\"_a\",\"a'\",\"'b\",\"b_\",\"_a'\",\"a'b\",\"'b_\",\"b__\"), \"should preserve apostrophe\")"
      ],
      "outputs" : [
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 14,
          "time" : "Took: 0.777s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "C05149CBA39C4FA494549F5AC1537111"
      },
      "cell_type" : "markdown",
      "source" : "###Let's generate n-gram models for our dataset per language"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "972FC34C458D451684639781F0DA02BA"
      },
      "cell_type" : "code",
      "source" : [
        "val languages = Seq(\"en\", \"es\", \"it\", \"de\", \"fr\", \"nl\")"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "languages: Seq[String] = List(en, es, it, de, fr, nl)\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 15,
          "time" : "Took: 0.597s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "337874E93D944AD78EDD1A011FBC6A97"
      },
      "cell_type" : "code",
      "source" : [
        "val langDataset = languages.map{lang => (lang, sparkContext.textFile(baseFolder + s\"/$lang\"))}"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "langDataset: Seq[(String, org.apache.spark.rdd.RDD[String])] = List((en,/home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/en MapPartitionsRDD[6] at textFile at <console>:75), (es,/home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/es MapPartitionsRDD[8] at textFile at <console>:75), (it,/home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/it MapPartitionsRDD[10] at textFile at <console>:75), (de,/home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/de MapPartitionsRDD[12] at textFile at <console>:75), (fr,/home/maasg/playground/sparkfun/spark-notebooks/languageclassification/data/fr MapPartitionsRDD[14] at textFile at <console>:75), (nl,/home/maasg/playground/sparkfun/spark-notebooks/languagec..."
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 16,
          "time" : "Took: 0.796s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "16B3433D34A646BD8228926C0D615B60"
      },
      "cell_type" : "code",
      "source" : [
        "val ngramsPerLanguage = langDataset.map{case (lang, rdd) => \n",
        "                                        val ng = rdd.flatMap(str => ngrams(str))\n",
        "                                        (lang, ng)\n",
        "                                       }"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "ngramsPerLanguage: Seq[(String, org.apache.spark.rdd.RDD[String])] = List((en,MapPartitionsRDD[17] at flatMap at <console>:80), (es,MapPartitionsRDD[18] at flatMap at <console>:80), (it,MapPartitionsRDD[19] at flatMap at <console>:80), (de,MapPartitionsRDD[20] at flatMap at <console>:80), (fr,MapPartitionsRDD[21] at flatMap at <console>:80), (nl,MapPartitionsRDD[22] at flatMap at <console>:80))\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 17,
          "time" : "Took: 0.823s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "08E59B0F7B9B46058EDE0D992A98E42D"
      },
      "cell_type" : "markdown",
      "source" : "#### Let's check some data to see how we are doing"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "presentation" : {
          "tabs_state" : "{\n  \"tab_id\": \"#tab565984543-0\"\n}",
          "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
        },
        "id" : "6B655173BF2646AF8CC32F699E7AA706"
      },
      "cell_type" : "code",
      "source" : [
        "val (lang, ng) = ngramsPerLanguage(0)\n",
        "val count= ng.count()\n",
        "ng.sample(withReplacement = false, fraction = 0.007).take(20)"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "lang: String = en\nng: org.apache.spark.rdd.RDD[String] = MapPartitionsRDD[17] at flatMap at <console>:80\ncount: Long = 9666536\nres24: Array[String] = Array(nc, il_d, ion__, u, _of, the, inte, nio, u, nio, on_a, s, n, o, _r, __i, f, ene, herei, of_th)\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anondd67a57599b2316ee95eacc1dbf18682&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;565984543&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul565984543\"><li>\n              <a href=\"#tab565984543-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab565984543-1\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab565984543\"><div class=\"tab-pane\" id=\"tab565984543-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonea3a35518e63814047512f30c8dced41&quot;,&quot;dataInit&quot;:[{&quot;string value&quot;:&quot;nc&quot;},{&quot;string value&quot;:&quot;il_d&quot;},{&quot;string value&quot;:&quot;ion__&quot;},{&quot;string value&quot;:&quot;u&quot;},{&quot;string value&quot;:&quot;_of&quot;},{&quot;string value&quot;:&quot;the&quot;},{&quot;string value&quot;:&quot;inte&quot;},{&quot;string value&quot;:&quot;nio&quot;},{&quot;string value&quot;:&quot;u&quot;},{&quot;string value&quot;:&quot;nio&quot;},{&quot;string value&quot;:&quot;on_a&quot;},{&quot;string value&quot;:&quot;s&quot;},{&quot;string value&quot;:&quot;n&quot;},{&quot;string value&quot;:&quot;o&quot;},{&quot;string value&quot;:&quot;_r&quot;},{&quot;string value&quot;:&quot;__i&quot;},{&quot;string value&quot;:&quot;f&quot;},{&quot;string value&quot;:&quot;ene&quot;},{&quot;string value&quot;:&quot;herei&quot;},{&quot;string value&quot;:&quot;of_th&quot;}],&quot;genId&quot;:&quot;1503924320&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"string value\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb27c26716dd24f5649b615f837e8d02f&quot;,&quot;initialValue&quot;:&quot;20&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon325319079b38f74ad13952323ca4b110&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab565984543-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonee9354e1cc93d1f6606732bfb835c9ea&quot;,&quot;dataInit&quot;:[{&quot;string value&quot;:&quot;nc&quot;},{&quot;string value&quot;:&quot;il_d&quot;},{&quot;string value&quot;:&quot;ion__&quot;},{&quot;string value&quot;:&quot;u&quot;},{&quot;string value&quot;:&quot;_of&quot;},{&quot;string value&quot;:&quot;the&quot;},{&quot;string value&quot;:&quot;inte&quot;},{&quot;string value&quot;:&quot;nio&quot;},{&quot;string value&quot;:&quot;u&quot;},{&quot;string value&quot;:&quot;nio&quot;},{&quot;string value&quot;:&quot;on_a&quot;},{&quot;string value&quot;:&quot;s&quot;},{&quot;string value&quot;:&quot;n&quot;},{&quot;string value&quot;:&quot;o&quot;},{&quot;string value&quot;:&quot;_r&quot;},{&quot;string value&quot;:&quot;__i&quot;},{&quot;string value&quot;:&quot;f&quot;},{&quot;string value&quot;:&quot;ene&quot;},{&quot;string value&quot;:&quot;herei&quot;},{&quot;string value&quot;:&quot;of_th&quot;}],&quot;genId&quot;:&quot;3551574&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond7f7e216a3a891ffa47447b09c364835&quot;,&quot;initialValue&quot;:&quot;20&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anone0a560e99b9f1e24f84ad88bd15d2c30&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
          },
          "output_type" : "execute_result",
          "execution_count" : 18,
          "time" : "Took: 3.508s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "838E0DFE209147148FFB931889ACDC1B"
      },
      "cell_type" : "code",
      "source" : [
        "val ProfileCutPoint = 300\n",
        "val ngramFrequencyPerLanguage = ngramsPerLanguage.map{case (lang, ngramRDD) => \n",
        "                                                      val ngramFreq = ngramRDD.keyBy(identity)\n",
        "                                                                              .countByKey().toSeq\n",
        "                                                                              .sortBy(- _._2).take(ProfileCutPoint)\n",
        "                                                      (lang,ngramFreq)} "
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "ProfileCutPoint: Int = 300\nngramFrequencyPerLanguage: Seq[(String, Seq[(String, Long)])] = List((en,ArrayBuffer((e,209173), (t,167343), (i,137647), (o,135697), (n,132071), (a,131862), (r,110866), (s,93086), (c,75340), (h,74393), (e_,73993), (l,66950), (_t,61748), (th,51699), (d,50355), (u,48684), (_th,44752), (he,44261), (f,43452), (p,42810), (_a,42689), (the,41832), (m,40834), (n_,40140), (_the,40047), (he_,37666), (the_,37520), (_the_,37515), (s_,36615), (on,35879), (_o,35493), (ti,33260), (in,28626), (an,25652), (g,24715), (d_,24280), (re,24278), (io,23314), (b,23126), (er,23031), (of,22811), (_of,22660), (ion,22594), (at,22123), (f_,22118), (of_,21233), (_c,21209), (_of_,21157), (l_,21121), (t_,20695), (on_,20174), (_s,20137), (al,20107), (y,19957), (_i,19284), (ar,19093), (es,18755..."
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 19,
          "time" : "Took: 22.681s, at 2017-09-26 16:19"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : true,
        "id" : "E3576CC498E24003BBB8213AA4EF6D00"
      },
      "cell_type" : "markdown",
      "source" : "##Let's explore the profiles"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "D51C9D94C3D44ABDA629FC599987D5A5"
      },
      "cell_type" : "code",
      "source" : [
        "def visualize(languageNgrams:(String, Seq[(String, Long)])) = {\n",
        "  val (lang, ngramData) = languageNgrams\n",
        "  CustomPlotlyChart(ngramData,\n",
        "                  layout=s\"{title: 'ngram Frequency Distribution for language: ${lang}'}\",\n",
        "                  dataOptions=\"\"\"{type: 'bar'}\"\"\",\n",
        "                  dataSources=\"{x: '_1', y: '_2'}\")\n",
        "}"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "visualize: (languageNgrams: (String, Seq[(String, Long)]))notebook.front.widgets.charts.CustomPlotlyChart[Seq[(String, Long)]]\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 20,
          "time" : "Took: 0.699s, at 2017-09-26 16:23"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "60957B06324E499D85284E923E290925"
      },
      "cell_type" : "code",
      "source" : [
        "@transient val viz1 = visualize(ngramFrequencyPerLanguage(0))\n",
        "viz1"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "viz1: notebook.front.widgets.charts.CustomPlotlyChart[Seq[(String, Long)]] = <CustomPlotlyChart widget>\nres28: notebook.front.widgets.charts.CustomPlotlyChart[Seq[(String, Long)]] = <CustomPlotlyChart widget>\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anone8bab3b6502d97818a5a32f4acc5d579&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:209173},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:167343},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:137647},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:135697},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:132071},{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:131862},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:110866},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:93086},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:75340},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:74393},{&quot;_1&quot;:&quot;e_&quot;,&quot;_2&quot;:73993},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:66950},{&quot;_1&quot;:&quot;_t&quot;,&quot;_2&quot;:61748},{&quot;_1&quot;:&quot;th&quot;,&quot;_2&quot;:51699},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:50355},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:48684},{&quot;_1&quot;:&quot;_th&quot;,&quot;_2&quot;:44752},{&quot;_1&quot;:&quot;he&quot;,&quot;_2&quot;:44261},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:43452},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:42810},{&quot;_1&quot;:&quot;_a&quot;,&quot;_2&quot;:42689},{&quot;_1&quot;:&quot;the&quot;,&quot;_2&quot;:41832},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:40834},{&quot;_1&quot;:&quot;n_&quot;,&quot;_2&quot;:40140},{&quot;_1&quot;:&quot;_the&quot;,&quot;_2&quot;:40047},{&quot;_1&quot;:&quot;he_&quot;,&quot;_2&quot;:37666},{&quot;_1&quot;:&quot;the_&quot;,&quot;_2&quot;:37520},{&quot;_1&quot;:&quot;_the_&quot;,&quot;_2&quot;:37515},{&quot;_1&quot;:&quot;s_&quot;,&quot;_2&quot;:36615},{&quot;_1&quot;:&quot;on&quot;,&quot;_2&quot;:35879},{&quot;_1&quot;:&quot;_o&quot;,&quot;_2&quot;:35493},{&quot;_1&quot;:&quot;ti&quot;,&quot;_2&quot;:33260},{&quot;_1&quot;:&quot;in&quot;,&quot;_2&quot;:28626},{&quot;_1&quot;:&quot;an&quot;,&quot;_2&quot;:25652},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:24715},{&quot;_1&quot;:&quot;d_&quot;,&quot;_2&quot;:24280},{&quot;_1&quot;:&quot;re&quot;,&quot;_2&quot;:24278},{&quot;_1&quot;:&quot;io&quot;,&quot;_2&quot;:23314},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:23126},{&quot;_1&quot;:&quot;er&quot;,&quot;_2&quot;:23031},{&quot;_1&quot;:&quot;of&quot;,&quot;_2&quot;:22811},{&quot;_1&quot;:&quot;_of&quot;,&quot;_2&quot;:22660},{&quot;_1&quot;:&quot;ion&quot;,&quot;_2&quot;:22594},{&quot;_1&quot;:&quot;at&quot;,&quot;_2&quot;:22123},{&quot;_1&quot;:&quot;f_&quot;,&quot;_2&quot;:22118},{&quot;_1&quot;:&quot;of_&quot;,&quot;_2&quot;:21233},{&quot;_1&quot;:&quot;_c&quot;,&quot;_2&quot;:21209},{&quot;_1&quot;:&quot;_of_&quot;,&quot;_2&quot;:21157},{&quot;_1&quot;:&quot;l_&quot;,&quot;_2&quot;:21121},{&quot;_1&quot;:&quot;t_&quot;,&quot;_2&quot;:20695},{&quot;_1&quot;:&quot;on_&quot;,&quot;_2&quot;:20174},{&quot;_1&quot;:&quot;_s&quot;,&quot;_2&quot;:20137},{&quot;_1&quot;:&quot;al&quot;,&quot;_2&quot;:20107},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:19957},{&quot;_1&quot;:&quot;_i&quot;,&quot;_2&quot;:19284},{&quot;_1&quot;:&quot;ar&quot;,&quot;_2&quot;:19093},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:18755},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:18416},{&quot;_1&quot;:&quot;y_&quot;,&quot;_2&quot;:18280},{&quot;_1&quot;:&quot;co&quot;,&quot;_2&quot;:18246},{&quot;_1&quot;:&quot;ic&quot;,&quot;_2&quot;:18092},{&quot;_1&quot;:&quot;r_&quot;,&quot;_2&quot;:17211},{&quot;_1&quot;:&quot;_p&quot;,&quot;_2&quot;:17066},{&quot;_1&quot;:&quot;te&quot;,&quot;_2&quot;:17045},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:16808},{&quot;_1&quot;:&quot;or&quot;,&quot;_2&quot;:15385},{&quot;_1&quot;:&quot;nd&quot;,&quot;_2&quot;:14902},{&quot;_1&quot;:&quot;_e&quot;,&quot;_2&quot;:14882},{&quot;_1&quot;:&quot;ion_&quot;,&quot;_2&quot;:14769},{&quot;_1&quot;:&quot;_co&quot;,&quot;_2&quot;:14718},{&quot;_1&quot;:&quot;nt&quot;,&quot;_2&quot;:14619},{&quot;_1&quot;:&quot;ro&quot;,&quot;_2&quot;:14595},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:14250},{&quot;_1&quot;:&quot;le&quot;,&quot;_2&quot;:13966},{&quot;_1&quot;:&quot;ur&quot;,&quot;_2&quot;:13167},{&quot;_1&quot;:&quot;tio&quot;,&quot;_2&quot;:13066},{&quot;_1&quot;:&quot;tion&quot;,&quot;_2&quot;:13025},{&quot;_1&quot;:&quot;is&quot;,&quot;_2&quot;:12877},{&quot;_1&quot;:&quot;_in&quot;,&quot;_2&quot;:12758},{&quot;_1&quot;:&quot;me&quot;,&quot;_2&quot;:12656},{&quot;_1&quot;:&quot;_an&quot;,&quot;_2&quot;:12441},{&quot;_1&quot;:&quot;un&quot;,&quot;_2&quot;:12436},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:12397},{&quot;_1&quot;:&quot;rt&quot;,&quot;_2&quot;:12367},{&quot;_1&quot;:&quot;ed&quot;,&quot;_2&quot;:12365},{&quot;_1&quot;:&quot;_b&quot;,&quot;_2&quot;:12001},{&quot;_1&quot;:&quot;to&quot;,&quot;_2&quot;:11807},{&quot;_1&quot;:&quot;es_&quot;,&quot;_2&quot;:11534},{&quot;_1&quot;:&quot;ha&quot;,&quot;_2&quot;:11492},{&quot;_1&quot;:&quot;st&quot;,&quot;_2&quot;:11472},{&quot;_1&quot;:&quot;ea&quot;,&quot;_2&quot;:11431},{&quot;_1&quot;:&quot;f_t&quot;,&quot;_2&quot;:11424},{&quot;_1&quot;:&quot;o_&quot;,&quot;_2&quot;:11376},{&quot;_1&quot;:&quot;f_th&quot;,&quot;_2&quot;:11224},{&quot;_1&quot;:&quot;of_t&quot;,&quot;_2&quot;:11166},{&quot;_1&quot;:&quot;_of_t&quot;,&quot;_2&quot;:11155},{&quot;_1&quot;:&quot;nd_&quot;,&quot;_2&quot;:11132},{&quot;_1&quot;:&quot;of_th&quot;,&quot;_2&quot;:10970},{&quot;_1&quot;:&quot;ce&quot;,&quot;_2&quot;:10923},{&quot;_1&quot;:&quot;_m&quot;,&quot;_2&quot;:10867},{&quot;_1&quot;:&quot;and&quot;,&quot;_2&quot;:10712},{&quot;_1&quot;:&quot;f_the&quot;,&quot;_2&quot;:10514},{&quot;_1&quot;:&quot;_r&quot;,&quot;_2&quot;:10501},{&quot;_1&quot;:&quot;ng&quot;,&quot;_2&quot;:10413},{&quot;_1&quot;:&quot;and_&quot;,&quot;_2&quot;:10378},{&quot;_1&quot;:&quot;_f&quot;,&quot;_2&quot;:10266},{&quot;_1&quot;:&quot;ec&quot;,&quot;_2&quot;:10253},{&quot;_1&quot;:&quot;ta&quot;,&quot;_2&quot;:10225},{&quot;_1&quot;:&quot;ed_&quot;,&quot;_2&quot;:10218},{&quot;_1&quot;:&quot;pr&quot;,&quot;_2&quot;:10134},{&quot;_1&quot;:&quot;ati&quot;,&quot;_2&quot;:10103},{&quot;_1&quot;:&quot;pe&quot;,&quot;_2&quot;:10060},{&quot;_1&quot;:&quot;al_&quot;,&quot;_2&quot;:9978},{&quot;_1&quot;:&quot;ni&quot;,&quot;_2&quot;:9933},{&quot;_1&quot;:&quot;_and&quot;,&quot;_2&quot;:9925},{&quot;_1&quot;:&quot;_and_&quot;,&quot;_2&quot;:9921},{&quot;_1&quot;:&quot;nc&quot;,&quot;_2&quot;:9866},{&quot;_1&quot;:&quot;to_&quot;,&quot;_2&quot;:9717},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:9666},{&quot;_1&quot;:&quot;_to&quot;,&quot;_2&quot;:9498},{&quot;_1&quot;:&quot;ing&quot;,&quot;_2&quot;:9474},{&quot;_1&quot;:&quot;tic&quot;,&quot;_2&quot;:9392},{&quot;_1&quot;:&quot;ra&quot;,&quot;_2&quot;:9392},{&quot;_1&quot;:&quot;ns&quot;,&quot;_2&quot;:9388},{&quot;_1&quot;:&quot;in_&quot;,&quot;_2&quot;:9368},{&quot;_1&quot;:&quot;_to_&quot;,&quot;_2&quot;:9273},{&quot;_1&quot;:&quot;be&quot;,&quot;_2&quot;:9231},{&quot;_1&quot;:&quot;art&quot;,&quot;_2&quot;:9129},{&quot;_1&quot;:&quot;le_&quot;,&quot;_2&quot;:9052},{&quot;_1&quot;:&quot;ent&quot;,&quot;_2&quot;:9047},{&quot;_1&quot;:&quot;ci&quot;,&quot;_2&quot;:8952},{&quot;_1&quot;:&quot;op&quot;,&quot;_2&quot;:8917},{&quot;_1&quot;:&quot;g_&quot;,&quot;_2&quot;:8844},{&quot;_1&quot;:&quot;ou&quot;,&quot;_2&quot;:8790},{&quot;_1&quot;:&quot;cl&quot;,&quot;_2&quot;:8769},{&quot;_1&quot;:&quot;ng_&quot;,&quot;_2&quot;:8702},{&quot;_1&quot;:&quot;_ar&quot;,&quot;_2&quot;:8662},{&quot;_1&quot;:&quot;ll&quot;,&quot;_2&quot;:8618},{&quot;_1&quot;:&quot;ct&quot;,&quot;_2&quot;:8537},{&quot;_1&quot;:&quot;ri&quot;,&quot;_2&quot;:8527},{&quot;_1&quot;:&quot;ing_&quot;,&quot;_2&quot;:8516},{&quot;_1&quot;:&quot;er_&quot;,&quot;_2&quot;:8513},{&quot;_1&quot;:&quot;se&quot;,&quot;_2&quot;:8457},{&quot;_1&quot;:&quot;_d&quot;,&quot;_2&quot;:8454},{&quot;_1&quot;:&quot;_re&quot;,&quot;_2&quot;:8452},{&quot;_1&quot;:&quot;si&quot;,&quot;_2&quot;:8426},{&quot;_1&quot;:&quot;rti&quot;,&quot;_2&quot;:8424},{&quot;_1&quot;:&quot;_pr&quot;,&quot;_2&quot;:8371},{&quot;_1&quot;:&quot;e__&quot;,&quot;_2&quot;:8270},{&quot;_1&quot;:&quot;e___&quot;,&quot;_2&quot;:8270},{&quot;_1&quot;:&quot;e____&quot;,&quot;_2&quot;:8245},{&quot;_1&quot;:&quot;arti&quot;,&quot;_2&quot;:8232},{&quot;_1&quot;:&quot;_w&quot;,&quot;_2&quot;:8227},{&quot;_1&quot;:&quot;li&quot;,&quot;_2&quot;:8163},{&quot;_1&quot;:&quot;_in_&quot;,&quot;_2&quot;:8032},{&quot;_1&quot;:&quot;rtic&quot;,&quot;_2&quot;:7923},{&quot;_1&quot;:&quot;artic&quot;,&quot;_2&quot;:7922},{&quot;_1&quot;:&quot;ve&quot;,&quot;_2&quot;:7857},{&quot;_1&quot;:&quot;om&quot;,&quot;_2&quot;:7852},{&quot;_1&quot;:&quot;_u&quot;,&quot;_2&quot;:7823},{&quot;_1&quot;:&quot;e_c&quot;,&quot;_2&quot;:7818},{&quot;_1&quot;:&quot;h_&quot;,&quot;_2&quot;:7809},{&quot;_1&quot;:&quot;e_t&quot;,&quot;_2&quot;:7724},{&quot;_1&quot;:&quot;sh&quot;,&quot;_2&quot;:7694},{&quot;_1&quot;:&quot;tion_&quot;,&quot;_2&quot;:7437},{&quot;_1&quot;:&quot;atio&quot;,&quot;_2&quot;:7392},{&quot;_1&quot;:&quot;cle&quot;,&quot;_2&quot;:7369},{&quot;_1&quot;:&quot;ation&quot;,&quot;_2&quot;:7364},{&quot;_1&quot;:&quot;all&quot;,&quot;_2&quot;:7337},{&quot;_1&quot;:&quot;icl&quot;,&quot;_2&quot;:7272},{&quot;_1&quot;:&quot;_art&quot;,&quot;_2&quot;:7268},{&quot;_1&quot;:&quot;_arti&quot;,&quot;_2&quot;:7264},{&quot;_1&quot;:&quot;icle&quot;,&quot;_2&quot;:7260},{&quot;_1&quot;:&quot;rticl&quot;,&quot;_2&quot;:7258},{&quot;_1&quot;:&quot;ticl&quot;,&quot;_2&quot;:7258},{&quot;_1&quot;:&quot;ticle&quot;,&quot;_2&quot;:7258},{&quot;_1&quot;:&quot;ll_&quot;,&quot;_2&quot;:7258},{&quot;_1&quot;:&quot;n_t&quot;,&quot;_2&quot;:7244},{&quot;_1&quot;:&quot;na&quot;,&quot;_2&quot;:7238},{&quot;_1&quot;:&quot;em&quot;,&quot;_2&quot;:6889},{&quot;_1&quot;:&quot;cle_&quot;,&quot;_2&quot;:6837},{&quot;_1&quot;:&quot;icle_&quot;,&quot;_2&quot;:6825},{&quot;_1&quot;:&quot;pro&quot;,&quot;_2&quot;:6824},{&quot;_1&quot;:&quot;all_&quot;,&quot;_2&quot;:6751},{&quot;_1&quot;:&quot;ons&quot;,&quot;_2&quot;:6695},{&quot;_1&quot;:&quot;_un&quot;,&quot;_2&quot;:6633},{&quot;_1&quot;:&quot;_sh&quot;,&quot;_2&quot;:6616},{&quot;_1&quot;:&quot;ac&quot;,&quot;_2&quot;:6507},{&quot;_1&quot;:&quot;s_o&quot;,&quot;_2&quot;:6504},{&quot;_1&quot;:&quot;e_co&quot;,&quot;_2&quot;:6469},{&quot;_1&quot;:&quot;or_&quot;,&quot;_2&quot;:6451},{&quot;_1&quot;:&quot;he_c&quot;,&quot;_2&quot;:6440},{&quot;_1&quot;:&quot;the_c&quot;,&quot;_2&quot;:6435},{&quot;_1&quot;:&quot;n_th&quot;,&quot;_2&quot;:6357},{&quot;_1&quot;:&quot;sha&quot;,&quot;_2&quot;:6321},{&quot;_1&quot;:&quot;_sha&quot;,&quot;_2&quot;:6321},{&quot;_1&quot;:&quot;an_&quot;,&quot;_2&quot;:6282},{&quot;_1&quot;:&quot;hal&quot;,&quot;_2&quot;:6271},{&quot;_1&quot;:&quot;e_a&quot;,&quot;_2&quot;:6249},{&quot;_1&quot;:&quot;e_e&quot;,&quot;_2&quot;:6221},{&quot;_1&quot;:&quot;hall&quot;,&quot;_2&quot;:6206},{&quot;_1&quot;:&quot;_shal&quot;,&quot;_2&quot;:6200},{&quot;_1&quot;:&quot;shal&quot;,&quot;_2&quot;:6200},{&quot;_1&quot;:&quot;hall_&quot;,&quot;_2&quot;:6198},{&quot;_1&quot;:&quot;shall&quot;,&quot;_2&quot;:6198},{&quot;_1&quot;:&quot;tr&quot;,&quot;_2&quot;:6184},{&quot;_1&quot;:&quot;_pro&quot;,&quot;_2&quot;:6151},{&quot;_1&quot;:&quot;as&quot;,&quot;_2&quot;:6126},{&quot;_1&quot;:&quot;nt_&quot;,&quot;_2&quot;:5970},{&quot;_1&quot;:&quot;ope&quot;,&quot;_2&quot;:5932},{&quot;_1&quot;:&quot;rop&quot;,&quot;_2&quot;:5921},{&quot;_1&quot;:&quot;a_&quot;,&quot;_2&quot;:5919},{&quot;_1&quot;:&quot;men&quot;,&quot;_2&quot;:5743},{&quot;_1&quot;:&quot;n_the&quot;,&quot;_2&quot;:5741},{&quot;_1&quot;:&quot;n_a&quot;,&quot;_2&quot;:5736},{&quot;_1&quot;:&quot;__&quot;,&quot;_2&quot;:5728},{&quot;_1&quot;:&quot;ia&quot;,&quot;_2&quot;:5720},{&quot;_1&quot;:&quot;uni&quot;,&quot;_2&quot;:5719},{&quot;_1&quot;:&quot;la&quot;,&quot;_2&quot;:5637},{&quot;_1&quot;:&quot;s_a&quot;,&quot;_2&quot;:5635},{&quot;_1&quot;:&quot;ns_&quot;,&quot;_2&quot;:5610},{&quot;_1&quot;:&quot;di&quot;,&quot;_2&quot;:5606},{&quot;_1&quot;:&quot;ate&quot;,&quot;_2&quot;:5597},{&quot;_1&quot;:&quot;e_o&quot;,&quot;_2&quot;:5566},{&quot;_1&quot;:&quot;he_co&quot;,&quot;_2&quot;:5559},{&quot;_1&quot;:&quot;ne&quot;,&quot;_2&quot;:5547},{&quot;_1&quot;:&quot;ma&quot;,&quot;_2&quot;:5520},{&quot;_1&quot;:&quot;fo&quot;,&quot;_2&quot;:5500},{&quot;_1&quot;:&quot;eu&quot;,&quot;_2&quot;:5489},{&quot;_1&quot;:&quot;he_e&quot;,&quot;_2&quot;:5458},{&quot;_1&quot;:&quot;the_e&quot;,&quot;_2&quot;:5458},{&quot;_1&quot;:&quot;hi&quot;,&quot;_2&quot;:5391},{&quot;_1&quot;:&quot;su&quot;,&quot;_2&quot;:5355},{&quot;_1&quot;:&quot;ts&quot;,&quot;_2&quot;:5336},{&quot;_1&quot;:&quot;con&quot;,&quot;_2&quot;:5305},{&quot;_1&quot;:&quot;pa&quot;,&quot;_2&quot;:5275},{&quot;_1&quot;:&quot;_n&quot;,&quot;_2&quot;:5251},{&quot;_1&quot;:&quot;ts_&quot;,&quot;_2&quot;:5236},{&quot;_1&quot;:&quot;ment&quot;,&quot;_2&quot;:5208},{&quot;_1&quot;:&quot;_me&quot;,&quot;_2&quot;:5200},{&quot;_1&quot;:&quot;sta&quot;,&quot;_2&quot;:5165},{&quot;_1&quot;:&quot;_eu&quot;,&quot;_2&quot;:5124},{&quot;_1&quot;:&quot;_uni&quot;,&quot;_2&quot;:5120},{&quot;_1&quot;:&quot;ons_&quot;,&quot;_2&quot;:5083},{&quot;_1&quot;:&quot;ch&quot;,&quot;_2&quot;:5079},{&quot;_1&quot;:&quot;d_t&quot;,&quot;_2&quot;:5069},{&quot;_1&quot;:&quot;_be&quot;,&quot;_2&quot;:5069},{&quot;_1&quot;:&quot;pea&quot;,&quot;_2&quot;:5056},{&quot;_1&quot;:&quot;eur&quot;,&quot;_2&quot;:5032},{&quot;_1&quot;:&quot;_eur&quot;,&quot;_2&quot;:5001},{&quot;_1&quot;:&quot;uro&quot;,&quot;_2&quot;:4984},{&quot;_1&quot;:&quot;euro&quot;,&quot;_2&quot;:4984},{&quot;_1&quot;:&quot;_euro&quot;,&quot;_2&quot;:4979},{&quot;_1&quot;:&quot;ean&quot;,&quot;_2&quot;:4978},{&quot;_1&quot;:&quot;il&quot;,&quot;_2&quot;:4970},{&quot;_1&quot;:&quot;for&quot;,&quot;_2&quot;:4962},{&quot;_1&quot;:&quot;ce_&quot;,&quot;_2&quot;:4933},{&quot;_1&quot;:&quot;ty&quot;,&quot;_2&quot;:4919},{&quot;_1&quot;:&quot;nio&quot;,&quot;_2&quot;:4915},{&quot;_1&quot;:&quot;nion&quot;,&quot;_2&quot;:4904},{&quot;_1&quot;:&quot;ent_&quot;,&quot;_2&quot;:4903},{&quot;_1&quot;:&quot;rope&quot;,&quot;_2&quot;:4887},{&quot;_1&quot;:&quot;ty_&quot;,&quot;_2&quot;:4860},{&quot;_1&quot;:&quot;fi&quot;,&quot;_2&quot;:4850},{&quot;_1&quot;:&quot;mi&quot;,&quot;_2&quot;:4826},{&quot;_1&quot;:&quot;ions&quot;,&quot;_2&quot;:4823},{&quot;_1&quot;:&quot;ie&quot;,&quot;_2&quot;:4818},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:4800},{&quot;_1&quot;:&quot;ions_&quot;,&quot;_2&quot;:4798},{&quot;_1&quot;:&quot;urop&quot;,&quot;_2&quot;:4792},{&quot;_1&quot;:&quot;europ&quot;,&quot;_2&quot;:4792},{&quot;_1&quot;:&quot;ss&quot;,&quot;_2&quot;:4781},{&quot;_1&quot;:&quot;_on&quot;,&quot;_2&quot;:4770},{&quot;_1&quot;:&quot;urope&quot;,&quot;_2&quot;:4765},{&quot;_1&quot;:&quot;s_of&quot;,&quot;_2&quot;:4757},{&quot;_1&quot;:&quot;cou&quot;,&quot;_2&quot;:4743},{&quot;_1&quot;:&quot;ean_&quot;,&quot;_2&quot;:4736},{&quot;_1&quot;:&quot;com&quot;,&quot;_2&quot;:4722},{&quot;_1&quot;:&quot;_a_&quot;,&quot;_2&quot;:4717},{&quot;_1&quot;:&quot;pean&quot;,&quot;_2&quot;:4711},{&quot;_1&quot;:&quot;pean_&quot;,&quot;_2&quot;:4709},{&quot;_1&quot;:&quot;opea&quot;,&quot;_2&quot;:4709},{&quot;_1&quot;:&quot;opean&quot;,&quot;_2&quot;:4709},{&quot;_1&quot;:&quot;ropea&quot;,&quot;_2&quot;:4709},{&quot;_1&quot;:&quot;tat&quot;,&quot;_2&quot;:4699},{&quot;_1&quot;:&quot;union&quot;,&quot;_2&quot;:4681},{&quot;_1&quot;:&quot;unio&quot;,&quot;_2&quot;:4681},{&quot;_1&quot;:&quot;_unio&quot;,&quot;_2&quot;:4677},{&quot;_1&quot;:&quot;s_of_&quot;,&quot;_2&quot;:4636},{&quot;_1&quot;:&quot;cti&quot;,&quot;_2&quot;:4629},{&quot;_1&quot;:&quot;po&quot;,&quot;_2&quot;:4613},{&quot;_1&quot;:&quot;nion_&quot;,&quot;_2&quot;:4599},{&quot;_1&quot;:&quot;ter&quot;,&quot;_2&quot;:4591},{&quot;_1&quot;:&quot;s__&quot;,&quot;_2&quot;:4545},{&quot;_1&quot;:&quot;s___&quot;,&quot;_2&quot;:4543},{&quot;_1&quot;:&quot;s____&quot;,&quot;_2&quot;:4542},{&quot;_1&quot;:&quot;_con&quot;,&quot;_2&quot;:4539},{&quot;_1&quot;:&quot;wi&quot;,&quot;_2&quot;:4525},{&quot;_1&quot;:&quot;_st&quot;,&quot;_2&quot;:4493},{&quot;_1&quot;:&quot;n_o&quot;,&quot;_2&quot;:4488}],&quot;genId&quot;:&quot;1723268138&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/customPlotlyChart'], \n      function(playground, _magiccustomPlotlyChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magiccustomPlotlyChart,\n    \"o\": {\"js\":\"var layout = {title: 'ngram Frequency Distribution for language: en'}; var dataSources={x: '_1', y: '_2'}; var dataOptions = {type: 'bar'}; var extraOptions = {}\",\"headers\":[\"_1\",\"_2\"],\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona9ca9d9edd2ee10ee33a464cc7d1d4ef&quot;,&quot;initialValue&quot;:&quot;300&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonbf0481a771dd0fc1bdf3c142caccf8ac&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>"
          },
          "output_type" : "execute_result",
          "execution_count" : 21,
          "time" : "Took: 1.038s, at 2017-09-26 16:23"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "47B0BF8EED2E42858541608C812412D4"
      },
      "cell_type" : "code",
      "source" : [
        "@transient val viz2 = visualize(ngramFrequencyPerLanguage(1))\n",
        "viz2"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "viz2: notebook.front.widgets.charts.CustomPlotlyChart[Seq[(String, Long)]] = <CustomPlotlyChart widget>\nres30: notebook.front.widgets.charts.CustomPlotlyChart[Seq[(String, Long)]] = <CustomPlotlyChart widget>\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anond08bee0a4fc0eaff1f2802b18917bf33&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:224510},{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:194220},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:160516},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:134185},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:130094},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:126998},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:119973},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:105053},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:101380},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:99519},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:92804},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:66602},{&quot;_1&quot;:&quot;s_&quot;,&quot;_2&quot;:66598},{&quot;_1&quot;:&quot;o_&quot;,&quot;_2&quot;:54624},{&quot;_1&quot;:&quot;e_&quot;,&quot;_2&quot;:54457},{&quot;_1&quot;:&quot;a_&quot;,&quot;_2&quot;:53805},{&quot;_1&quot;:&quot;_d&quot;,&quot;_2&quot;:53052},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:51712},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:49584},{&quot;_1&quot;:&quot;_de&quot;,&quot;_2&quot;:45556},{&quot;_1&quot;:&quot;_e&quot;,&quot;_2&quot;:43001},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:41476},{&quot;_1&quot;:&quot;n_&quot;,&quot;_2&quot;:41205},{&quot;_1&quot;:&quot;_l&quot;,&quot;_2&quot;:37011},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:36270},{&quot;_1&quot;:&quot;_a&quot;,&quot;_2&quot;:35525},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:33668},{&quot;_1&quot;:&quot;os&quot;,&quot;_2&quot;:32149},{&quot;_1&quot;:&quot;la&quot;,&quot;_2&quot;:31330},{&quot;_1&quot;:&quot;de_&quot;,&quot;_2&quot;:30627},{&quot;_1&quot;:&quot;ci&quot;,&quot;_2&quot;:30589},{&quot;_1&quot;:&quot;_de_&quot;,&quot;_2&quot;:30255},{&quot;_1&quot;:&quot;ar&quot;,&quot;_2&quot;:29906},{&quot;_1&quot;:&quot;os_&quot;,&quot;_2&quot;:29686},{&quot;_1&quot;:&quot;l_&quot;,&quot;_2&quot;:29261},{&quot;_1&quot;:&quot;_c&quot;,&quot;_2&quot;:28630},{&quot;_1&quot;:&quot;_p&quot;,&quot;_2&quot;:26740},{&quot;_1&quot;:&quot;on&quot;,&quot;_2&quot;:24678},{&quot;_1&quot;:&quot;_la&quot;,&quot;_2&quot;:23601},{&quot;_1&quot;:&quot;co&quot;,&quot;_2&quot;:23087},{&quot;_1&quot;:&quot;re&quot;,&quot;_2&quot;:22442},{&quot;_1&quot;:&quot;el&quot;,&quot;_2&quot;:21935},{&quot;_1&quot;:&quot;lo&quot;,&quot;_2&quot;:21481},{&quot;_1&quot;:&quot;ad&quot;,&quot;_2&quot;:21468},{&quot;_1&quot;:&quot;nt&quot;,&quot;_2&quot;:21288},{&quot;_1&quot;:&quot;ta&quot;,&quot;_2&quot;:20932},{&quot;_1&quot;:&quot;er&quot;,&quot;_2&quot;:20929},{&quot;_1&quot;:&quot;as&quot;,&quot;_2&quot;:20230},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:20120},{&quot;_1&quot;:&quot;el_&quot;,&quot;_2&quot;:19161},{&quot;_1&quot;:&quot;_co&quot;,&quot;_2&quot;:18712},{&quot;_1&quot;:&quot;ó&quot;,&quot;_2&quot;:18695},{&quot;_1&quot;:&quot;do&quot;,&quot;_2&quot;:17970},{&quot;_1&quot;:&quot;es_&quot;,&quot;_2&quot;:17474},{&quot;_1&quot;:&quot;ón&quot;,&quot;_2&quot;:17249},{&quot;_1&quot;:&quot;ió&quot;,&quot;_2&quot;:17207},{&quot;_1&quot;:&quot;ón_&quot;,&quot;_2&quot;:17204},{&quot;_1&quot;:&quot;_s&quot;,&quot;_2&quot;:17168},{&quot;_1&quot;:&quot;te&quot;,&quot;_2&quot;:17156},{&quot;_1&quot;:&quot;la_&quot;,&quot;_2&quot;:17136},{&quot;_1&quot;:&quot;ión&quot;,&quot;_2&quot;:17128},{&quot;_1&quot;:&quot;ión_&quot;,&quot;_2&quot;:17125},{&quot;_1&quot;:&quot;al&quot;,&quot;_2&quot;:17013},{&quot;_1&quot;:&quot;as_&quot;,&quot;_2&quot;:16984},{&quot;_1&quot;:&quot;_la_&quot;,&quot;_2&quot;:16795},{&quot;_1&quot;:&quot;ro&quot;,&quot;_2&quot;:16615},{&quot;_1&quot;:&quot;ic&quot;,&quot;_2&quot;:16460},{&quot;_1&quot;:&quot;ra&quot;,&quot;_2&quot;:16227},{&quot;_1&quot;:&quot;io&quot;,&quot;_2&quot;:15705},{&quot;_1&quot;:&quot;un&quot;,&quot;_2&quot;:15580},{&quot;_1&quot;:&quot;to&quot;,&quot;_2&quot;:15457},{&quot;_1&quot;:&quot;e_l&quot;,&quot;_2&quot;:15291},{&quot;_1&quot;:&quot;st&quot;,&quot;_2&quot;:15199},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:15175},{&quot;_1&quot;:&quot;se&quot;,&quot;_2&quot;:14785},{&quot;_1&quot;:&quot;ti&quot;,&quot;_2&quot;:13471},{&quot;_1&quot;:&quot;ent&quot;,&quot;_2&quot;:13329},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:13298},{&quot;_1&quot;:&quot;í&quot;,&quot;_2&quot;:13248},{&quot;_1&quot;:&quot;o_d&quot;,&quot;_2&quot;:13138},{&quot;_1&quot;:&quot;cu&quot;,&quot;_2&quot;:13057},{&quot;_1&quot;:&quot;da&quot;,&quot;_2&quot;:12974},{&quot;_1&quot;:&quot;ac&quot;,&quot;_2&quot;:12794},{&quot;_1&quot;:&quot;or&quot;,&quot;_2&quot;:12736},{&quot;_1&quot;:&quot;de_l&quot;,&quot;_2&quot;:12635},{&quot;_1&quot;:&quot;_de_l&quot;,&quot;_2&quot;:12597},{&quot;_1&quot;:&quot;an&quot;,&quot;_2&quot;:12532},{&quot;_1&quot;:&quot;rt&quot;,&quot;_2&quot;:12469},{&quot;_1&quot;:&quot;o_de&quot;,&quot;_2&quot;:12424},{&quot;_1&quot;:&quot;di&quot;,&quot;_2&quot;:12420},{&quot;_1&quot;:&quot;mi&quot;,&quot;_2&quot;:12394},{&quot;_1&quot;:&quot;ado&quot;,&quot;_2&quot;:12389},{&quot;_1&quot;:&quot;na&quot;,&quot;_2&quot;:12274},{&quot;_1&quot;:&quot;con&quot;,&quot;_2&quot;:12272},{&quot;_1&quot;:&quot;ec&quot;,&quot;_2&quot;:12100},{&quot;_1&quot;:&quot;_el&quot;,&quot;_2&quot;:11990},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:11962},{&quot;_1&quot;:&quot;ri&quot;,&quot;_2&quot;:11903},{&quot;_1&quot;:&quot;en_&quot;,&quot;_2&quot;:11821},{&quot;_1&quot;:&quot;r_&quot;,&quot;_2&quot;:11774},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:11654},{&quot;_1&quot;:&quot;pr&quot;,&quot;_2&quot;:11459},{&quot;_1&quot;:&quot;_con&quot;,&quot;_2&quot;:11450},{&quot;_1&quot;:&quot;_en&quot;,&quot;_2&quot;:11426},{&quot;_1&quot;:&quot;_t&quot;,&quot;_2&quot;:11386},{&quot;_1&quot;:&quot;in&quot;,&quot;_2&quot;:11326},{&quot;_1&quot;:&quot;_el_&quot;,&quot;_2&quot;:11268},{&quot;_1&quot;:&quot;ia&quot;,&quot;_2&quot;:11249},{&quot;_1&quot;:&quot;ca&quot;,&quot;_2&quot;:11159},{&quot;_1&quot;:&quot;s_d&quot;,&quot;_2&quot;:11141},{&quot;_1&quot;:&quot;_m&quot;,&quot;_2&quot;:11031},{&quot;_1&quot;:&quot;á&quot;,&quot;_2&quot;:10992},{&quot;_1&quot;:&quot;art&quot;,&quot;_2&quot;:10905},{&quot;_1&quot;:&quot;_u&quot;,&quot;_2&quot;:10858},{&quot;_1&quot;:&quot;ne&quot;,&quot;_2&quot;:10822},{&quot;_1&quot;:&quot;ue&quot;,&quot;_2&quot;:10811},{&quot;_1&quot;:&quot;lo_&quot;,&quot;_2&quot;:10677},{&quot;_1&quot;:&quot;ul&quot;,&quot;_2&quot;:10652},{&quot;_1&quot;:&quot;e_la&quot;,&quot;_2&quot;:10610},{&quot;_1&quot;:&quot;pe&quot;,&quot;_2&quot;:10565},{&quot;_1&quot;:&quot;tr&quot;,&quot;_2&quot;:10556},{&quot;_1&quot;:&quot;si&quot;,&quot;_2&quot;:10469},{&quot;_1&quot;:&quot;po&quot;,&quot;_2&quot;:10390},{&quot;_1&quot;:&quot;_lo&quot;,&quot;_2&quot;:10378},{&quot;_1&quot;:&quot;los&quot;,&quot;_2&quot;:10116},{&quot;_1&quot;:&quot;id&quot;,&quot;_2&quot;:10111},{&quot;_1&quot;:&quot;ni&quot;,&quot;_2&quot;:10099},{&quot;_1&quot;:&quot;los_&quot;,&quot;_2&quot;:10098},{&quot;_1&quot;:&quot;ie&quot;,&quot;_2&quot;:10020},{&quot;_1&quot;:&quot;_un&quot;,&quot;_2&quot;:9840},{&quot;_1&quot;:&quot;do_&quot;,&quot;_2&quot;:9745},{&quot;_1&quot;:&quot;_en_&quot;,&quot;_2&quot;:9653},{&quot;_1&quot;:&quot;al_&quot;,&quot;_2&quot;:9632},{&quot;_1&quot;:&quot;y_&quot;,&quot;_2&quot;:9591},{&quot;_1&quot;:&quot;_y&quot;,&quot;_2&quot;:9575},{&quot;_1&quot;:&quot;_pr&quot;,&quot;_2&quot;:9523},{&quot;_1&quot;:&quot;_y_&quot;,&quot;_2&quot;:9490},{&quot;_1&quot;:&quot;aci&quot;,&quot;_2&quot;:9375},{&quot;_1&quot;:&quot;_los_&quot;,&quot;_2&quot;:9337},{&quot;_1&quot;:&quot;_los&quot;,&quot;_2&quot;:9337},{&quot;_1&quot;:&quot;ció&quot;,&quot;_2&quot;:9310},{&quot;_1&quot;:&quot;ción&quot;,&quot;_2&quot;:9306},{&quot;_1&quot;:&quot;ción_&quot;,&quot;_2&quot;:9303},{&quot;_1&quot;:&quot;ion&quot;,&quot;_2&quot;:9286},{&quot;_1&quot;:&quot;cio&quot;,&quot;_2&quot;:9234},{&quot;_1&quot;:&quot;est&quot;,&quot;_2&quot;:9115},{&quot;_1&quot;:&quot;s_de&quot;,&quot;_2&quot;:9065},{&quot;_1&quot;:&quot;_es&quot;,&quot;_2&quot;:9052},{&quot;_1&quot;:&quot;de_la&quot;,&quot;_2&quot;:9029},{&quot;_1&quot;:&quot;me&quot;,&quot;_2&quot;:9024},{&quot;_1&quot;:&quot;_r&quot;,&quot;_2&quot;:9000},{&quot;_1&quot;:&quot;nte&quot;,&quot;_2&quot;:8969},{&quot;_1&quot;:&quot;is&quot;,&quot;_2&quot;:8967},{&quot;_1&quot;:&quot;n_e&quot;,&quot;_2&quot;:8932},{&quot;_1&quot;:&quot;o_de_&quot;,&quot;_2&quot;:8850},{&quot;_1&quot;:&quot;pa&quot;,&quot;_2&quot;:8786},{&quot;_1&quot;:&quot;rá&quot;,&quot;_2&quot;:8772},{&quot;_1&quot;:&quot;le&quot;,&quot;_2&quot;:8559},{&quot;_1&quot;:&quot;ulo&quot;,&quot;_2&quot;:8490},{&quot;_1&quot;:&quot;_re&quot;,&quot;_2&quot;:8423},{&quot;_1&quot;:&quot;e_la_&quot;,&quot;_2&quot;:8280},{&quot;_1&quot;:&quot;tad&quot;,&quot;_2&quot;:8271},{&quot;_1&quot;:&quot;_ar&quot;,&quot;_2&quot;:8181},{&quot;_1&quot;:&quot;_a_&quot;,&quot;_2&quot;:8145},{&quot;_1&quot;:&quot;to_&quot;,&quot;_2&quot;:8141},{&quot;_1&quot;:&quot;cul&quot;,&quot;_2&quot;:8139},{&quot;_1&quot;:&quot;nc&quot;,&quot;_2&quot;:8111},{&quot;_1&quot;:&quot;tí&quot;,&quot;_2&quot;:8095},{&quot;_1&quot;:&quot;op&quot;,&quot;_2&quot;:7986},{&quot;_1&quot;:&quot;ulo_&quot;,&quot;_2&quot;:7980},{&quot;_1&quot;:&quot;del&quot;,&quot;_2&quot;:7940},{&quot;_1&quot;:&quot;cion&quot;,&quot;_2&quot;:7938},{&quot;_1&quot;:&quot;_del&quot;,&quot;_2&quot;:7909},{&quot;_1&quot;:&quot;_o&quot;,&quot;_2&quot;:7799},{&quot;_1&quot;:&quot;j&quot;,&quot;_2&quot;:7776},{&quot;_1&quot;:&quot;del_&quot;,&quot;_2&quot;:7728},{&quot;_1&quot;:&quot;_del_&quot;,&quot;_2&quot;:7728},{&quot;_1&quot;:&quot;ur&quot;,&quot;_2&quot;:7612},{&quot;_1&quot;:&quot;sta&quot;,&quot;_2&quot;:7605},{&quot;_1&quot;:&quot;o__&quot;,&quot;_2&quot;:7513},{&quot;_1&quot;:&quot;o___&quot;,&quot;_2&quot;:7509},{&quot;_1&quot;:&quot;o____&quot;,&quot;_2&quot;:7501},{&quot;_1&quot;:&quot;om&quot;,&quot;_2&quot;:7461},{&quot;_1&quot;:&quot;q&quot;,&quot;_2&quot;:7431},{&quot;_1&quot;:&quot;qu&quot;,&quot;_2&quot;:7431},{&quot;_1&quot;:&quot;ce&quot;,&quot;_2&quot;:7417},{&quot;_1&quot;:&quot;at&quot;,&quot;_2&quot;:7396},{&quot;_1&quot;:&quot;íc&quot;,&quot;_2&quot;:7386},{&quot;_1&quot;:&quot;tado&quot;,&quot;_2&quot;:7355},{&quot;_1&quot;:&quot;_art&quot;,&quot;_2&quot;:7322},{&quot;_1&quot;:&quot;s_e&quot;,&quot;_2&quot;:7316},{&quot;_1&quot;:&quot;_se&quot;,&quot;_2&quot;:7303},{&quot;_1&quot;:&quot;culo&quot;,&quot;_2&quot;:7296},{&quot;_1&quot;:&quot;rtí&quot;,&quot;_2&quot;:7291},{&quot;_1&quot;:&quot;artí&quot;,&quot;_2&quot;:7291},{&quot;_1&quot;:&quot;ícu&quot;,&quot;_2&quot;:7283},{&quot;_1&quot;:&quot;_artí&quot;,&quot;_2&quot;:7281},{&quot;_1&quot;:&quot;tícu&quot;,&quot;_2&quot;:7279},{&quot;_1&quot;:&quot;tíc&quot;,&quot;_2&quot;:7279},{&quot;_1&quot;:&quot;rtíc&quot;,&quot;_2&quot;:7277},{&quot;_1&quot;:&quot;artíc&quot;,&quot;_2&quot;:7277},{&quot;_1&quot;:&quot;rtícu&quot;,&quot;_2&quot;:7277},{&quot;_1&quot;:&quot;ícul&quot;,&quot;_2&quot;:7233},{&quot;_1&quot;:&quot;tícul&quot;,&quot;_2&quot;:7229},{&quot;_1&quot;:&quot;ículo&quot;,&quot;_2&quot;:7227},{&quot;_1&quot;:&quot;par&quot;,&quot;_2&quot;:7225},{&quot;_1&quot;:&quot;_i&quot;,&quot;_2&quot;:7199},{&quot;_1&quot;:&quot;li&quot;,&quot;_2&quot;:7109},{&quot;_1&quot;:&quot;las&quot;,&quot;_2&quot;:7064},{&quot;_1&quot;:&quot;las_&quot;,&quot;_2&quot;:7046},{&quot;_1&quot;:&quot;s__&quot;,&quot;_2&quot;:6996},{&quot;_1&quot;:&quot;s___&quot;,&quot;_2&quot;:6991},{&quot;_1&quot;:&quot;s____&quot;,&quot;_2&quot;:6979},{&quot;_1&quot;:&quot;ici&quot;,&quot;_2&quot;:6907},{&quot;_1&quot;:&quot;culo_&quot;,&quot;_2&quot;:6854},{&quot;_1&quot;:&quot;res&quot;,&quot;_2&quot;:6832},{&quot;_1&quot;:&quot;_po&quot;,&quot;_2&quot;:6761},{&quot;_1&quot;:&quot;one&quot;,&quot;_2&quot;:6754},{&quot;_1&quot;:&quot;_las&quot;,&quot;_2&quot;:6732},{&quot;_1&quot;:&quot;_las_&quot;,&quot;_2&quot;:6732},{&quot;_1&quot;:&quot;ns&quot;,&quot;_2&quot;:6661},{&quot;_1&quot;:&quot;cia&quot;,&quot;_2&quot;:6602},{&quot;_1&quot;:&quot;nes&quot;,&quot;_2&quot;:6539},{&quot;_1&quot;:&quot;nes_&quot;,&quot;_2&quot;:6499},{&quot;_1&quot;:&quot;ida&quot;,&quot;_2&quot;:6492},{&quot;_1&quot;:&quot;_est&quot;,&quot;_2&quot;:6426},{&quot;_1&quot;:&quot;que&quot;,&quot;_2&quot;:6396},{&quot;_1&quot;:&quot;ue_&quot;,&quot;_2&quot;:6337},{&quot;_1&quot;:&quot;esta&quot;,&quot;_2&quot;:6293},{&quot;_1&quot;:&quot;s_de_&quot;,&quot;_2&quot;:6235},{&quot;_1&quot;:&quot;dos&quot;,&quot;_2&quot;:6186},{&quot;_1&quot;:&quot;em&quot;,&quot;_2&quot;:6185},{&quot;_1&quot;:&quot;com&quot;,&quot;_2&quot;:6182},{&quot;_1&quot;:&quot;_qu&quot;,&quot;_2&quot;:6141},{&quot;_1&quot;:&quot;_q&quot;,&quot;_2&quot;:6141},{&quot;_1&quot;:&quot;ado_&quot;,&quot;_2&quot;:6112},{&quot;_1&quot;:&quot;n_d&quot;,&quot;_2&quot;:6112},{&quot;_1&quot;:&quot;dos_&quot;,&quot;_2&quot;:6097},{&quot;_1&quot;:&quot;tra&quot;,&quot;_2&quot;:6086},{&quot;_1&quot;:&quot;ones&quot;,&quot;_2&quot;:6042},{&quot;_1&quot;:&quot;_di&quot;,&quot;_2&quot;:6036},{&quot;_1&quot;:&quot;ones_&quot;,&quot;_2&quot;:6034},{&quot;_1&quot;:&quot;_n&quot;,&quot;_2&quot;:6031},{&quot;_1&quot;:&quot;ione&quot;,&quot;_2&quot;:6012},{&quot;_1&quot;:&quot;te_&quot;,&quot;_2&quot;:6005},{&quot;_1&quot;:&quot;_pa&quot;,&quot;_2&quot;:5993},{&quot;_1&quot;:&quot;_que&quot;,&quot;_2&quot;:5985},{&quot;_1&quot;:&quot;que_&quot;,&quot;_2&quot;:5984},{&quot;_1&quot;:&quot;iones&quot;,&quot;_2&quot;:5979},{&quot;_1&quot;:&quot;ica&quot;,&quot;_2&quot;:5946},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:5933},{&quot;_1&quot;:&quot;o_e&quot;,&quot;_2&quot;:5899},{&quot;_1&quot;:&quot;su&quot;,&quot;_2&quot;:5890},{&quot;_1&quot;:&quot;_com&quot;,&quot;_2&quot;:5873},{&quot;_1&quot;:&quot;uni&quot;,&quot;_2&quot;:5865},{&quot;_1&quot;:&quot;_que_&quot;,&quot;_2&quot;:5865},{&quot;_1&quot;:&quot;mie&quot;,&quot;_2&quot;:5863},{&quot;_1&quot;:&quot;a_l&quot;,&quot;_2&quot;:5850},{&quot;_1&quot;:&quot;a_d&quot;,&quot;_2&quot;:5832},{&quot;_1&quot;:&quot;ación&quot;,&quot;_2&quot;:5824},{&quot;_1&quot;:&quot;ació&quot;,&quot;_2&quot;:5824},{&quot;_1&quot;:&quot;br&quot;,&quot;_2&quot;:5782},{&quot;_1&quot;:&quot;rop&quot;,&quot;_2&quot;:5751},{&quot;_1&quot;:&quot;o_a&quot;,&quot;_2&quot;:5724},{&quot;_1&quot;:&quot;n_de&quot;,&quot;_2&quot;:5659},{&quot;_1&quot;:&quot;nci&quot;,&quot;_2&quot;:5639},{&quot;_1&quot;:&quot;a_c&quot;,&quot;_2&quot;:5635},{&quot;_1&quot;:&quot;_f&quot;,&quot;_2&quot;:5590},{&quot;_1&quot;:&quot;a__&quot;,&quot;_2&quot;:5558},{&quot;_1&quot;:&quot;a___&quot;,&quot;_2&quot;:5553},{&quot;_1&quot;:&quot;a____&quot;,&quot;_2&quot;:5544},{&quot;_1&quot;:&quot;s_a&quot;,&quot;_2&quot;:5542},{&quot;_1&quot;:&quot;á_&quot;,&quot;_2&quot;:5537},{&quot;_1&quot;:&quot;_in&quot;,&quot;_2&quot;:5498},{&quot;_1&quot;:&quot;rá_&quot;,&quot;_2&quot;:5494},{&quot;_1&quot;:&quot;nto&quot;,&quot;_2&quot;:5475},{&quot;_1&quot;:&quot;s_p&quot;,&quot;_2&quot;:5423},{&quot;_1&quot;:&quot;ope&quot;,&quot;_2&quot;:5349},{&quot;_1&quot;:&quot;ma&quot;,&quot;_2&quot;:5314},{&quot;_1&quot;:&quot;pro&quot;,&quot;_2&quot;:5297},{&quot;_1&quot;:&quot;_esta&quot;,&quot;_2&quot;:5285},{&quot;_1&quot;:&quot;_tr&quot;,&quot;_2&quot;:5279},{&quot;_1&quot;:&quot;am&quot;,&quot;_2&quot;:5269},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:5268},{&quot;_1&quot;:&quot;a_u&quot;,&quot;_2&quot;:5262},{&quot;_1&quot;:&quot;no&quot;,&quot;_2&quot;:5261},{&quot;_1&quot;:&quot;_par&quot;,&quot;_2&quot;:5249},{&quot;_1&quot;:&quot;nd&quot;,&quot;_2&quot;:5207},{&quot;_1&quot;:&quot;eu&quot;,&quot;_2&quot;:5192},{&quot;_1&quot;:&quot;fi&quot;,&quot;_2&quot;:5143},{&quot;_1&quot;:&quot;a_de&quot;,&quot;_2&quot;:5142},{&quot;_1&quot;:&quot;so&quot;,&quot;_2&quot;:5134},{&quot;_1&quot;:&quot;a_un&quot;,&quot;_2&quot;:5108},{&quot;_1&quot;:&quot;_uni&quot;,&quot;_2&quot;:5095},{&quot;_1&quot;:&quot;cione&quot;,&quot;_2&quot;:5037},{&quot;_1&quot;:&quot;uro&quot;,&quot;_2&quot;:5013},{&quot;_1&quot;:&quot;eur&quot;,&quot;_2&quot;:4991},{&quot;_1&quot;:&quot;_eu&quot;,&quot;_2&quot;:4988},{&quot;_1&quot;:&quot;men&quot;,&quot;_2&quot;:4983},{&quot;_1&quot;:&quot;euro&quot;,&quot;_2&quot;:4972}],&quot;genId&quot;:&quot;269243286&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/customPlotlyChart'], \n      function(playground, _magiccustomPlotlyChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magiccustomPlotlyChart,\n    \"o\": {\"js\":\"var layout = {title: 'ngram Frequency Distribution for language: es'}; var dataSources={x: '_1', y: '_2'}; var dataOptions = {type: 'bar'}; var extraOptions = {}\",\"headers\":[\"_1\",\"_2\"],\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon6a432994820dfd5a0b110b1b998b4ebf&quot;,&quot;initialValue&quot;:&quot;300&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon1b1412371aa6ab6bf0dd472214625649&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>"
          },
          "output_type" : "execute_result",
          "execution_count" : 22,
          "time" : "Took: 0.852s, at 2017-09-26 16:24"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "4FD3EE565A16475B98562286FE9C349C"
      },
      "cell_type" : "markdown",
      "source" : "##Create the ngram model per language\nFollowing the paper, we do not require the frequency. Only the position is important."
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "CC945DCAE7C9441D80A1AD04CAA36DCC"
      },
      "cell_type" : "code",
      "source" : [
        "val ngramModelPerLanguage = ngramFrequencyPerLanguage.map{case (lang, seqNgramFreq) => \n",
        "                                                          lang -> seqNgramFreq.map{case (ngram, freq) => ngram}.zipWithIndex.toMap}"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "ngramModelPerLanguage: Seq[(String, scala.collection.immutable.Map[String,Int])] = List((en,Map(ons -> 184, s__ -> 293, e -> 0, se -> 142, ion_ -> 68, le -> 73, for -> 255, ss -> 271, ct -> 138, st -> 89, s -> 7, ec -> 106, _pro -> 206, art -> 127, nc -> 116, ions -> 265, __ -> 215, atio -> 165, ent -> 129, of_t -> 94, wi -> 297, f_t -> 91, in -> 32, _c -> 46, es_ -> 87, pean_ -> 280, ta -> 107, ar -> 55, ns_ -> 220, ty -> 257, is -> 77, r_ -> 61, he_e -> 229, nd_ -> 96, _eu -> 241, ng -> 103, n_o -> 299, eu -> 228, d_ -> 35, ty_ -> 262, _e -> 67, rticl -> 173, _t -> 12, union -> 285, n -> 4, _on -> 272, and_ -> 104, _b -> 85, con -> 234, cle_ -> 180, _to_ -> 125, the_ -> 26, s___ -> 294, co -> 59, hall_ -> 203, ed -> 84, _to -> 119, rti -> 146, ter -> 292, or_ -> 190, si -> 145, li -> ..."
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 23,
          "time" : "Took: 0.639s, at 2017-09-26 16:24"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "presentation" : {
          "tabs_state" : "{\n  \"tab_id\": \"#tab1103504953-0\"\n}",
          "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
        },
        "id" : "06FCC5E38EA04F8A8C2011EAA3A82C78"
      },
      "cell_type" : "code",
      "source" : [
        "val (lang, freq) = ngramModelPerLanguage(0)\n",
        "freq.toSeq.sortBy{case (ngram, idx) => idx}"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "lang: String = en\nfreq: scala.collection.immutable.Map[String,Int] = Map(ons -> 184, s__ -> 293, e -> 0, se -> 142, ion_ -> 68, le -> 73, for -> 255, ss -> 271, ct -> 138, st -> 89, s -> 7, ec -> 106, _pro -> 206, art -> 127, nc -> 116, ions -> 265, __ -> 215, atio -> 165, ent -> 129, of_t -> 94, wi -> 297, f_t -> 91, in -> 32, _c -> 46, es_ -> 87, pean_ -> 280, ta -> 107, ar -> 55, ns_ -> 220, ty -> 257, is -> 77, r_ -> 61, he_e -> 229, nd_ -> 96, _eu -> 241, ng -> 103, n_o -> 299, eu -> 228, d_ -> 35, ty_ -> 262, _e -> 67, rticl -> 173, _t -> 12, union -> 285, n -> 4, _on -> 272, and_ -> 104, _b -> 85, con -> 234, cle_ -> 180, _to_ -> 125, the_ -> 26, s___ -> 294, co -> 59, hall_ -> 203, ed -> 84, _to -> 119, rti -> 146, ter -> 292, or_ -> 190, si -> 145, li -> 153, ns -> 123, y -> 53..."
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon0bc0fe8cba95e43aa97f4ce94d415672&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1103504953&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1103504953\"><li>\n              <a href=\"#tab1103504953-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1103504953-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1103504953-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab1103504953-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1103504953\"><div class=\"tab-pane\" id=\"tab1103504953-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon1ec1f9e5c908136ab72f2c64158c31d5&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:1},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:2},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:3},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:4},{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:5},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:6},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:7},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:8},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:9},{&quot;_1&quot;:&quot;e_&quot;,&quot;_2&quot;:10},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:11},{&quot;_1&quot;:&quot;_t&quot;,&quot;_2&quot;:12},{&quot;_1&quot;:&quot;th&quot;,&quot;_2&quot;:13},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:14},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:15},{&quot;_1&quot;:&quot;_th&quot;,&quot;_2&quot;:16},{&quot;_1&quot;:&quot;he&quot;,&quot;_2&quot;:17},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:18},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:19},{&quot;_1&quot;:&quot;_a&quot;,&quot;_2&quot;:20},{&quot;_1&quot;:&quot;the&quot;,&quot;_2&quot;:21},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:22},{&quot;_1&quot;:&quot;n_&quot;,&quot;_2&quot;:23},{&quot;_1&quot;:&quot;_the&quot;,&quot;_2&quot;:24},{&quot;_1&quot;:&quot;he_&quot;,&quot;_2&quot;:25},{&quot;_1&quot;:&quot;the_&quot;,&quot;_2&quot;:26},{&quot;_1&quot;:&quot;_the_&quot;,&quot;_2&quot;:27},{&quot;_1&quot;:&quot;s_&quot;,&quot;_2&quot;:28},{&quot;_1&quot;:&quot;on&quot;,&quot;_2&quot;:29},{&quot;_1&quot;:&quot;_o&quot;,&quot;_2&quot;:30},{&quot;_1&quot;:&quot;ti&quot;,&quot;_2&quot;:31},{&quot;_1&quot;:&quot;in&quot;,&quot;_2&quot;:32},{&quot;_1&quot;:&quot;an&quot;,&quot;_2&quot;:33},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:34},{&quot;_1&quot;:&quot;d_&quot;,&quot;_2&quot;:35},{&quot;_1&quot;:&quot;re&quot;,&quot;_2&quot;:36},{&quot;_1&quot;:&quot;io&quot;,&quot;_2&quot;:37},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:38},{&quot;_1&quot;:&quot;er&quot;,&quot;_2&quot;:39},{&quot;_1&quot;:&quot;of&quot;,&quot;_2&quot;:40},{&quot;_1&quot;:&quot;_of&quot;,&quot;_2&quot;:41},{&quot;_1&quot;:&quot;ion&quot;,&quot;_2&quot;:42},{&quot;_1&quot;:&quot;at&quot;,&quot;_2&quot;:43},{&quot;_1&quot;:&quot;f_&quot;,&quot;_2&quot;:44},{&quot;_1&quot;:&quot;of_&quot;,&quot;_2&quot;:45},{&quot;_1&quot;:&quot;_c&quot;,&quot;_2&quot;:46},{&quot;_1&quot;:&quot;_of_&quot;,&quot;_2&quot;:47},{&quot;_1&quot;:&quot;l_&quot;,&quot;_2&quot;:48},{&quot;_1&quot;:&quot;t_&quot;,&quot;_2&quot;:49},{&quot;_1&quot;:&quot;on_&quot;,&quot;_2&quot;:50},{&quot;_1&quot;:&quot;_s&quot;,&quot;_2&quot;:51},{&quot;_1&quot;:&quot;al&quot;,&quot;_2&quot;:52},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:53},{&quot;_1&quot;:&quot;_i&quot;,&quot;_2&quot;:54},{&quot;_1&quot;:&quot;ar&quot;,&quot;_2&quot;:55},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:56},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:57},{&quot;_1&quot;:&quot;y_&quot;,&quot;_2&quot;:58},{&quot;_1&quot;:&quot;co&quot;,&quot;_2&quot;:59},{&quot;_1&quot;:&quot;ic&quot;,&quot;_2&quot;:60},{&quot;_1&quot;:&quot;r_&quot;,&quot;_2&quot;:61},{&quot;_1&quot;:&quot;_p&quot;,&quot;_2&quot;:62},{&quot;_1&quot;:&quot;te&quot;,&quot;_2&quot;:63},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:64},{&quot;_1&quot;:&quot;or&quot;,&quot;_2&quot;:65},{&quot;_1&quot;:&quot;nd&quot;,&quot;_2&quot;:66},{&quot;_1&quot;:&quot;_e&quot;,&quot;_2&quot;:67},{&quot;_1&quot;:&quot;ion_&quot;,&quot;_2&quot;:68},{&quot;_1&quot;:&quot;_co&quot;,&quot;_2&quot;:69},{&quot;_1&quot;:&quot;nt&quot;,&quot;_2&quot;:70},{&quot;_1&quot;:&quot;ro&quot;,&quot;_2&quot;:71},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:72},{&quot;_1&quot;:&quot;le&quot;,&quot;_2&quot;:73},{&quot;_1&quot;:&quot;ur&quot;,&quot;_2&quot;:74},{&quot;_1&quot;:&quot;tio&quot;,&quot;_2&quot;:75},{&quot;_1&quot;:&quot;tion&quot;,&quot;_2&quot;:76},{&quot;_1&quot;:&quot;is&quot;,&quot;_2&quot;:77},{&quot;_1&quot;:&quot;_in&quot;,&quot;_2&quot;:78},{&quot;_1&quot;:&quot;me&quot;,&quot;_2&quot;:79},{&quot;_1&quot;:&quot;_an&quot;,&quot;_2&quot;:80},{&quot;_1&quot;:&quot;un&quot;,&quot;_2&quot;:81},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:82},{&quot;_1&quot;:&quot;rt&quot;,&quot;_2&quot;:83},{&quot;_1&quot;:&quot;ed&quot;,&quot;_2&quot;:84},{&quot;_1&quot;:&quot;_b&quot;,&quot;_2&quot;:85},{&quot;_1&quot;:&quot;to&quot;,&quot;_2&quot;:86},{&quot;_1&quot;:&quot;es_&quot;,&quot;_2&quot;:87},{&quot;_1&quot;:&quot;ha&quot;,&quot;_2&quot;:88},{&quot;_1&quot;:&quot;st&quot;,&quot;_2&quot;:89},{&quot;_1&quot;:&quot;ea&quot;,&quot;_2&quot;:90},{&quot;_1&quot;:&quot;f_t&quot;,&quot;_2&quot;:91},{&quot;_1&quot;:&quot;o_&quot;,&quot;_2&quot;:92},{&quot;_1&quot;:&quot;f_th&quot;,&quot;_2&quot;:93},{&quot;_1&quot;:&quot;of_t&quot;,&quot;_2&quot;:94},{&quot;_1&quot;:&quot;_of_t&quot;,&quot;_2&quot;:95},{&quot;_1&quot;:&quot;nd_&quot;,&quot;_2&quot;:96},{&quot;_1&quot;:&quot;of_th&quot;,&quot;_2&quot;:97},{&quot;_1&quot;:&quot;ce&quot;,&quot;_2&quot;:98},{&quot;_1&quot;:&quot;_m&quot;,&quot;_2&quot;:99},{&quot;_1&quot;:&quot;and&quot;,&quot;_2&quot;:100},{&quot;_1&quot;:&quot;f_the&quot;,&quot;_2&quot;:101},{&quot;_1&quot;:&quot;_r&quot;,&quot;_2&quot;:102},{&quot;_1&quot;:&quot;ng&quot;,&quot;_2&quot;:103},{&quot;_1&quot;:&quot;and_&quot;,&quot;_2&quot;:104},{&quot;_1&quot;:&quot;_f&quot;,&quot;_2&quot;:105},{&quot;_1&quot;:&quot;ec&quot;,&quot;_2&quot;:106},{&quot;_1&quot;:&quot;ta&quot;,&quot;_2&quot;:107},{&quot;_1&quot;:&quot;ed_&quot;,&quot;_2&quot;:108},{&quot;_1&quot;:&quot;pr&quot;,&quot;_2&quot;:109},{&quot;_1&quot;:&quot;ati&quot;,&quot;_2&quot;:110},{&quot;_1&quot;:&quot;pe&quot;,&quot;_2&quot;:111},{&quot;_1&quot;:&quot;al_&quot;,&quot;_2&quot;:112},{&quot;_1&quot;:&quot;ni&quot;,&quot;_2&quot;:113},{&quot;_1&quot;:&quot;_and&quot;,&quot;_2&quot;:114},{&quot;_1&quot;:&quot;_and_&quot;,&quot;_2&quot;:115},{&quot;_1&quot;:&quot;nc&quot;,&quot;_2&quot;:116},{&quot;_1&quot;:&quot;to_&quot;,&quot;_2&quot;:117},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:118},{&quot;_1&quot;:&quot;_to&quot;,&quot;_2&quot;:119},{&quot;_1&quot;:&quot;ing&quot;,&quot;_2&quot;:120},{&quot;_1&quot;:&quot;tic&quot;,&quot;_2&quot;:121},{&quot;_1&quot;:&quot;ra&quot;,&quot;_2&quot;:122},{&quot;_1&quot;:&quot;ns&quot;,&quot;_2&quot;:123},{&quot;_1&quot;:&quot;in_&quot;,&quot;_2&quot;:124},{&quot;_1&quot;:&quot;_to_&quot;,&quot;_2&quot;:125},{&quot;_1&quot;:&quot;be&quot;,&quot;_2&quot;:126},{&quot;_1&quot;:&quot;art&quot;,&quot;_2&quot;:127},{&quot;_1&quot;:&quot;le_&quot;,&quot;_2&quot;:128},{&quot;_1&quot;:&quot;ent&quot;,&quot;_2&quot;:129},{&quot;_1&quot;:&quot;ci&quot;,&quot;_2&quot;:130},{&quot;_1&quot;:&quot;op&quot;,&quot;_2&quot;:131},{&quot;_1&quot;:&quot;g_&quot;,&quot;_2&quot;:132},{&quot;_1&quot;:&quot;ou&quot;,&quot;_2&quot;:133},{&quot;_1&quot;:&quot;cl&quot;,&quot;_2&quot;:134},{&quot;_1&quot;:&quot;ng_&quot;,&quot;_2&quot;:135},{&quot;_1&quot;:&quot;_ar&quot;,&quot;_2&quot;:136},{&quot;_1&quot;:&quot;ll&quot;,&quot;_2&quot;:137},{&quot;_1&quot;:&quot;ct&quot;,&quot;_2&quot;:138},{&quot;_1&quot;:&quot;ri&quot;,&quot;_2&quot;:139},{&quot;_1&quot;:&quot;ing_&quot;,&quot;_2&quot;:140},{&quot;_1&quot;:&quot;er_&quot;,&quot;_2&quot;:141},{&quot;_1&quot;:&quot;se&quot;,&quot;_2&quot;:142},{&quot;_1&quot;:&quot;_d&quot;,&quot;_2&quot;:143},{&quot;_1&quot;:&quot;_re&quot;,&quot;_2&quot;:144},{&quot;_1&quot;:&quot;si&quot;,&quot;_2&quot;:145},{&quot;_1&quot;:&quot;rti&quot;,&quot;_2&quot;:146},{&quot;_1&quot;:&quot;_pr&quot;,&quot;_2&quot;:147},{&quot;_1&quot;:&quot;e__&quot;,&quot;_2&quot;:148},{&quot;_1&quot;:&quot;e___&quot;,&quot;_2&quot;:149},{&quot;_1&quot;:&quot;e____&quot;,&quot;_2&quot;:150},{&quot;_1&quot;:&quot;arti&quot;,&quot;_2&quot;:151},{&quot;_1&quot;:&quot;_w&quot;,&quot;_2&quot;:152},{&quot;_1&quot;:&quot;li&quot;,&quot;_2&quot;:153},{&quot;_1&quot;:&quot;_in_&quot;,&quot;_2&quot;:154},{&quot;_1&quot;:&quot;rtic&quot;,&quot;_2&quot;:155},{&quot;_1&quot;:&quot;artic&quot;,&quot;_2&quot;:156},{&quot;_1&quot;:&quot;ve&quot;,&quot;_2&quot;:157},{&quot;_1&quot;:&quot;om&quot;,&quot;_2&quot;:158},{&quot;_1&quot;:&quot;_u&quot;,&quot;_2&quot;:159},{&quot;_1&quot;:&quot;e_c&quot;,&quot;_2&quot;:160},{&quot;_1&quot;:&quot;h_&quot;,&quot;_2&quot;:161},{&quot;_1&quot;:&quot;e_t&quot;,&quot;_2&quot;:162},{&quot;_1&quot;:&quot;sh&quot;,&quot;_2&quot;:163},{&quot;_1&quot;:&quot;tion_&quot;,&quot;_2&quot;:164},{&quot;_1&quot;:&quot;atio&quot;,&quot;_2&quot;:165},{&quot;_1&quot;:&quot;cle&quot;,&quot;_2&quot;:166},{&quot;_1&quot;:&quot;ation&quot;,&quot;_2&quot;:167},{&quot;_1&quot;:&quot;all&quot;,&quot;_2&quot;:168},{&quot;_1&quot;:&quot;icl&quot;,&quot;_2&quot;:169},{&quot;_1&quot;:&quot;_art&quot;,&quot;_2&quot;:170},{&quot;_1&quot;:&quot;_arti&quot;,&quot;_2&quot;:171},{&quot;_1&quot;:&quot;icle&quot;,&quot;_2&quot;:172},{&quot;_1&quot;:&quot;rticl&quot;,&quot;_2&quot;:173},{&quot;_1&quot;:&quot;ticl&quot;,&quot;_2&quot;:174},{&quot;_1&quot;:&quot;ticle&quot;,&quot;_2&quot;:175},{&quot;_1&quot;:&quot;ll_&quot;,&quot;_2&quot;:176},{&quot;_1&quot;:&quot;n_t&quot;,&quot;_2&quot;:177},{&quot;_1&quot;:&quot;na&quot;,&quot;_2&quot;:178},{&quot;_1&quot;:&quot;em&quot;,&quot;_2&quot;:179},{&quot;_1&quot;:&quot;cle_&quot;,&quot;_2&quot;:180},{&quot;_1&quot;:&quot;icle_&quot;,&quot;_2&quot;:181},{&quot;_1&quot;:&quot;pro&quot;,&quot;_2&quot;:182},{&quot;_1&quot;:&quot;all_&quot;,&quot;_2&quot;:183},{&quot;_1&quot;:&quot;ons&quot;,&quot;_2&quot;:184},{&quot;_1&quot;:&quot;_un&quot;,&quot;_2&quot;:185},{&quot;_1&quot;:&quot;_sh&quot;,&quot;_2&quot;:186},{&quot;_1&quot;:&quot;ac&quot;,&quot;_2&quot;:187},{&quot;_1&quot;:&quot;s_o&quot;,&quot;_2&quot;:188},{&quot;_1&quot;:&quot;e_co&quot;,&quot;_2&quot;:189},{&quot;_1&quot;:&quot;or_&quot;,&quot;_2&quot;:190},{&quot;_1&quot;:&quot;he_c&quot;,&quot;_2&quot;:191},{&quot;_1&quot;:&quot;the_c&quot;,&quot;_2&quot;:192},{&quot;_1&quot;:&quot;n_th&quot;,&quot;_2&quot;:193},{&quot;_1&quot;:&quot;sha&quot;,&quot;_2&quot;:194},{&quot;_1&quot;:&quot;_sha&quot;,&quot;_2&quot;:195},{&quot;_1&quot;:&quot;an_&quot;,&quot;_2&quot;:196},{&quot;_1&quot;:&quot;hal&quot;,&quot;_2&quot;:197},{&quot;_1&quot;:&quot;e_a&quot;,&quot;_2&quot;:198},{&quot;_1&quot;:&quot;e_e&quot;,&quot;_2&quot;:199},{&quot;_1&quot;:&quot;hall&quot;,&quot;_2&quot;:200},{&quot;_1&quot;:&quot;_shal&quot;,&quot;_2&quot;:201},{&quot;_1&quot;:&quot;shal&quot;,&quot;_2&quot;:202},{&quot;_1&quot;:&quot;hall_&quot;,&quot;_2&quot;:203},{&quot;_1&quot;:&quot;shall&quot;,&quot;_2&quot;:204},{&quot;_1&quot;:&quot;tr&quot;,&quot;_2&quot;:205},{&quot;_1&quot;:&quot;_pro&quot;,&quot;_2&quot;:206},{&quot;_1&quot;:&quot;as&quot;,&quot;_2&quot;:207},{&quot;_1&quot;:&quot;nt_&quot;,&quot;_2&quot;:208},{&quot;_1&quot;:&quot;ope&quot;,&quot;_2&quot;:209},{&quot;_1&quot;:&quot;rop&quot;,&quot;_2&quot;:210},{&quot;_1&quot;:&quot;a_&quot;,&quot;_2&quot;:211},{&quot;_1&quot;:&quot;men&quot;,&quot;_2&quot;:212},{&quot;_1&quot;:&quot;n_the&quot;,&quot;_2&quot;:213},{&quot;_1&quot;:&quot;n_a&quot;,&quot;_2&quot;:214},{&quot;_1&quot;:&quot;__&quot;,&quot;_2&quot;:215},{&quot;_1&quot;:&quot;ia&quot;,&quot;_2&quot;:216},{&quot;_1&quot;:&quot;uni&quot;,&quot;_2&quot;:217},{&quot;_1&quot;:&quot;la&quot;,&quot;_2&quot;:218},{&quot;_1&quot;:&quot;s_a&quot;,&quot;_2&quot;:219},{&quot;_1&quot;:&quot;ns_&quot;,&quot;_2&quot;:220},{&quot;_1&quot;:&quot;di&quot;,&quot;_2&quot;:221},{&quot;_1&quot;:&quot;ate&quot;,&quot;_2&quot;:222},{&quot;_1&quot;:&quot;e_o&quot;,&quot;_2&quot;:223},{&quot;_1&quot;:&quot;he_co&quot;,&quot;_2&quot;:224},{&quot;_1&quot;:&quot;ne&quot;,&quot;_2&quot;:225},{&quot;_1&quot;:&quot;ma&quot;,&quot;_2&quot;:226},{&quot;_1&quot;:&quot;fo&quot;,&quot;_2&quot;:227},{&quot;_1&quot;:&quot;eu&quot;,&quot;_2&quot;:228},{&quot;_1&quot;:&quot;he_e&quot;,&quot;_2&quot;:229},{&quot;_1&quot;:&quot;the_e&quot;,&quot;_2&quot;:230},{&quot;_1&quot;:&quot;hi&quot;,&quot;_2&quot;:231},{&quot;_1&quot;:&quot;su&quot;,&quot;_2&quot;:232},{&quot;_1&quot;:&quot;ts&quot;,&quot;_2&quot;:233},{&quot;_1&quot;:&quot;con&quot;,&quot;_2&quot;:234},{&quot;_1&quot;:&quot;pa&quot;,&quot;_2&quot;:235},{&quot;_1&quot;:&quot;_n&quot;,&quot;_2&quot;:236},{&quot;_1&quot;:&quot;ts_&quot;,&quot;_2&quot;:237},{&quot;_1&quot;:&quot;ment&quot;,&quot;_2&quot;:238},{&quot;_1&quot;:&quot;_me&quot;,&quot;_2&quot;:239},{&quot;_1&quot;:&quot;sta&quot;,&quot;_2&quot;:240},{&quot;_1&quot;:&quot;_eu&quot;,&quot;_2&quot;:241},{&quot;_1&quot;:&quot;_uni&quot;,&quot;_2&quot;:242},{&quot;_1&quot;:&quot;ons_&quot;,&quot;_2&quot;:243},{&quot;_1&quot;:&quot;ch&quot;,&quot;_2&quot;:244},{&quot;_1&quot;:&quot;d_t&quot;,&quot;_2&quot;:245},{&quot;_1&quot;:&quot;_be&quot;,&quot;_2&quot;:246},{&quot;_1&quot;:&quot;pea&quot;,&quot;_2&quot;:247},{&quot;_1&quot;:&quot;eur&quot;,&quot;_2&quot;:248},{&quot;_1&quot;:&quot;_eur&quot;,&quot;_2&quot;:249},{&quot;_1&quot;:&quot;uro&quot;,&quot;_2&quot;:250},{&quot;_1&quot;:&quot;euro&quot;,&quot;_2&quot;:251},{&quot;_1&quot;:&quot;_euro&quot;,&quot;_2&quot;:252},{&quot;_1&quot;:&quot;ean&quot;,&quot;_2&quot;:253},{&quot;_1&quot;:&quot;il&quot;,&quot;_2&quot;:254},{&quot;_1&quot;:&quot;for&quot;,&quot;_2&quot;:255},{&quot;_1&quot;:&quot;ce_&quot;,&quot;_2&quot;:256},{&quot;_1&quot;:&quot;ty&quot;,&quot;_2&quot;:257},{&quot;_1&quot;:&quot;nio&quot;,&quot;_2&quot;:258},{&quot;_1&quot;:&quot;nion&quot;,&quot;_2&quot;:259},{&quot;_1&quot;:&quot;ent_&quot;,&quot;_2&quot;:260},{&quot;_1&quot;:&quot;rope&quot;,&quot;_2&quot;:261},{&quot;_1&quot;:&quot;ty_&quot;,&quot;_2&quot;:262},{&quot;_1&quot;:&quot;fi&quot;,&quot;_2&quot;:263},{&quot;_1&quot;:&quot;mi&quot;,&quot;_2&quot;:264},{&quot;_1&quot;:&quot;ions&quot;,&quot;_2&quot;:265},{&quot;_1&quot;:&quot;ie&quot;,&quot;_2&quot;:266},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:267},{&quot;_1&quot;:&quot;ions_&quot;,&quot;_2&quot;:268},{&quot;_1&quot;:&quot;urop&quot;,&quot;_2&quot;:269},{&quot;_1&quot;:&quot;europ&quot;,&quot;_2&quot;:270},{&quot;_1&quot;:&quot;ss&quot;,&quot;_2&quot;:271},{&quot;_1&quot;:&quot;_on&quot;,&quot;_2&quot;:272},{&quot;_1&quot;:&quot;urope&quot;,&quot;_2&quot;:273},{&quot;_1&quot;:&quot;s_of&quot;,&quot;_2&quot;:274},{&quot;_1&quot;:&quot;cou&quot;,&quot;_2&quot;:275},{&quot;_1&quot;:&quot;ean_&quot;,&quot;_2&quot;:276},{&quot;_1&quot;:&quot;com&quot;,&quot;_2&quot;:277},{&quot;_1&quot;:&quot;_a_&quot;,&quot;_2&quot;:278},{&quot;_1&quot;:&quot;pean&quot;,&quot;_2&quot;:279},{&quot;_1&quot;:&quot;pean_&quot;,&quot;_2&quot;:280},{&quot;_1&quot;:&quot;opea&quot;,&quot;_2&quot;:281},{&quot;_1&quot;:&quot;opean&quot;,&quot;_2&quot;:282},{&quot;_1&quot;:&quot;ropea&quot;,&quot;_2&quot;:283},{&quot;_1&quot;:&quot;tat&quot;,&quot;_2&quot;:284},{&quot;_1&quot;:&quot;union&quot;,&quot;_2&quot;:285},{&quot;_1&quot;:&quot;unio&quot;,&quot;_2&quot;:286},{&quot;_1&quot;:&quot;_unio&quot;,&quot;_2&quot;:287},{&quot;_1&quot;:&quot;s_of_&quot;,&quot;_2&quot;:288},{&quot;_1&quot;:&quot;cti&quot;,&quot;_2&quot;:289},{&quot;_1&quot;:&quot;po&quot;,&quot;_2&quot;:290},{&quot;_1&quot;:&quot;nion_&quot;,&quot;_2&quot;:291},{&quot;_1&quot;:&quot;ter&quot;,&quot;_2&quot;:292},{&quot;_1&quot;:&quot;s__&quot;,&quot;_2&quot;:293},{&quot;_1&quot;:&quot;s___&quot;,&quot;_2&quot;:294},{&quot;_1&quot;:&quot;s____&quot;,&quot;_2&quot;:295},{&quot;_1&quot;:&quot;_con&quot;,&quot;_2&quot;:296},{&quot;_1&quot;:&quot;wi&quot;,&quot;_2&quot;:297},{&quot;_1&quot;:&quot;_st&quot;,&quot;_2&quot;:298},{&quot;_1&quot;:&quot;n_o&quot;,&quot;_2&quot;:299}],&quot;genId&quot;:&quot;1370794511&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon39eed8799c0fcdab7f1ed38a47cd3d90&quot;,&quot;initialValue&quot;:&quot;300&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon839d46955793fdb7b4b38a11a91dd1ba&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1103504953-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon64ba8f9a02018a6484af453ac52bfbdc&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:1},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:2},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:3},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:4},{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:5},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:6},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:7},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:8},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:9},{&quot;_1&quot;:&quot;e_&quot;,&quot;_2&quot;:10},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:11},{&quot;_1&quot;:&quot;_t&quot;,&quot;_2&quot;:12},{&quot;_1&quot;:&quot;th&quot;,&quot;_2&quot;:13},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:14},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:15},{&quot;_1&quot;:&quot;_th&quot;,&quot;_2&quot;:16},{&quot;_1&quot;:&quot;he&quot;,&quot;_2&quot;:17},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:18},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:19},{&quot;_1&quot;:&quot;_a&quot;,&quot;_2&quot;:20},{&quot;_1&quot;:&quot;the&quot;,&quot;_2&quot;:21},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:22},{&quot;_1&quot;:&quot;n_&quot;,&quot;_2&quot;:23},{&quot;_1&quot;:&quot;_the&quot;,&quot;_2&quot;:24},{&quot;_1&quot;:&quot;he_&quot;,&quot;_2&quot;:25},{&quot;_1&quot;:&quot;the_&quot;,&quot;_2&quot;:26},{&quot;_1&quot;:&quot;_the_&quot;,&quot;_2&quot;:27},{&quot;_1&quot;:&quot;s_&quot;,&quot;_2&quot;:28},{&quot;_1&quot;:&quot;on&quot;,&quot;_2&quot;:29},{&quot;_1&quot;:&quot;_o&quot;,&quot;_2&quot;:30},{&quot;_1&quot;:&quot;ti&quot;,&quot;_2&quot;:31},{&quot;_1&quot;:&quot;in&quot;,&quot;_2&quot;:32},{&quot;_1&quot;:&quot;an&quot;,&quot;_2&quot;:33},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:34},{&quot;_1&quot;:&quot;d_&quot;,&quot;_2&quot;:35},{&quot;_1&quot;:&quot;re&quot;,&quot;_2&quot;:36},{&quot;_1&quot;:&quot;io&quot;,&quot;_2&quot;:37},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:38},{&quot;_1&quot;:&quot;er&quot;,&quot;_2&quot;:39},{&quot;_1&quot;:&quot;of&quot;,&quot;_2&quot;:40},{&quot;_1&quot;:&quot;_of&quot;,&quot;_2&quot;:41},{&quot;_1&quot;:&quot;ion&quot;,&quot;_2&quot;:42},{&quot;_1&quot;:&quot;at&quot;,&quot;_2&quot;:43},{&quot;_1&quot;:&quot;f_&quot;,&quot;_2&quot;:44},{&quot;_1&quot;:&quot;of_&quot;,&quot;_2&quot;:45},{&quot;_1&quot;:&quot;_c&quot;,&quot;_2&quot;:46},{&quot;_1&quot;:&quot;_of_&quot;,&quot;_2&quot;:47},{&quot;_1&quot;:&quot;l_&quot;,&quot;_2&quot;:48},{&quot;_1&quot;:&quot;t_&quot;,&quot;_2&quot;:49},{&quot;_1&quot;:&quot;on_&quot;,&quot;_2&quot;:50},{&quot;_1&quot;:&quot;_s&quot;,&quot;_2&quot;:51},{&quot;_1&quot;:&quot;al&quot;,&quot;_2&quot;:52},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:53},{&quot;_1&quot;:&quot;_i&quot;,&quot;_2&quot;:54},{&quot;_1&quot;:&quot;ar&quot;,&quot;_2&quot;:55},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:56},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:57},{&quot;_1&quot;:&quot;y_&quot;,&quot;_2&quot;:58},{&quot;_1&quot;:&quot;co&quot;,&quot;_2&quot;:59},{&quot;_1&quot;:&quot;ic&quot;,&quot;_2&quot;:60},{&quot;_1&quot;:&quot;r_&quot;,&quot;_2&quot;:61},{&quot;_1&quot;:&quot;_p&quot;,&quot;_2&quot;:62},{&quot;_1&quot;:&quot;te&quot;,&quot;_2&quot;:63},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:64},{&quot;_1&quot;:&quot;or&quot;,&quot;_2&quot;:65},{&quot;_1&quot;:&quot;nd&quot;,&quot;_2&quot;:66},{&quot;_1&quot;:&quot;_e&quot;,&quot;_2&quot;:67},{&quot;_1&quot;:&quot;ion_&quot;,&quot;_2&quot;:68},{&quot;_1&quot;:&quot;_co&quot;,&quot;_2&quot;:69},{&quot;_1&quot;:&quot;nt&quot;,&quot;_2&quot;:70},{&quot;_1&quot;:&quot;ro&quot;,&quot;_2&quot;:71},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:72},{&quot;_1&quot;:&quot;le&quot;,&quot;_2&quot;:73},{&quot;_1&quot;:&quot;ur&quot;,&quot;_2&quot;:74},{&quot;_1&quot;:&quot;tio&quot;,&quot;_2&quot;:75},{&quot;_1&quot;:&quot;tion&quot;,&quot;_2&quot;:76},{&quot;_1&quot;:&quot;is&quot;,&quot;_2&quot;:77},{&quot;_1&quot;:&quot;_in&quot;,&quot;_2&quot;:78},{&quot;_1&quot;:&quot;me&quot;,&quot;_2&quot;:79},{&quot;_1&quot;:&quot;_an&quot;,&quot;_2&quot;:80},{&quot;_1&quot;:&quot;un&quot;,&quot;_2&quot;:81},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:82},{&quot;_1&quot;:&quot;rt&quot;,&quot;_2&quot;:83},{&quot;_1&quot;:&quot;ed&quot;,&quot;_2&quot;:84},{&quot;_1&quot;:&quot;_b&quot;,&quot;_2&quot;:85},{&quot;_1&quot;:&quot;to&quot;,&quot;_2&quot;:86},{&quot;_1&quot;:&quot;es_&quot;,&quot;_2&quot;:87},{&quot;_1&quot;:&quot;ha&quot;,&quot;_2&quot;:88},{&quot;_1&quot;:&quot;st&quot;,&quot;_2&quot;:89},{&quot;_1&quot;:&quot;ea&quot;,&quot;_2&quot;:90},{&quot;_1&quot;:&quot;f_t&quot;,&quot;_2&quot;:91},{&quot;_1&quot;:&quot;o_&quot;,&quot;_2&quot;:92},{&quot;_1&quot;:&quot;f_th&quot;,&quot;_2&quot;:93},{&quot;_1&quot;:&quot;of_t&quot;,&quot;_2&quot;:94},{&quot;_1&quot;:&quot;_of_t&quot;,&quot;_2&quot;:95},{&quot;_1&quot;:&quot;nd_&quot;,&quot;_2&quot;:96},{&quot;_1&quot;:&quot;of_th&quot;,&quot;_2&quot;:97},{&quot;_1&quot;:&quot;ce&quot;,&quot;_2&quot;:98},{&quot;_1&quot;:&quot;_m&quot;,&quot;_2&quot;:99},{&quot;_1&quot;:&quot;and&quot;,&quot;_2&quot;:100},{&quot;_1&quot;:&quot;f_the&quot;,&quot;_2&quot;:101},{&quot;_1&quot;:&quot;_r&quot;,&quot;_2&quot;:102},{&quot;_1&quot;:&quot;ng&quot;,&quot;_2&quot;:103},{&quot;_1&quot;:&quot;and_&quot;,&quot;_2&quot;:104},{&quot;_1&quot;:&quot;_f&quot;,&quot;_2&quot;:105},{&quot;_1&quot;:&quot;ec&quot;,&quot;_2&quot;:106},{&quot;_1&quot;:&quot;ta&quot;,&quot;_2&quot;:107},{&quot;_1&quot;:&quot;ed_&quot;,&quot;_2&quot;:108},{&quot;_1&quot;:&quot;pr&quot;,&quot;_2&quot;:109},{&quot;_1&quot;:&quot;ati&quot;,&quot;_2&quot;:110},{&quot;_1&quot;:&quot;pe&quot;,&quot;_2&quot;:111},{&quot;_1&quot;:&quot;al_&quot;,&quot;_2&quot;:112},{&quot;_1&quot;:&quot;ni&quot;,&quot;_2&quot;:113},{&quot;_1&quot;:&quot;_and&quot;,&quot;_2&quot;:114},{&quot;_1&quot;:&quot;_and_&quot;,&quot;_2&quot;:115},{&quot;_1&quot;:&quot;nc&quot;,&quot;_2&quot;:116},{&quot;_1&quot;:&quot;to_&quot;,&quot;_2&quot;:117},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:118},{&quot;_1&quot;:&quot;_to&quot;,&quot;_2&quot;:119},{&quot;_1&quot;:&quot;ing&quot;,&quot;_2&quot;:120},{&quot;_1&quot;:&quot;tic&quot;,&quot;_2&quot;:121},{&quot;_1&quot;:&quot;ra&quot;,&quot;_2&quot;:122},{&quot;_1&quot;:&quot;ns&quot;,&quot;_2&quot;:123},{&quot;_1&quot;:&quot;in_&quot;,&quot;_2&quot;:124},{&quot;_1&quot;:&quot;_to_&quot;,&quot;_2&quot;:125},{&quot;_1&quot;:&quot;be&quot;,&quot;_2&quot;:126},{&quot;_1&quot;:&quot;art&quot;,&quot;_2&quot;:127},{&quot;_1&quot;:&quot;le_&quot;,&quot;_2&quot;:128},{&quot;_1&quot;:&quot;ent&quot;,&quot;_2&quot;:129},{&quot;_1&quot;:&quot;ci&quot;,&quot;_2&quot;:130},{&quot;_1&quot;:&quot;op&quot;,&quot;_2&quot;:131},{&quot;_1&quot;:&quot;g_&quot;,&quot;_2&quot;:132},{&quot;_1&quot;:&quot;ou&quot;,&quot;_2&quot;:133},{&quot;_1&quot;:&quot;cl&quot;,&quot;_2&quot;:134},{&quot;_1&quot;:&quot;ng_&quot;,&quot;_2&quot;:135},{&quot;_1&quot;:&quot;_ar&quot;,&quot;_2&quot;:136},{&quot;_1&quot;:&quot;ll&quot;,&quot;_2&quot;:137},{&quot;_1&quot;:&quot;ct&quot;,&quot;_2&quot;:138},{&quot;_1&quot;:&quot;ri&quot;,&quot;_2&quot;:139},{&quot;_1&quot;:&quot;ing_&quot;,&quot;_2&quot;:140},{&quot;_1&quot;:&quot;er_&quot;,&quot;_2&quot;:141},{&quot;_1&quot;:&quot;se&quot;,&quot;_2&quot;:142},{&quot;_1&quot;:&quot;_d&quot;,&quot;_2&quot;:143},{&quot;_1&quot;:&quot;_re&quot;,&quot;_2&quot;:144},{&quot;_1&quot;:&quot;si&quot;,&quot;_2&quot;:145},{&quot;_1&quot;:&quot;rti&quot;,&quot;_2&quot;:146},{&quot;_1&quot;:&quot;_pr&quot;,&quot;_2&quot;:147},{&quot;_1&quot;:&quot;e__&quot;,&quot;_2&quot;:148},{&quot;_1&quot;:&quot;e___&quot;,&quot;_2&quot;:149},{&quot;_1&quot;:&quot;e____&quot;,&quot;_2&quot;:150},{&quot;_1&quot;:&quot;arti&quot;,&quot;_2&quot;:151},{&quot;_1&quot;:&quot;_w&quot;,&quot;_2&quot;:152},{&quot;_1&quot;:&quot;li&quot;,&quot;_2&quot;:153},{&quot;_1&quot;:&quot;_in_&quot;,&quot;_2&quot;:154},{&quot;_1&quot;:&quot;rtic&quot;,&quot;_2&quot;:155},{&quot;_1&quot;:&quot;artic&quot;,&quot;_2&quot;:156},{&quot;_1&quot;:&quot;ve&quot;,&quot;_2&quot;:157},{&quot;_1&quot;:&quot;om&quot;,&quot;_2&quot;:158},{&quot;_1&quot;:&quot;_u&quot;,&quot;_2&quot;:159},{&quot;_1&quot;:&quot;e_c&quot;,&quot;_2&quot;:160},{&quot;_1&quot;:&quot;h_&quot;,&quot;_2&quot;:161},{&quot;_1&quot;:&quot;e_t&quot;,&quot;_2&quot;:162},{&quot;_1&quot;:&quot;sh&quot;,&quot;_2&quot;:163},{&quot;_1&quot;:&quot;tion_&quot;,&quot;_2&quot;:164},{&quot;_1&quot;:&quot;atio&quot;,&quot;_2&quot;:165},{&quot;_1&quot;:&quot;cle&quot;,&quot;_2&quot;:166},{&quot;_1&quot;:&quot;ation&quot;,&quot;_2&quot;:167},{&quot;_1&quot;:&quot;all&quot;,&quot;_2&quot;:168},{&quot;_1&quot;:&quot;icl&quot;,&quot;_2&quot;:169},{&quot;_1&quot;:&quot;_art&quot;,&quot;_2&quot;:170},{&quot;_1&quot;:&quot;_arti&quot;,&quot;_2&quot;:171},{&quot;_1&quot;:&quot;icle&quot;,&quot;_2&quot;:172},{&quot;_1&quot;:&quot;rticl&quot;,&quot;_2&quot;:173},{&quot;_1&quot;:&quot;ticl&quot;,&quot;_2&quot;:174},{&quot;_1&quot;:&quot;ticle&quot;,&quot;_2&quot;:175},{&quot;_1&quot;:&quot;ll_&quot;,&quot;_2&quot;:176},{&quot;_1&quot;:&quot;n_t&quot;,&quot;_2&quot;:177},{&quot;_1&quot;:&quot;na&quot;,&quot;_2&quot;:178},{&quot;_1&quot;:&quot;em&quot;,&quot;_2&quot;:179},{&quot;_1&quot;:&quot;cle_&quot;,&quot;_2&quot;:180},{&quot;_1&quot;:&quot;icle_&quot;,&quot;_2&quot;:181},{&quot;_1&quot;:&quot;pro&quot;,&quot;_2&quot;:182},{&quot;_1&quot;:&quot;all_&quot;,&quot;_2&quot;:183},{&quot;_1&quot;:&quot;ons&quot;,&quot;_2&quot;:184},{&quot;_1&quot;:&quot;_un&quot;,&quot;_2&quot;:185},{&quot;_1&quot;:&quot;_sh&quot;,&quot;_2&quot;:186},{&quot;_1&quot;:&quot;ac&quot;,&quot;_2&quot;:187},{&quot;_1&quot;:&quot;s_o&quot;,&quot;_2&quot;:188},{&quot;_1&quot;:&quot;e_co&quot;,&quot;_2&quot;:189},{&quot;_1&quot;:&quot;or_&quot;,&quot;_2&quot;:190},{&quot;_1&quot;:&quot;he_c&quot;,&quot;_2&quot;:191},{&quot;_1&quot;:&quot;the_c&quot;,&quot;_2&quot;:192},{&quot;_1&quot;:&quot;n_th&quot;,&quot;_2&quot;:193},{&quot;_1&quot;:&quot;sha&quot;,&quot;_2&quot;:194},{&quot;_1&quot;:&quot;_sha&quot;,&quot;_2&quot;:195},{&quot;_1&quot;:&quot;an_&quot;,&quot;_2&quot;:196},{&quot;_1&quot;:&quot;hal&quot;,&quot;_2&quot;:197},{&quot;_1&quot;:&quot;e_a&quot;,&quot;_2&quot;:198},{&quot;_1&quot;:&quot;e_e&quot;,&quot;_2&quot;:199},{&quot;_1&quot;:&quot;hall&quot;,&quot;_2&quot;:200},{&quot;_1&quot;:&quot;_shal&quot;,&quot;_2&quot;:201},{&quot;_1&quot;:&quot;shal&quot;,&quot;_2&quot;:202},{&quot;_1&quot;:&quot;hall_&quot;,&quot;_2&quot;:203},{&quot;_1&quot;:&quot;shall&quot;,&quot;_2&quot;:204},{&quot;_1&quot;:&quot;tr&quot;,&quot;_2&quot;:205},{&quot;_1&quot;:&quot;_pro&quot;,&quot;_2&quot;:206},{&quot;_1&quot;:&quot;as&quot;,&quot;_2&quot;:207},{&quot;_1&quot;:&quot;nt_&quot;,&quot;_2&quot;:208},{&quot;_1&quot;:&quot;ope&quot;,&quot;_2&quot;:209},{&quot;_1&quot;:&quot;rop&quot;,&quot;_2&quot;:210},{&quot;_1&quot;:&quot;a_&quot;,&quot;_2&quot;:211},{&quot;_1&quot;:&quot;men&quot;,&quot;_2&quot;:212},{&quot;_1&quot;:&quot;n_the&quot;,&quot;_2&quot;:213},{&quot;_1&quot;:&quot;n_a&quot;,&quot;_2&quot;:214},{&quot;_1&quot;:&quot;__&quot;,&quot;_2&quot;:215},{&quot;_1&quot;:&quot;ia&quot;,&quot;_2&quot;:216},{&quot;_1&quot;:&quot;uni&quot;,&quot;_2&quot;:217},{&quot;_1&quot;:&quot;la&quot;,&quot;_2&quot;:218},{&quot;_1&quot;:&quot;s_a&quot;,&quot;_2&quot;:219},{&quot;_1&quot;:&quot;ns_&quot;,&quot;_2&quot;:220},{&quot;_1&quot;:&quot;di&quot;,&quot;_2&quot;:221},{&quot;_1&quot;:&quot;ate&quot;,&quot;_2&quot;:222},{&quot;_1&quot;:&quot;e_o&quot;,&quot;_2&quot;:223},{&quot;_1&quot;:&quot;he_co&quot;,&quot;_2&quot;:224},{&quot;_1&quot;:&quot;ne&quot;,&quot;_2&quot;:225},{&quot;_1&quot;:&quot;ma&quot;,&quot;_2&quot;:226},{&quot;_1&quot;:&quot;fo&quot;,&quot;_2&quot;:227},{&quot;_1&quot;:&quot;eu&quot;,&quot;_2&quot;:228},{&quot;_1&quot;:&quot;he_e&quot;,&quot;_2&quot;:229},{&quot;_1&quot;:&quot;the_e&quot;,&quot;_2&quot;:230},{&quot;_1&quot;:&quot;hi&quot;,&quot;_2&quot;:231},{&quot;_1&quot;:&quot;su&quot;,&quot;_2&quot;:232},{&quot;_1&quot;:&quot;ts&quot;,&quot;_2&quot;:233},{&quot;_1&quot;:&quot;con&quot;,&quot;_2&quot;:234},{&quot;_1&quot;:&quot;pa&quot;,&quot;_2&quot;:235},{&quot;_1&quot;:&quot;_n&quot;,&quot;_2&quot;:236},{&quot;_1&quot;:&quot;ts_&quot;,&quot;_2&quot;:237},{&quot;_1&quot;:&quot;ment&quot;,&quot;_2&quot;:238},{&quot;_1&quot;:&quot;_me&quot;,&quot;_2&quot;:239},{&quot;_1&quot;:&quot;sta&quot;,&quot;_2&quot;:240},{&quot;_1&quot;:&quot;_eu&quot;,&quot;_2&quot;:241},{&quot;_1&quot;:&quot;_uni&quot;,&quot;_2&quot;:242},{&quot;_1&quot;:&quot;ons_&quot;,&quot;_2&quot;:243},{&quot;_1&quot;:&quot;ch&quot;,&quot;_2&quot;:244},{&quot;_1&quot;:&quot;d_t&quot;,&quot;_2&quot;:245},{&quot;_1&quot;:&quot;_be&quot;,&quot;_2&quot;:246},{&quot;_1&quot;:&quot;pea&quot;,&quot;_2&quot;:247},{&quot;_1&quot;:&quot;eur&quot;,&quot;_2&quot;:248},{&quot;_1&quot;:&quot;_eur&quot;,&quot;_2&quot;:249},{&quot;_1&quot;:&quot;uro&quot;,&quot;_2&quot;:250},{&quot;_1&quot;:&quot;euro&quot;,&quot;_2&quot;:251},{&quot;_1&quot;:&quot;_euro&quot;,&quot;_2&quot;:252},{&quot;_1&quot;:&quot;ean&quot;,&quot;_2&quot;:253},{&quot;_1&quot;:&quot;il&quot;,&quot;_2&quot;:254},{&quot;_1&quot;:&quot;for&quot;,&quot;_2&quot;:255},{&quot;_1&quot;:&quot;ce_&quot;,&quot;_2&quot;:256},{&quot;_1&quot;:&quot;ty&quot;,&quot;_2&quot;:257},{&quot;_1&quot;:&quot;nio&quot;,&quot;_2&quot;:258},{&quot;_1&quot;:&quot;nion&quot;,&quot;_2&quot;:259},{&quot;_1&quot;:&quot;ent_&quot;,&quot;_2&quot;:260},{&quot;_1&quot;:&quot;rope&quot;,&quot;_2&quot;:261},{&quot;_1&quot;:&quot;ty_&quot;,&quot;_2&quot;:262},{&quot;_1&quot;:&quot;fi&quot;,&quot;_2&quot;:263},{&quot;_1&quot;:&quot;mi&quot;,&quot;_2&quot;:264},{&quot;_1&quot;:&quot;ions&quot;,&quot;_2&quot;:265},{&quot;_1&quot;:&quot;ie&quot;,&quot;_2&quot;:266},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:267},{&quot;_1&quot;:&quot;ions_&quot;,&quot;_2&quot;:268},{&quot;_1&quot;:&quot;urop&quot;,&quot;_2&quot;:269},{&quot;_1&quot;:&quot;europ&quot;,&quot;_2&quot;:270},{&quot;_1&quot;:&quot;ss&quot;,&quot;_2&quot;:271},{&quot;_1&quot;:&quot;_on&quot;,&quot;_2&quot;:272},{&quot;_1&quot;:&quot;urope&quot;,&quot;_2&quot;:273},{&quot;_1&quot;:&quot;s_of&quot;,&quot;_2&quot;:274},{&quot;_1&quot;:&quot;cou&quot;,&quot;_2&quot;:275},{&quot;_1&quot;:&quot;ean_&quot;,&quot;_2&quot;:276},{&quot;_1&quot;:&quot;com&quot;,&quot;_2&quot;:277},{&quot;_1&quot;:&quot;_a_&quot;,&quot;_2&quot;:278},{&quot;_1&quot;:&quot;pean&quot;,&quot;_2&quot;:279},{&quot;_1&quot;:&quot;pean_&quot;,&quot;_2&quot;:280},{&quot;_1&quot;:&quot;opea&quot;,&quot;_2&quot;:281},{&quot;_1&quot;:&quot;opean&quot;,&quot;_2&quot;:282},{&quot;_1&quot;:&quot;ropea&quot;,&quot;_2&quot;:283},{&quot;_1&quot;:&quot;tat&quot;,&quot;_2&quot;:284},{&quot;_1&quot;:&quot;union&quot;,&quot;_2&quot;:285},{&quot;_1&quot;:&quot;unio&quot;,&quot;_2&quot;:286},{&quot;_1&quot;:&quot;_unio&quot;,&quot;_2&quot;:287},{&quot;_1&quot;:&quot;s_of_&quot;,&quot;_2&quot;:288},{&quot;_1&quot;:&quot;cti&quot;,&quot;_2&quot;:289},{&quot;_1&quot;:&quot;po&quot;,&quot;_2&quot;:290},{&quot;_1&quot;:&quot;nion_&quot;,&quot;_2&quot;:291},{&quot;_1&quot;:&quot;ter&quot;,&quot;_2&quot;:292},{&quot;_1&quot;:&quot;s__&quot;,&quot;_2&quot;:293},{&quot;_1&quot;:&quot;s___&quot;,&quot;_2&quot;:294},{&quot;_1&quot;:&quot;s____&quot;,&quot;_2&quot;:295},{&quot;_1&quot;:&quot;_con&quot;,&quot;_2&quot;:296},{&quot;_1&quot;:&quot;wi&quot;,&quot;_2&quot;:297},{&quot;_1&quot;:&quot;_st&quot;,&quot;_2&quot;:298},{&quot;_1&quot;:&quot;n_o&quot;,&quot;_2&quot;:299}],&quot;genId&quot;:&quot;134430259&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb1c8af0c4f79723aa74fe937673a6f71&quot;,&quot;initialValue&quot;:&quot;300&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon0557d7abb52444ca4bb07f55bc0a6d9c&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1103504953-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon5eb01f4ed1fd5fc5f6bb07d36b08220d&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:1},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:2},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:3},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:4},{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:5},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:6},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:7},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:8},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:9},{&quot;_1&quot;:&quot;e_&quot;,&quot;_2&quot;:10},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:11},{&quot;_1&quot;:&quot;_t&quot;,&quot;_2&quot;:12},{&quot;_1&quot;:&quot;th&quot;,&quot;_2&quot;:13},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:14},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:15},{&quot;_1&quot;:&quot;_th&quot;,&quot;_2&quot;:16},{&quot;_1&quot;:&quot;he&quot;,&quot;_2&quot;:17},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:18},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:19},{&quot;_1&quot;:&quot;_a&quot;,&quot;_2&quot;:20},{&quot;_1&quot;:&quot;the&quot;,&quot;_2&quot;:21},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:22},{&quot;_1&quot;:&quot;n_&quot;,&quot;_2&quot;:23},{&quot;_1&quot;:&quot;_the&quot;,&quot;_2&quot;:24},{&quot;_1&quot;:&quot;he_&quot;,&quot;_2&quot;:25},{&quot;_1&quot;:&quot;the_&quot;,&quot;_2&quot;:26},{&quot;_1&quot;:&quot;_the_&quot;,&quot;_2&quot;:27},{&quot;_1&quot;:&quot;s_&quot;,&quot;_2&quot;:28},{&quot;_1&quot;:&quot;on&quot;,&quot;_2&quot;:29},{&quot;_1&quot;:&quot;_o&quot;,&quot;_2&quot;:30},{&quot;_1&quot;:&quot;ti&quot;,&quot;_2&quot;:31},{&quot;_1&quot;:&quot;in&quot;,&quot;_2&quot;:32},{&quot;_1&quot;:&quot;an&quot;,&quot;_2&quot;:33},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:34},{&quot;_1&quot;:&quot;d_&quot;,&quot;_2&quot;:35},{&quot;_1&quot;:&quot;re&quot;,&quot;_2&quot;:36},{&quot;_1&quot;:&quot;io&quot;,&quot;_2&quot;:37},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:38},{&quot;_1&quot;:&quot;er&quot;,&quot;_2&quot;:39},{&quot;_1&quot;:&quot;of&quot;,&quot;_2&quot;:40},{&quot;_1&quot;:&quot;_of&quot;,&quot;_2&quot;:41},{&quot;_1&quot;:&quot;ion&quot;,&quot;_2&quot;:42},{&quot;_1&quot;:&quot;at&quot;,&quot;_2&quot;:43},{&quot;_1&quot;:&quot;f_&quot;,&quot;_2&quot;:44},{&quot;_1&quot;:&quot;of_&quot;,&quot;_2&quot;:45},{&quot;_1&quot;:&quot;_c&quot;,&quot;_2&quot;:46},{&quot;_1&quot;:&quot;_of_&quot;,&quot;_2&quot;:47},{&quot;_1&quot;:&quot;l_&quot;,&quot;_2&quot;:48},{&quot;_1&quot;:&quot;t_&quot;,&quot;_2&quot;:49},{&quot;_1&quot;:&quot;on_&quot;,&quot;_2&quot;:50},{&quot;_1&quot;:&quot;_s&quot;,&quot;_2&quot;:51},{&quot;_1&quot;:&quot;al&quot;,&quot;_2&quot;:52},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:53},{&quot;_1&quot;:&quot;_i&quot;,&quot;_2&quot;:54},{&quot;_1&quot;:&quot;ar&quot;,&quot;_2&quot;:55},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:56},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:57},{&quot;_1&quot;:&quot;y_&quot;,&quot;_2&quot;:58},{&quot;_1&quot;:&quot;co&quot;,&quot;_2&quot;:59},{&quot;_1&quot;:&quot;ic&quot;,&quot;_2&quot;:60},{&quot;_1&quot;:&quot;r_&quot;,&quot;_2&quot;:61},{&quot;_1&quot;:&quot;_p&quot;,&quot;_2&quot;:62},{&quot;_1&quot;:&quot;te&quot;,&quot;_2&quot;:63},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:64},{&quot;_1&quot;:&quot;or&quot;,&quot;_2&quot;:65},{&quot;_1&quot;:&quot;nd&quot;,&quot;_2&quot;:66},{&quot;_1&quot;:&quot;_e&quot;,&quot;_2&quot;:67},{&quot;_1&quot;:&quot;ion_&quot;,&quot;_2&quot;:68},{&quot;_1&quot;:&quot;_co&quot;,&quot;_2&quot;:69},{&quot;_1&quot;:&quot;nt&quot;,&quot;_2&quot;:70},{&quot;_1&quot;:&quot;ro&quot;,&quot;_2&quot;:71},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:72},{&quot;_1&quot;:&quot;le&quot;,&quot;_2&quot;:73},{&quot;_1&quot;:&quot;ur&quot;,&quot;_2&quot;:74},{&quot;_1&quot;:&quot;tio&quot;,&quot;_2&quot;:75},{&quot;_1&quot;:&quot;tion&quot;,&quot;_2&quot;:76},{&quot;_1&quot;:&quot;is&quot;,&quot;_2&quot;:77},{&quot;_1&quot;:&quot;_in&quot;,&quot;_2&quot;:78},{&quot;_1&quot;:&quot;me&quot;,&quot;_2&quot;:79},{&quot;_1&quot;:&quot;_an&quot;,&quot;_2&quot;:80},{&quot;_1&quot;:&quot;un&quot;,&quot;_2&quot;:81},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:82},{&quot;_1&quot;:&quot;rt&quot;,&quot;_2&quot;:83},{&quot;_1&quot;:&quot;ed&quot;,&quot;_2&quot;:84},{&quot;_1&quot;:&quot;_b&quot;,&quot;_2&quot;:85},{&quot;_1&quot;:&quot;to&quot;,&quot;_2&quot;:86},{&quot;_1&quot;:&quot;es_&quot;,&quot;_2&quot;:87},{&quot;_1&quot;:&quot;ha&quot;,&quot;_2&quot;:88},{&quot;_1&quot;:&quot;st&quot;,&quot;_2&quot;:89},{&quot;_1&quot;:&quot;ea&quot;,&quot;_2&quot;:90},{&quot;_1&quot;:&quot;f_t&quot;,&quot;_2&quot;:91},{&quot;_1&quot;:&quot;o_&quot;,&quot;_2&quot;:92},{&quot;_1&quot;:&quot;f_th&quot;,&quot;_2&quot;:93},{&quot;_1&quot;:&quot;of_t&quot;,&quot;_2&quot;:94},{&quot;_1&quot;:&quot;_of_t&quot;,&quot;_2&quot;:95},{&quot;_1&quot;:&quot;nd_&quot;,&quot;_2&quot;:96},{&quot;_1&quot;:&quot;of_th&quot;,&quot;_2&quot;:97},{&quot;_1&quot;:&quot;ce&quot;,&quot;_2&quot;:98},{&quot;_1&quot;:&quot;_m&quot;,&quot;_2&quot;:99},{&quot;_1&quot;:&quot;and&quot;,&quot;_2&quot;:100},{&quot;_1&quot;:&quot;f_the&quot;,&quot;_2&quot;:101},{&quot;_1&quot;:&quot;_r&quot;,&quot;_2&quot;:102},{&quot;_1&quot;:&quot;ng&quot;,&quot;_2&quot;:103},{&quot;_1&quot;:&quot;and_&quot;,&quot;_2&quot;:104},{&quot;_1&quot;:&quot;_f&quot;,&quot;_2&quot;:105},{&quot;_1&quot;:&quot;ec&quot;,&quot;_2&quot;:106},{&quot;_1&quot;:&quot;ta&quot;,&quot;_2&quot;:107},{&quot;_1&quot;:&quot;ed_&quot;,&quot;_2&quot;:108},{&quot;_1&quot;:&quot;pr&quot;,&quot;_2&quot;:109},{&quot;_1&quot;:&quot;ati&quot;,&quot;_2&quot;:110},{&quot;_1&quot;:&quot;pe&quot;,&quot;_2&quot;:111},{&quot;_1&quot;:&quot;al_&quot;,&quot;_2&quot;:112},{&quot;_1&quot;:&quot;ni&quot;,&quot;_2&quot;:113},{&quot;_1&quot;:&quot;_and&quot;,&quot;_2&quot;:114},{&quot;_1&quot;:&quot;_and_&quot;,&quot;_2&quot;:115},{&quot;_1&quot;:&quot;nc&quot;,&quot;_2&quot;:116},{&quot;_1&quot;:&quot;to_&quot;,&quot;_2&quot;:117},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:118},{&quot;_1&quot;:&quot;_to&quot;,&quot;_2&quot;:119},{&quot;_1&quot;:&quot;ing&quot;,&quot;_2&quot;:120},{&quot;_1&quot;:&quot;tic&quot;,&quot;_2&quot;:121},{&quot;_1&quot;:&quot;ra&quot;,&quot;_2&quot;:122},{&quot;_1&quot;:&quot;ns&quot;,&quot;_2&quot;:123},{&quot;_1&quot;:&quot;in_&quot;,&quot;_2&quot;:124},{&quot;_1&quot;:&quot;_to_&quot;,&quot;_2&quot;:125},{&quot;_1&quot;:&quot;be&quot;,&quot;_2&quot;:126},{&quot;_1&quot;:&quot;art&quot;,&quot;_2&quot;:127},{&quot;_1&quot;:&quot;le_&quot;,&quot;_2&quot;:128},{&quot;_1&quot;:&quot;ent&quot;,&quot;_2&quot;:129},{&quot;_1&quot;:&quot;ci&quot;,&quot;_2&quot;:130},{&quot;_1&quot;:&quot;op&quot;,&quot;_2&quot;:131},{&quot;_1&quot;:&quot;g_&quot;,&quot;_2&quot;:132},{&quot;_1&quot;:&quot;ou&quot;,&quot;_2&quot;:133},{&quot;_1&quot;:&quot;cl&quot;,&quot;_2&quot;:134},{&quot;_1&quot;:&quot;ng_&quot;,&quot;_2&quot;:135},{&quot;_1&quot;:&quot;_ar&quot;,&quot;_2&quot;:136},{&quot;_1&quot;:&quot;ll&quot;,&quot;_2&quot;:137},{&quot;_1&quot;:&quot;ct&quot;,&quot;_2&quot;:138},{&quot;_1&quot;:&quot;ri&quot;,&quot;_2&quot;:139},{&quot;_1&quot;:&quot;ing_&quot;,&quot;_2&quot;:140},{&quot;_1&quot;:&quot;er_&quot;,&quot;_2&quot;:141},{&quot;_1&quot;:&quot;se&quot;,&quot;_2&quot;:142},{&quot;_1&quot;:&quot;_d&quot;,&quot;_2&quot;:143},{&quot;_1&quot;:&quot;_re&quot;,&quot;_2&quot;:144},{&quot;_1&quot;:&quot;si&quot;,&quot;_2&quot;:145},{&quot;_1&quot;:&quot;rti&quot;,&quot;_2&quot;:146},{&quot;_1&quot;:&quot;_pr&quot;,&quot;_2&quot;:147},{&quot;_1&quot;:&quot;e__&quot;,&quot;_2&quot;:148},{&quot;_1&quot;:&quot;e___&quot;,&quot;_2&quot;:149},{&quot;_1&quot;:&quot;e____&quot;,&quot;_2&quot;:150},{&quot;_1&quot;:&quot;arti&quot;,&quot;_2&quot;:151},{&quot;_1&quot;:&quot;_w&quot;,&quot;_2&quot;:152},{&quot;_1&quot;:&quot;li&quot;,&quot;_2&quot;:153},{&quot;_1&quot;:&quot;_in_&quot;,&quot;_2&quot;:154},{&quot;_1&quot;:&quot;rtic&quot;,&quot;_2&quot;:155},{&quot;_1&quot;:&quot;artic&quot;,&quot;_2&quot;:156},{&quot;_1&quot;:&quot;ve&quot;,&quot;_2&quot;:157},{&quot;_1&quot;:&quot;om&quot;,&quot;_2&quot;:158},{&quot;_1&quot;:&quot;_u&quot;,&quot;_2&quot;:159},{&quot;_1&quot;:&quot;e_c&quot;,&quot;_2&quot;:160},{&quot;_1&quot;:&quot;h_&quot;,&quot;_2&quot;:161},{&quot;_1&quot;:&quot;e_t&quot;,&quot;_2&quot;:162},{&quot;_1&quot;:&quot;sh&quot;,&quot;_2&quot;:163},{&quot;_1&quot;:&quot;tion_&quot;,&quot;_2&quot;:164},{&quot;_1&quot;:&quot;atio&quot;,&quot;_2&quot;:165},{&quot;_1&quot;:&quot;cle&quot;,&quot;_2&quot;:166},{&quot;_1&quot;:&quot;ation&quot;,&quot;_2&quot;:167},{&quot;_1&quot;:&quot;all&quot;,&quot;_2&quot;:168},{&quot;_1&quot;:&quot;icl&quot;,&quot;_2&quot;:169},{&quot;_1&quot;:&quot;_art&quot;,&quot;_2&quot;:170},{&quot;_1&quot;:&quot;_arti&quot;,&quot;_2&quot;:171},{&quot;_1&quot;:&quot;icle&quot;,&quot;_2&quot;:172},{&quot;_1&quot;:&quot;rticl&quot;,&quot;_2&quot;:173},{&quot;_1&quot;:&quot;ticl&quot;,&quot;_2&quot;:174},{&quot;_1&quot;:&quot;ticle&quot;,&quot;_2&quot;:175},{&quot;_1&quot;:&quot;ll_&quot;,&quot;_2&quot;:176},{&quot;_1&quot;:&quot;n_t&quot;,&quot;_2&quot;:177},{&quot;_1&quot;:&quot;na&quot;,&quot;_2&quot;:178},{&quot;_1&quot;:&quot;em&quot;,&quot;_2&quot;:179},{&quot;_1&quot;:&quot;cle_&quot;,&quot;_2&quot;:180},{&quot;_1&quot;:&quot;icle_&quot;,&quot;_2&quot;:181},{&quot;_1&quot;:&quot;pro&quot;,&quot;_2&quot;:182},{&quot;_1&quot;:&quot;all_&quot;,&quot;_2&quot;:183},{&quot;_1&quot;:&quot;ons&quot;,&quot;_2&quot;:184},{&quot;_1&quot;:&quot;_un&quot;,&quot;_2&quot;:185},{&quot;_1&quot;:&quot;_sh&quot;,&quot;_2&quot;:186},{&quot;_1&quot;:&quot;ac&quot;,&quot;_2&quot;:187},{&quot;_1&quot;:&quot;s_o&quot;,&quot;_2&quot;:188},{&quot;_1&quot;:&quot;e_co&quot;,&quot;_2&quot;:189},{&quot;_1&quot;:&quot;or_&quot;,&quot;_2&quot;:190},{&quot;_1&quot;:&quot;he_c&quot;,&quot;_2&quot;:191},{&quot;_1&quot;:&quot;the_c&quot;,&quot;_2&quot;:192},{&quot;_1&quot;:&quot;n_th&quot;,&quot;_2&quot;:193},{&quot;_1&quot;:&quot;sha&quot;,&quot;_2&quot;:194},{&quot;_1&quot;:&quot;_sha&quot;,&quot;_2&quot;:195},{&quot;_1&quot;:&quot;an_&quot;,&quot;_2&quot;:196},{&quot;_1&quot;:&quot;hal&quot;,&quot;_2&quot;:197},{&quot;_1&quot;:&quot;e_a&quot;,&quot;_2&quot;:198},{&quot;_1&quot;:&quot;e_e&quot;,&quot;_2&quot;:199},{&quot;_1&quot;:&quot;hall&quot;,&quot;_2&quot;:200},{&quot;_1&quot;:&quot;_shal&quot;,&quot;_2&quot;:201},{&quot;_1&quot;:&quot;shal&quot;,&quot;_2&quot;:202},{&quot;_1&quot;:&quot;hall_&quot;,&quot;_2&quot;:203},{&quot;_1&quot;:&quot;shall&quot;,&quot;_2&quot;:204},{&quot;_1&quot;:&quot;tr&quot;,&quot;_2&quot;:205},{&quot;_1&quot;:&quot;_pro&quot;,&quot;_2&quot;:206},{&quot;_1&quot;:&quot;as&quot;,&quot;_2&quot;:207},{&quot;_1&quot;:&quot;nt_&quot;,&quot;_2&quot;:208},{&quot;_1&quot;:&quot;ope&quot;,&quot;_2&quot;:209},{&quot;_1&quot;:&quot;rop&quot;,&quot;_2&quot;:210},{&quot;_1&quot;:&quot;a_&quot;,&quot;_2&quot;:211},{&quot;_1&quot;:&quot;men&quot;,&quot;_2&quot;:212},{&quot;_1&quot;:&quot;n_the&quot;,&quot;_2&quot;:213},{&quot;_1&quot;:&quot;n_a&quot;,&quot;_2&quot;:214},{&quot;_1&quot;:&quot;__&quot;,&quot;_2&quot;:215},{&quot;_1&quot;:&quot;ia&quot;,&quot;_2&quot;:216},{&quot;_1&quot;:&quot;uni&quot;,&quot;_2&quot;:217},{&quot;_1&quot;:&quot;la&quot;,&quot;_2&quot;:218},{&quot;_1&quot;:&quot;s_a&quot;,&quot;_2&quot;:219},{&quot;_1&quot;:&quot;ns_&quot;,&quot;_2&quot;:220},{&quot;_1&quot;:&quot;di&quot;,&quot;_2&quot;:221},{&quot;_1&quot;:&quot;ate&quot;,&quot;_2&quot;:222},{&quot;_1&quot;:&quot;e_o&quot;,&quot;_2&quot;:223},{&quot;_1&quot;:&quot;he_co&quot;,&quot;_2&quot;:224},{&quot;_1&quot;:&quot;ne&quot;,&quot;_2&quot;:225},{&quot;_1&quot;:&quot;ma&quot;,&quot;_2&quot;:226},{&quot;_1&quot;:&quot;fo&quot;,&quot;_2&quot;:227},{&quot;_1&quot;:&quot;eu&quot;,&quot;_2&quot;:228},{&quot;_1&quot;:&quot;he_e&quot;,&quot;_2&quot;:229},{&quot;_1&quot;:&quot;the_e&quot;,&quot;_2&quot;:230},{&quot;_1&quot;:&quot;hi&quot;,&quot;_2&quot;:231},{&quot;_1&quot;:&quot;su&quot;,&quot;_2&quot;:232},{&quot;_1&quot;:&quot;ts&quot;,&quot;_2&quot;:233},{&quot;_1&quot;:&quot;con&quot;,&quot;_2&quot;:234},{&quot;_1&quot;:&quot;pa&quot;,&quot;_2&quot;:235},{&quot;_1&quot;:&quot;_n&quot;,&quot;_2&quot;:236},{&quot;_1&quot;:&quot;ts_&quot;,&quot;_2&quot;:237},{&quot;_1&quot;:&quot;ment&quot;,&quot;_2&quot;:238},{&quot;_1&quot;:&quot;_me&quot;,&quot;_2&quot;:239},{&quot;_1&quot;:&quot;sta&quot;,&quot;_2&quot;:240},{&quot;_1&quot;:&quot;_eu&quot;,&quot;_2&quot;:241},{&quot;_1&quot;:&quot;_uni&quot;,&quot;_2&quot;:242},{&quot;_1&quot;:&quot;ons_&quot;,&quot;_2&quot;:243},{&quot;_1&quot;:&quot;ch&quot;,&quot;_2&quot;:244},{&quot;_1&quot;:&quot;d_t&quot;,&quot;_2&quot;:245},{&quot;_1&quot;:&quot;_be&quot;,&quot;_2&quot;:246},{&quot;_1&quot;:&quot;pea&quot;,&quot;_2&quot;:247},{&quot;_1&quot;:&quot;eur&quot;,&quot;_2&quot;:248},{&quot;_1&quot;:&quot;_eur&quot;,&quot;_2&quot;:249},{&quot;_1&quot;:&quot;uro&quot;,&quot;_2&quot;:250},{&quot;_1&quot;:&quot;euro&quot;,&quot;_2&quot;:251},{&quot;_1&quot;:&quot;_euro&quot;,&quot;_2&quot;:252},{&quot;_1&quot;:&quot;ean&quot;,&quot;_2&quot;:253},{&quot;_1&quot;:&quot;il&quot;,&quot;_2&quot;:254},{&quot;_1&quot;:&quot;for&quot;,&quot;_2&quot;:255},{&quot;_1&quot;:&quot;ce_&quot;,&quot;_2&quot;:256},{&quot;_1&quot;:&quot;ty&quot;,&quot;_2&quot;:257},{&quot;_1&quot;:&quot;nio&quot;,&quot;_2&quot;:258},{&quot;_1&quot;:&quot;nion&quot;,&quot;_2&quot;:259},{&quot;_1&quot;:&quot;ent_&quot;,&quot;_2&quot;:260},{&quot;_1&quot;:&quot;rope&quot;,&quot;_2&quot;:261},{&quot;_1&quot;:&quot;ty_&quot;,&quot;_2&quot;:262},{&quot;_1&quot;:&quot;fi&quot;,&quot;_2&quot;:263},{&quot;_1&quot;:&quot;mi&quot;,&quot;_2&quot;:264},{&quot;_1&quot;:&quot;ions&quot;,&quot;_2&quot;:265},{&quot;_1&quot;:&quot;ie&quot;,&quot;_2&quot;:266},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:267},{&quot;_1&quot;:&quot;ions_&quot;,&quot;_2&quot;:268},{&quot;_1&quot;:&quot;urop&quot;,&quot;_2&quot;:269},{&quot;_1&quot;:&quot;europ&quot;,&quot;_2&quot;:270},{&quot;_1&quot;:&quot;ss&quot;,&quot;_2&quot;:271},{&quot;_1&quot;:&quot;_on&quot;,&quot;_2&quot;:272},{&quot;_1&quot;:&quot;urope&quot;,&quot;_2&quot;:273},{&quot;_1&quot;:&quot;s_of&quot;,&quot;_2&quot;:274},{&quot;_1&quot;:&quot;cou&quot;,&quot;_2&quot;:275},{&quot;_1&quot;:&quot;ean_&quot;,&quot;_2&quot;:276},{&quot;_1&quot;:&quot;com&quot;,&quot;_2&quot;:277},{&quot;_1&quot;:&quot;_a_&quot;,&quot;_2&quot;:278},{&quot;_1&quot;:&quot;pean&quot;,&quot;_2&quot;:279},{&quot;_1&quot;:&quot;pean_&quot;,&quot;_2&quot;:280},{&quot;_1&quot;:&quot;opea&quot;,&quot;_2&quot;:281},{&quot;_1&quot;:&quot;opean&quot;,&quot;_2&quot;:282},{&quot;_1&quot;:&quot;ropea&quot;,&quot;_2&quot;:283},{&quot;_1&quot;:&quot;tat&quot;,&quot;_2&quot;:284},{&quot;_1&quot;:&quot;union&quot;,&quot;_2&quot;:285},{&quot;_1&quot;:&quot;unio&quot;,&quot;_2&quot;:286},{&quot;_1&quot;:&quot;_unio&quot;,&quot;_2&quot;:287},{&quot;_1&quot;:&quot;s_of_&quot;,&quot;_2&quot;:288},{&quot;_1&quot;:&quot;cti&quot;,&quot;_2&quot;:289},{&quot;_1&quot;:&quot;po&quot;,&quot;_2&quot;:290},{&quot;_1&quot;:&quot;nion_&quot;,&quot;_2&quot;:291},{&quot;_1&quot;:&quot;ter&quot;,&quot;_2&quot;:292},{&quot;_1&quot;:&quot;s__&quot;,&quot;_2&quot;:293},{&quot;_1&quot;:&quot;s___&quot;,&quot;_2&quot;:294},{&quot;_1&quot;:&quot;s____&quot;,&quot;_2&quot;:295},{&quot;_1&quot;:&quot;_con&quot;,&quot;_2&quot;:296},{&quot;_1&quot;:&quot;wi&quot;,&quot;_2&quot;:297},{&quot;_1&quot;:&quot;_st&quot;,&quot;_2&quot;:298},{&quot;_1&quot;:&quot;n_o&quot;,&quot;_2&quot;:299}],&quot;genId&quot;:&quot;1280680144&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonc6e44f9c0a8b13c235f4513fda76a312&quot;,&quot;initialValue&quot;:&quot;300&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anona7b13bf2a114219949cbede0d52bee08&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1103504953-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonc66414ae2cdab2117b84eff1db1e444d&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;e&quot;,&quot;_2&quot;:0},{&quot;_1&quot;:&quot;t&quot;,&quot;_2&quot;:1},{&quot;_1&quot;:&quot;i&quot;,&quot;_2&quot;:2},{&quot;_1&quot;:&quot;o&quot;,&quot;_2&quot;:3},{&quot;_1&quot;:&quot;n&quot;,&quot;_2&quot;:4},{&quot;_1&quot;:&quot;a&quot;,&quot;_2&quot;:5},{&quot;_1&quot;:&quot;r&quot;,&quot;_2&quot;:6},{&quot;_1&quot;:&quot;s&quot;,&quot;_2&quot;:7},{&quot;_1&quot;:&quot;c&quot;,&quot;_2&quot;:8},{&quot;_1&quot;:&quot;h&quot;,&quot;_2&quot;:9},{&quot;_1&quot;:&quot;e_&quot;,&quot;_2&quot;:10},{&quot;_1&quot;:&quot;l&quot;,&quot;_2&quot;:11},{&quot;_1&quot;:&quot;_t&quot;,&quot;_2&quot;:12},{&quot;_1&quot;:&quot;th&quot;,&quot;_2&quot;:13},{&quot;_1&quot;:&quot;d&quot;,&quot;_2&quot;:14},{&quot;_1&quot;:&quot;u&quot;,&quot;_2&quot;:15},{&quot;_1&quot;:&quot;_th&quot;,&quot;_2&quot;:16},{&quot;_1&quot;:&quot;he&quot;,&quot;_2&quot;:17},{&quot;_1&quot;:&quot;f&quot;,&quot;_2&quot;:18},{&quot;_1&quot;:&quot;p&quot;,&quot;_2&quot;:19},{&quot;_1&quot;:&quot;_a&quot;,&quot;_2&quot;:20},{&quot;_1&quot;:&quot;the&quot;,&quot;_2&quot;:21},{&quot;_1&quot;:&quot;m&quot;,&quot;_2&quot;:22},{&quot;_1&quot;:&quot;n_&quot;,&quot;_2&quot;:23},{&quot;_1&quot;:&quot;_the&quot;,&quot;_2&quot;:24},{&quot;_1&quot;:&quot;he_&quot;,&quot;_2&quot;:25},{&quot;_1&quot;:&quot;the_&quot;,&quot;_2&quot;:26},{&quot;_1&quot;:&quot;_the_&quot;,&quot;_2&quot;:27},{&quot;_1&quot;:&quot;s_&quot;,&quot;_2&quot;:28},{&quot;_1&quot;:&quot;on&quot;,&quot;_2&quot;:29},{&quot;_1&quot;:&quot;_o&quot;,&quot;_2&quot;:30},{&quot;_1&quot;:&quot;ti&quot;,&quot;_2&quot;:31},{&quot;_1&quot;:&quot;in&quot;,&quot;_2&quot;:32},{&quot;_1&quot;:&quot;an&quot;,&quot;_2&quot;:33},{&quot;_1&quot;:&quot;g&quot;,&quot;_2&quot;:34},{&quot;_1&quot;:&quot;d_&quot;,&quot;_2&quot;:35},{&quot;_1&quot;:&quot;re&quot;,&quot;_2&quot;:36},{&quot;_1&quot;:&quot;io&quot;,&quot;_2&quot;:37},{&quot;_1&quot;:&quot;b&quot;,&quot;_2&quot;:38},{&quot;_1&quot;:&quot;er&quot;,&quot;_2&quot;:39},{&quot;_1&quot;:&quot;of&quot;,&quot;_2&quot;:40},{&quot;_1&quot;:&quot;_of&quot;,&quot;_2&quot;:41},{&quot;_1&quot;:&quot;ion&quot;,&quot;_2&quot;:42},{&quot;_1&quot;:&quot;at&quot;,&quot;_2&quot;:43},{&quot;_1&quot;:&quot;f_&quot;,&quot;_2&quot;:44},{&quot;_1&quot;:&quot;of_&quot;,&quot;_2&quot;:45},{&quot;_1&quot;:&quot;_c&quot;,&quot;_2&quot;:46},{&quot;_1&quot;:&quot;_of_&quot;,&quot;_2&quot;:47},{&quot;_1&quot;:&quot;l_&quot;,&quot;_2&quot;:48},{&quot;_1&quot;:&quot;t_&quot;,&quot;_2&quot;:49},{&quot;_1&quot;:&quot;on_&quot;,&quot;_2&quot;:50},{&quot;_1&quot;:&quot;_s&quot;,&quot;_2&quot;:51},{&quot;_1&quot;:&quot;al&quot;,&quot;_2&quot;:52},{&quot;_1&quot;:&quot;y&quot;,&quot;_2&quot;:53},{&quot;_1&quot;:&quot;_i&quot;,&quot;_2&quot;:54},{&quot;_1&quot;:&quot;ar&quot;,&quot;_2&quot;:55},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:56},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:57},{&quot;_1&quot;:&quot;y_&quot;,&quot;_2&quot;:58},{&quot;_1&quot;:&quot;co&quot;,&quot;_2&quot;:59},{&quot;_1&quot;:&quot;ic&quot;,&quot;_2&quot;:60},{&quot;_1&quot;:&quot;r_&quot;,&quot;_2&quot;:61},{&quot;_1&quot;:&quot;_p&quot;,&quot;_2&quot;:62},{&quot;_1&quot;:&quot;te&quot;,&quot;_2&quot;:63},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:64},{&quot;_1&quot;:&quot;or&quot;,&quot;_2&quot;:65},{&quot;_1&quot;:&quot;nd&quot;,&quot;_2&quot;:66},{&quot;_1&quot;:&quot;_e&quot;,&quot;_2&quot;:67},{&quot;_1&quot;:&quot;ion_&quot;,&quot;_2&quot;:68},{&quot;_1&quot;:&quot;_co&quot;,&quot;_2&quot;:69},{&quot;_1&quot;:&quot;nt&quot;,&quot;_2&quot;:70},{&quot;_1&quot;:&quot;ro&quot;,&quot;_2&quot;:71},{&quot;_1&quot;:&quot;v&quot;,&quot;_2&quot;:72},{&quot;_1&quot;:&quot;le&quot;,&quot;_2&quot;:73},{&quot;_1&quot;:&quot;ur&quot;,&quot;_2&quot;:74},{&quot;_1&quot;:&quot;tio&quot;,&quot;_2&quot;:75},{&quot;_1&quot;:&quot;tion&quot;,&quot;_2&quot;:76},{&quot;_1&quot;:&quot;is&quot;,&quot;_2&quot;:77},{&quot;_1&quot;:&quot;_in&quot;,&quot;_2&quot;:78},{&quot;_1&quot;:&quot;me&quot;,&quot;_2&quot;:79},{&quot;_1&quot;:&quot;_an&quot;,&quot;_2&quot;:80},{&quot;_1&quot;:&quot;un&quot;,&quot;_2&quot;:81},{&quot;_1&quot;:&quot;w&quot;,&quot;_2&quot;:82},{&quot;_1&quot;:&quot;rt&quot;,&quot;_2&quot;:83},{&quot;_1&quot;:&quot;ed&quot;,&quot;_2&quot;:84},{&quot;_1&quot;:&quot;_b&quot;,&quot;_2&quot;:85},{&quot;_1&quot;:&quot;to&quot;,&quot;_2&quot;:86},{&quot;_1&quot;:&quot;es_&quot;,&quot;_2&quot;:87},{&quot;_1&quot;:&quot;ha&quot;,&quot;_2&quot;:88},{&quot;_1&quot;:&quot;st&quot;,&quot;_2&quot;:89},{&quot;_1&quot;:&quot;ea&quot;,&quot;_2&quot;:90},{&quot;_1&quot;:&quot;f_t&quot;,&quot;_2&quot;:91},{&quot;_1&quot;:&quot;o_&quot;,&quot;_2&quot;:92},{&quot;_1&quot;:&quot;f_th&quot;,&quot;_2&quot;:93},{&quot;_1&quot;:&quot;of_t&quot;,&quot;_2&quot;:94},{&quot;_1&quot;:&quot;_of_t&quot;,&quot;_2&quot;:95},{&quot;_1&quot;:&quot;nd_&quot;,&quot;_2&quot;:96},{&quot;_1&quot;:&quot;of_th&quot;,&quot;_2&quot;:97},{&quot;_1&quot;:&quot;ce&quot;,&quot;_2&quot;:98},{&quot;_1&quot;:&quot;_m&quot;,&quot;_2&quot;:99},{&quot;_1&quot;:&quot;and&quot;,&quot;_2&quot;:100},{&quot;_1&quot;:&quot;f_the&quot;,&quot;_2&quot;:101},{&quot;_1&quot;:&quot;_r&quot;,&quot;_2&quot;:102},{&quot;_1&quot;:&quot;ng&quot;,&quot;_2&quot;:103},{&quot;_1&quot;:&quot;and_&quot;,&quot;_2&quot;:104},{&quot;_1&quot;:&quot;_f&quot;,&quot;_2&quot;:105},{&quot;_1&quot;:&quot;ec&quot;,&quot;_2&quot;:106},{&quot;_1&quot;:&quot;ta&quot;,&quot;_2&quot;:107},{&quot;_1&quot;:&quot;ed_&quot;,&quot;_2&quot;:108},{&quot;_1&quot;:&quot;pr&quot;,&quot;_2&quot;:109},{&quot;_1&quot;:&quot;ati&quot;,&quot;_2&quot;:110},{&quot;_1&quot;:&quot;pe&quot;,&quot;_2&quot;:111},{&quot;_1&quot;:&quot;al_&quot;,&quot;_2&quot;:112},{&quot;_1&quot;:&quot;ni&quot;,&quot;_2&quot;:113},{&quot;_1&quot;:&quot;_and&quot;,&quot;_2&quot;:114},{&quot;_1&quot;:&quot;_and_&quot;,&quot;_2&quot;:115},{&quot;_1&quot;:&quot;nc&quot;,&quot;_2&quot;:116},{&quot;_1&quot;:&quot;to_&quot;,&quot;_2&quot;:117},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:118},{&quot;_1&quot;:&quot;_to&quot;,&quot;_2&quot;:119},{&quot;_1&quot;:&quot;ing&quot;,&quot;_2&quot;:120},{&quot;_1&quot;:&quot;tic&quot;,&quot;_2&quot;:121},{&quot;_1&quot;:&quot;ra&quot;,&quot;_2&quot;:122},{&quot;_1&quot;:&quot;ns&quot;,&quot;_2&quot;:123},{&quot;_1&quot;:&quot;in_&quot;,&quot;_2&quot;:124},{&quot;_1&quot;:&quot;_to_&quot;,&quot;_2&quot;:125},{&quot;_1&quot;:&quot;be&quot;,&quot;_2&quot;:126},{&quot;_1&quot;:&quot;art&quot;,&quot;_2&quot;:127},{&quot;_1&quot;:&quot;le_&quot;,&quot;_2&quot;:128},{&quot;_1&quot;:&quot;ent&quot;,&quot;_2&quot;:129},{&quot;_1&quot;:&quot;ci&quot;,&quot;_2&quot;:130},{&quot;_1&quot;:&quot;op&quot;,&quot;_2&quot;:131},{&quot;_1&quot;:&quot;g_&quot;,&quot;_2&quot;:132},{&quot;_1&quot;:&quot;ou&quot;,&quot;_2&quot;:133},{&quot;_1&quot;:&quot;cl&quot;,&quot;_2&quot;:134},{&quot;_1&quot;:&quot;ng_&quot;,&quot;_2&quot;:135},{&quot;_1&quot;:&quot;_ar&quot;,&quot;_2&quot;:136},{&quot;_1&quot;:&quot;ll&quot;,&quot;_2&quot;:137},{&quot;_1&quot;:&quot;ct&quot;,&quot;_2&quot;:138},{&quot;_1&quot;:&quot;ri&quot;,&quot;_2&quot;:139},{&quot;_1&quot;:&quot;ing_&quot;,&quot;_2&quot;:140},{&quot;_1&quot;:&quot;er_&quot;,&quot;_2&quot;:141},{&quot;_1&quot;:&quot;se&quot;,&quot;_2&quot;:142},{&quot;_1&quot;:&quot;_d&quot;,&quot;_2&quot;:143},{&quot;_1&quot;:&quot;_re&quot;,&quot;_2&quot;:144},{&quot;_1&quot;:&quot;si&quot;,&quot;_2&quot;:145},{&quot;_1&quot;:&quot;rti&quot;,&quot;_2&quot;:146},{&quot;_1&quot;:&quot;_pr&quot;,&quot;_2&quot;:147},{&quot;_1&quot;:&quot;e__&quot;,&quot;_2&quot;:148},{&quot;_1&quot;:&quot;e___&quot;,&quot;_2&quot;:149},{&quot;_1&quot;:&quot;e____&quot;,&quot;_2&quot;:150},{&quot;_1&quot;:&quot;arti&quot;,&quot;_2&quot;:151},{&quot;_1&quot;:&quot;_w&quot;,&quot;_2&quot;:152},{&quot;_1&quot;:&quot;li&quot;,&quot;_2&quot;:153},{&quot;_1&quot;:&quot;_in_&quot;,&quot;_2&quot;:154},{&quot;_1&quot;:&quot;rtic&quot;,&quot;_2&quot;:155},{&quot;_1&quot;:&quot;artic&quot;,&quot;_2&quot;:156},{&quot;_1&quot;:&quot;ve&quot;,&quot;_2&quot;:157},{&quot;_1&quot;:&quot;om&quot;,&quot;_2&quot;:158},{&quot;_1&quot;:&quot;_u&quot;,&quot;_2&quot;:159},{&quot;_1&quot;:&quot;e_c&quot;,&quot;_2&quot;:160},{&quot;_1&quot;:&quot;h_&quot;,&quot;_2&quot;:161},{&quot;_1&quot;:&quot;e_t&quot;,&quot;_2&quot;:162},{&quot;_1&quot;:&quot;sh&quot;,&quot;_2&quot;:163},{&quot;_1&quot;:&quot;tion_&quot;,&quot;_2&quot;:164},{&quot;_1&quot;:&quot;atio&quot;,&quot;_2&quot;:165},{&quot;_1&quot;:&quot;cle&quot;,&quot;_2&quot;:166},{&quot;_1&quot;:&quot;ation&quot;,&quot;_2&quot;:167},{&quot;_1&quot;:&quot;all&quot;,&quot;_2&quot;:168},{&quot;_1&quot;:&quot;icl&quot;,&quot;_2&quot;:169},{&quot;_1&quot;:&quot;_art&quot;,&quot;_2&quot;:170},{&quot;_1&quot;:&quot;_arti&quot;,&quot;_2&quot;:171},{&quot;_1&quot;:&quot;icle&quot;,&quot;_2&quot;:172},{&quot;_1&quot;:&quot;rticl&quot;,&quot;_2&quot;:173},{&quot;_1&quot;:&quot;ticl&quot;,&quot;_2&quot;:174},{&quot;_1&quot;:&quot;ticle&quot;,&quot;_2&quot;:175},{&quot;_1&quot;:&quot;ll_&quot;,&quot;_2&quot;:176},{&quot;_1&quot;:&quot;n_t&quot;,&quot;_2&quot;:177},{&quot;_1&quot;:&quot;na&quot;,&quot;_2&quot;:178},{&quot;_1&quot;:&quot;em&quot;,&quot;_2&quot;:179},{&quot;_1&quot;:&quot;cle_&quot;,&quot;_2&quot;:180},{&quot;_1&quot;:&quot;icle_&quot;,&quot;_2&quot;:181},{&quot;_1&quot;:&quot;pro&quot;,&quot;_2&quot;:182},{&quot;_1&quot;:&quot;all_&quot;,&quot;_2&quot;:183},{&quot;_1&quot;:&quot;ons&quot;,&quot;_2&quot;:184},{&quot;_1&quot;:&quot;_un&quot;,&quot;_2&quot;:185},{&quot;_1&quot;:&quot;_sh&quot;,&quot;_2&quot;:186},{&quot;_1&quot;:&quot;ac&quot;,&quot;_2&quot;:187},{&quot;_1&quot;:&quot;s_o&quot;,&quot;_2&quot;:188},{&quot;_1&quot;:&quot;e_co&quot;,&quot;_2&quot;:189},{&quot;_1&quot;:&quot;or_&quot;,&quot;_2&quot;:190},{&quot;_1&quot;:&quot;he_c&quot;,&quot;_2&quot;:191},{&quot;_1&quot;:&quot;the_c&quot;,&quot;_2&quot;:192},{&quot;_1&quot;:&quot;n_th&quot;,&quot;_2&quot;:193},{&quot;_1&quot;:&quot;sha&quot;,&quot;_2&quot;:194},{&quot;_1&quot;:&quot;_sha&quot;,&quot;_2&quot;:195},{&quot;_1&quot;:&quot;an_&quot;,&quot;_2&quot;:196},{&quot;_1&quot;:&quot;hal&quot;,&quot;_2&quot;:197},{&quot;_1&quot;:&quot;e_a&quot;,&quot;_2&quot;:198},{&quot;_1&quot;:&quot;e_e&quot;,&quot;_2&quot;:199},{&quot;_1&quot;:&quot;hall&quot;,&quot;_2&quot;:200},{&quot;_1&quot;:&quot;_shal&quot;,&quot;_2&quot;:201},{&quot;_1&quot;:&quot;shal&quot;,&quot;_2&quot;:202},{&quot;_1&quot;:&quot;hall_&quot;,&quot;_2&quot;:203},{&quot;_1&quot;:&quot;shall&quot;,&quot;_2&quot;:204},{&quot;_1&quot;:&quot;tr&quot;,&quot;_2&quot;:205},{&quot;_1&quot;:&quot;_pro&quot;,&quot;_2&quot;:206},{&quot;_1&quot;:&quot;as&quot;,&quot;_2&quot;:207},{&quot;_1&quot;:&quot;nt_&quot;,&quot;_2&quot;:208},{&quot;_1&quot;:&quot;ope&quot;,&quot;_2&quot;:209},{&quot;_1&quot;:&quot;rop&quot;,&quot;_2&quot;:210},{&quot;_1&quot;:&quot;a_&quot;,&quot;_2&quot;:211},{&quot;_1&quot;:&quot;men&quot;,&quot;_2&quot;:212},{&quot;_1&quot;:&quot;n_the&quot;,&quot;_2&quot;:213},{&quot;_1&quot;:&quot;n_a&quot;,&quot;_2&quot;:214},{&quot;_1&quot;:&quot;__&quot;,&quot;_2&quot;:215},{&quot;_1&quot;:&quot;ia&quot;,&quot;_2&quot;:216},{&quot;_1&quot;:&quot;uni&quot;,&quot;_2&quot;:217},{&quot;_1&quot;:&quot;la&quot;,&quot;_2&quot;:218},{&quot;_1&quot;:&quot;s_a&quot;,&quot;_2&quot;:219},{&quot;_1&quot;:&quot;ns_&quot;,&quot;_2&quot;:220},{&quot;_1&quot;:&quot;di&quot;,&quot;_2&quot;:221},{&quot;_1&quot;:&quot;ate&quot;,&quot;_2&quot;:222},{&quot;_1&quot;:&quot;e_o&quot;,&quot;_2&quot;:223},{&quot;_1&quot;:&quot;he_co&quot;,&quot;_2&quot;:224},{&quot;_1&quot;:&quot;ne&quot;,&quot;_2&quot;:225},{&quot;_1&quot;:&quot;ma&quot;,&quot;_2&quot;:226},{&quot;_1&quot;:&quot;fo&quot;,&quot;_2&quot;:227},{&quot;_1&quot;:&quot;eu&quot;,&quot;_2&quot;:228},{&quot;_1&quot;:&quot;he_e&quot;,&quot;_2&quot;:229},{&quot;_1&quot;:&quot;the_e&quot;,&quot;_2&quot;:230},{&quot;_1&quot;:&quot;hi&quot;,&quot;_2&quot;:231},{&quot;_1&quot;:&quot;su&quot;,&quot;_2&quot;:232},{&quot;_1&quot;:&quot;ts&quot;,&quot;_2&quot;:233},{&quot;_1&quot;:&quot;con&quot;,&quot;_2&quot;:234},{&quot;_1&quot;:&quot;pa&quot;,&quot;_2&quot;:235},{&quot;_1&quot;:&quot;_n&quot;,&quot;_2&quot;:236},{&quot;_1&quot;:&quot;ts_&quot;,&quot;_2&quot;:237},{&quot;_1&quot;:&quot;ment&quot;,&quot;_2&quot;:238},{&quot;_1&quot;:&quot;_me&quot;,&quot;_2&quot;:239},{&quot;_1&quot;:&quot;sta&quot;,&quot;_2&quot;:240},{&quot;_1&quot;:&quot;_eu&quot;,&quot;_2&quot;:241},{&quot;_1&quot;:&quot;_uni&quot;,&quot;_2&quot;:242},{&quot;_1&quot;:&quot;ons_&quot;,&quot;_2&quot;:243},{&quot;_1&quot;:&quot;ch&quot;,&quot;_2&quot;:244},{&quot;_1&quot;:&quot;d_t&quot;,&quot;_2&quot;:245},{&quot;_1&quot;:&quot;_be&quot;,&quot;_2&quot;:246},{&quot;_1&quot;:&quot;pea&quot;,&quot;_2&quot;:247},{&quot;_1&quot;:&quot;eur&quot;,&quot;_2&quot;:248},{&quot;_1&quot;:&quot;_eur&quot;,&quot;_2&quot;:249},{&quot;_1&quot;:&quot;uro&quot;,&quot;_2&quot;:250},{&quot;_1&quot;:&quot;euro&quot;,&quot;_2&quot;:251},{&quot;_1&quot;:&quot;_euro&quot;,&quot;_2&quot;:252},{&quot;_1&quot;:&quot;ean&quot;,&quot;_2&quot;:253},{&quot;_1&quot;:&quot;il&quot;,&quot;_2&quot;:254},{&quot;_1&quot;:&quot;for&quot;,&quot;_2&quot;:255},{&quot;_1&quot;:&quot;ce_&quot;,&quot;_2&quot;:256},{&quot;_1&quot;:&quot;ty&quot;,&quot;_2&quot;:257},{&quot;_1&quot;:&quot;nio&quot;,&quot;_2&quot;:258},{&quot;_1&quot;:&quot;nion&quot;,&quot;_2&quot;:259},{&quot;_1&quot;:&quot;ent_&quot;,&quot;_2&quot;:260},{&quot;_1&quot;:&quot;rope&quot;,&quot;_2&quot;:261},{&quot;_1&quot;:&quot;ty_&quot;,&quot;_2&quot;:262},{&quot;_1&quot;:&quot;fi&quot;,&quot;_2&quot;:263},{&quot;_1&quot;:&quot;mi&quot;,&quot;_2&quot;:264},{&quot;_1&quot;:&quot;ions&quot;,&quot;_2&quot;:265},{&quot;_1&quot;:&quot;ie&quot;,&quot;_2&quot;:266},{&quot;_1&quot;:&quot;k&quot;,&quot;_2&quot;:267},{&quot;_1&quot;:&quot;ions_&quot;,&quot;_2&quot;:268},{&quot;_1&quot;:&quot;urop&quot;,&quot;_2&quot;:269},{&quot;_1&quot;:&quot;europ&quot;,&quot;_2&quot;:270},{&quot;_1&quot;:&quot;ss&quot;,&quot;_2&quot;:271},{&quot;_1&quot;:&quot;_on&quot;,&quot;_2&quot;:272},{&quot;_1&quot;:&quot;urope&quot;,&quot;_2&quot;:273},{&quot;_1&quot;:&quot;s_of&quot;,&quot;_2&quot;:274},{&quot;_1&quot;:&quot;cou&quot;,&quot;_2&quot;:275},{&quot;_1&quot;:&quot;ean_&quot;,&quot;_2&quot;:276},{&quot;_1&quot;:&quot;com&quot;,&quot;_2&quot;:277},{&quot;_1&quot;:&quot;_a_&quot;,&quot;_2&quot;:278},{&quot;_1&quot;:&quot;pean&quot;,&quot;_2&quot;:279},{&quot;_1&quot;:&quot;pean_&quot;,&quot;_2&quot;:280},{&quot;_1&quot;:&quot;opea&quot;,&quot;_2&quot;:281},{&quot;_1&quot;:&quot;opean&quot;,&quot;_2&quot;:282},{&quot;_1&quot;:&quot;ropea&quot;,&quot;_2&quot;:283},{&quot;_1&quot;:&quot;tat&quot;,&quot;_2&quot;:284},{&quot;_1&quot;:&quot;union&quot;,&quot;_2&quot;:285},{&quot;_1&quot;:&quot;unio&quot;,&quot;_2&quot;:286},{&quot;_1&quot;:&quot;_unio&quot;,&quot;_2&quot;:287},{&quot;_1&quot;:&quot;s_of_&quot;,&quot;_2&quot;:288},{&quot;_1&quot;:&quot;cti&quot;,&quot;_2&quot;:289},{&quot;_1&quot;:&quot;po&quot;,&quot;_2&quot;:290},{&quot;_1&quot;:&quot;nion_&quot;,&quot;_2&quot;:291},{&quot;_1&quot;:&quot;ter&quot;,&quot;_2&quot;:292},{&quot;_1&quot;:&quot;s__&quot;,&quot;_2&quot;:293},{&quot;_1&quot;:&quot;s___&quot;,&quot;_2&quot;:294},{&quot;_1&quot;:&quot;s____&quot;,&quot;_2&quot;:295},{&quot;_1&quot;:&quot;_con&quot;,&quot;_2&quot;:296},{&quot;_1&quot;:&quot;wi&quot;,&quot;_2&quot;:297},{&quot;_1&quot;:&quot;_st&quot;,&quot;_2&quot;:298},{&quot;_1&quot;:&quot;n_o&quot;,&quot;_2&quot;:299}],&quot;genId&quot;:&quot;95585814&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon5560c808f4f2c7e8e28b2ec4f3208287&quot;,&quot;initialValue&quot;:&quot;300&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonf8b6497eedbf23c311466dda708bb00e&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
          },
          "output_type" : "execute_result",
          "execution_count" : 24,
          "time" : "Took: 0.794s, at 2017-09-26 16:24"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "542139E329AA4FF19376CCD0DD38FEA0"
      },
      "cell_type" : "markdown",
      "source" : "##How to we use this model?\nWe want to compare our target text with each individual profile.\n\nThe _distance_ we use is a comparison on the positions of matching `ngrams`."
    },
    {
      "metadata" : {
        "id" : "BB4A7C347248488397B199F6A2C9BD3E"
      },
      "cell_type" : "markdown",
      "source" : "### First, we need a way to create ngrams of any text. (reusing the process we already explored)"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "EE70FC4DCF0A4A6AAA7DE0F35F0119E5"
      },
      "cell_type" : "code",
      "source" : [
        "val ngramProfile: Seq[String] => Seq[(Int, String)] = ngrams => {\n",
        "     ngrams\n",
        "    .groupBy(identity)\n",
        "    .map{case (k, col) => k -> col.size } // do not use mapValues -> evil\n",
        "    .toSeq\n",
        "    .sortBy(- _._2)\n",
        "    .take(ProfileCutPoint)\n",
        "    .zipWithIndex\n",
        "    .map{case ((k,_),idx) => (idx,k)}\n",
        "  }"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "ngramProfile: Seq[String] => Seq[(Int, String)] = <function1>\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 25,
          "time" : "Took: 0.610s, at 2017-09-26 16:24"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "04A9C2D9F95F455A844F029D23B4C57E"
      },
      "cell_type" : "code",
      "source" : [
        "def score(reference: Map[String, Int], ngramProfile: Seq[(Int, String)]): Int = {\n",
        "  ngramProfile.map{case (idx, ngram) => reference.get(ngram)\n",
        "                                                .map(refIdx => Math.abs(refIdx - idx))\n",
        "                                                .getOrElse(ProfileCutPoint)\n",
        "                  }.sum\n",
        "}"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "score: (reference: Map[String,Int], ngramProfile: Seq[(Int, String)])Int\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 26,
          "time" : "Took: 0.563s, at 2017-09-26 16:24"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "3E6E3EFE2C56412FBDBBC5D8F52B2CBC"
      },
      "cell_type" : "code",
      "source" : [
        "val ngramFunc = ngrams _ andThen ngramProfile"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "ngramFunc: String => Seq[(Int, String)] = <function1>\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 27,
          "time" : "Took: 0.566s, at 2017-09-26 16:24"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "520F099C8CD4420BA8CF8A5F97760D68"
      },
      "cell_type" : "code",
      "source" : [
        "def scores(str: String): Seq[(String, Int)] = {\n",
        "  val ngrams = ngramFunc(str)\n",
        "  ngramModelPerLanguage.map{case (lang, model) => \n",
        "                            val _score = score(model.toMap, ngrams)\n",
        "                            (lang, _score)\n",
        "                           }.sortBy{case (_, score) => score}\n",
        "}\n",
        "  "
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "scores: (str: String)Seq[(String, Int)]\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 28,
          "time" : "Took: 0.579s, at 2017-09-26 16:24"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "presentation" : {
          "tabs_state" : "{\n  \"tab_id\": \"#tab339142175-0\"\n}",
          "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
        },
        "id" : "8C75293D80EB4FAC883A783A54A582DB"
      },
      "cell_type" : "code",
      "source" : [
        "scores(\"vamos a chequear si el modelo funciona\")"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "res39: Seq[(String, Int)] = List((es,36651), (it,38995), (fr,40222), (en,40717), (de,40978), (nl,42013))\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonb7c8eae5d5cedd479fe65c193b8884d8&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;339142175&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul339142175\"><li>\n              <a href=\"#tab339142175-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab339142175-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab339142175-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab339142175-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab339142175\"><div class=\"tab-pane\" id=\"tab339142175-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon979203f5edd43d348ea7d61b0fd24c73&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:36651},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:38995},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:40222},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:40717},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:40978},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:42013}],&quot;genId&quot;:&quot;1593354240&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon5931273851d780bdadaa193a70e28dd9&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon448b6a41f95709bc897965ab4ea66502&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab339142175-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anone249932328389c30ef28063f1d032962&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:36651},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:38995},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:40222},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:40717},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:40978},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:42013}],&quot;genId&quot;:&quot;603065678&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon2abf5082d2fd9882fdd353fbcafc166d&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon3c705ae9acdb672f1e2d067aad07e48f&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab339142175-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon136fc61980d169d6d67803632dc39653&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:36651},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:38995},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:40222},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:40717},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:40978},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:42013}],&quot;genId&quot;:&quot;156549841&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon15dd2ef57376f03f85e47714fd725948&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond3cc14a327c88a24cc71daaa4c7cc6a8&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab339142175-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anona6aab307757a38ce9394a823d1262dda&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:36651},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:38995},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:40222},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:40717},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:40978},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:42013}],&quot;genId&quot;:&quot;1417309043&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb71fb3a10c9f6978409384d609cc3f04&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon7d09eb4f6a0c56f32683360c96b1cb70&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
          },
          "output_type" : "execute_result",
          "execution_count" : 29,
          "time" : "Took: 0.744s, at 2017-09-26 16:24"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "presentation" : {
          "tabs_state" : "{\n  \"tab_id\": \"#tab130718352-0\"\n}",
          "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
        },
        "id" : "CEF036C18CD24ABD8EE906101BB93F20"
      },
      "cell_type" : "code",
      "source" : [
        "scores(\"let's check whether the model works\")"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "res41: Seq[(String, Int)] = List((en,35838), (nl,36357), (fr,37446), (de,37458), (it,37635), (es,37652))\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon4ef05e350c6268c524ce519426769844&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;130718352&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul130718352\"><li>\n              <a href=\"#tab130718352-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab130718352-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab130718352-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab130718352-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab130718352\"><div class=\"tab-pane\" id=\"tab130718352-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon2f8be81546340671c4a6e61fd93aa82c&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:35838},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:36357},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:37446},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:37458},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:37635},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:37652}],&quot;genId&quot;:&quot;991373101&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon8ec2dd3283f8fec9fafca9618710385a&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonfce7bf3be487ebee971a14a1aff79569&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab130718352-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon320ea787d2c1c203a7f7eba852db2ad8&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:35838},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:36357},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:37446},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:37458},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:37635},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:37652}],&quot;genId&quot;:&quot;62970122&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon03aca18c3db79f10a591b54cc8658ff8&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon30e75dc0d83ce43eaed0443fb999dad8&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab130718352-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonb9e43d18cac12f934ab6c02fd44a668b&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:35838},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:36357},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:37446},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:37458},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:37635},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:37652}],&quot;genId&quot;:&quot;222880481&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon82edd48b39a298276d0cfc0a654ffb9e&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond3ac8e029d833877d549bf9fca526beb&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab130718352-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon79dc03db2dc4f0152d5a577e30b26a48&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:35838},{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:36357},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:37446},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:37458},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:37635},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:37652}],&quot;genId&quot;:&quot;1219054733&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon37101b1d7a82b39343f536419a6df6c4&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon3efb77bcace49b559d593be16f421b40&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
          },
          "output_type" : "execute_result",
          "execution_count" : 30,
          "time" : "Took: 0.712s, at 2017-09-26 16:24"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "presentation" : {
          "tabs_state" : "{\n  \"tab_id\": \"#tab946325086-0\"\n}",
          "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
        },
        "id" : "6450D546345C4E4DAE6641D70A92E02B"
      },
      "cell_type" : "code",
      "source" : [
        "scores(\"laat ons zien of dit model echt werkt\")"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "res43: Seq[(String, Int)] = List((nl,37639), (de,38522), (en,39053), (fr,39986), (it,39991), (es,40171))\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon6203ffed264d4b3cccd6b309b58fec7c&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;946325086&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul946325086\"><li>\n              <a href=\"#tab946325086-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab946325086-1\"><i class=\"fa fa-bar-chart\"/></a>\n            </li><li>\n              <a href=\"#tab946325086-2\"><i class=\"fa fa-pie-chart\"/></a>\n            </li><li>\n              <a href=\"#tab946325086-3\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab946325086\"><div class=\"tab-pane\" id=\"tab946325086-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anona7fff495efd6621adce83736c9e94e30&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:37639},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:38522},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:39053},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:39986},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:39991},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:40171}],&quot;genId&quot;:&quot;1135197245&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"_1\",\"_2\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anond20cd54c7e955701e962a7208c0162bf&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon1af4cdd589f5d8c959209e2c8316ace3&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab946325086-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonaf5b97bc57de14d0dc327c034a25c271&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:37639},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:38522},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:39053},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:39986},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:39991},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:40171}],&quot;genId&quot;:&quot;652204296&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/barChart'], \n      function(playground, _magicbarChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicbarChart,\n    \"o\": {\"x\":\"_1\",\"y\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon51485b02b31b3086b8b625b0fc348bfd&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb6151260d8f70786d632bb78254ed736&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab946325086-2\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anona0967abad9cd2b5bd4e9f5e9cb4d8b4d&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:37639},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:38522},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:39053},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:39986},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:39991},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:40171}],&quot;genId&quot;:&quot;649744088&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pieChart'], \n      function(playground, _magicpieChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpieChart,\n    \"o\": {\"series\":\"_1\",\"p\":\"_2\",\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon7be346e31d9e60c9f1fc5a67107cf4f3&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon4ec1bce7892d8be44e378f50302872b2&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab946325086-3\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon0185f8c244b92c8cef1bb74f8c48710a&quot;,&quot;dataInit&quot;:[{&quot;_1&quot;:&quot;nl&quot;,&quot;_2&quot;:37639},{&quot;_1&quot;:&quot;de&quot;,&quot;_2&quot;:38522},{&quot;_1&quot;:&quot;en&quot;,&quot;_2&quot;:39053},{&quot;_1&quot;:&quot;fr&quot;,&quot;_2&quot;:39986},{&quot;_1&quot;:&quot;it&quot;,&quot;_2&quot;:39991},{&quot;_1&quot;:&quot;es&quot;,&quot;_2&quot;:40171}],&quot;genId&quot;:&quot;476502634&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonbd4a7b5d1f2b4ff81e4548f85707fbf0&quot;,&quot;initialValue&quot;:&quot;6&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon0f94a7d1291f06fbec65d0a843ecf5f2&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
          },
          "output_type" : "execute_result",
          "execution_count" : 31,
          "time" : "Took: 0.689s, at 2017-09-26 16:25"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "E66908C13BEB4ACC9AC090E057E318A0"
      },
      "cell_type" : "markdown",
      "source" : "###==========================================================================================="
    },
    {
      "metadata" : {
        "id" : "36732A418AA240A38D3EAD4780853EC9"
      },
      "cell_type" : "markdown",
      "source" : "# Let's create a classifier using this model\n## We're going to use a custom Spark MLLib Transformer to implement our classifier\nThis integrates nicely with ML Pipelines where we would like to use the language detection as part of a larger process."
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "CF83DFCB586F4E008AF260C4D5B08C01"
      },
      "cell_type" : "code",
      "source" : [
        "import org.apache.spark.ml.UnaryTransformer\n",
        "import org.apache.spark.ml.util.Identifiable\n",
        "import org.apache.spark.sql.types.{DataType, DataTypes}\n",
        "\n",
        "class NgramLanguageClassifier(override val uid: String, model: Seq[(String, Map[String,Int])]) extends UnaryTransformer[String, String, NgramLanguageClassifier] with Serializable {\n",
        "  \n",
        "  val ProfileCutPoint = 300\n",
        "\n",
        "  val ngrams: String => Seq[String] = str => {\n",
        "    val cleaned = str.toLowerCase.replaceAll(\"[^A-zÀ-ÿ'’]+\", \"_\").reverse.dropWhile(_ == '_').reverse\n",
        "\n",
        "    def _ngram(n:Int) : Seq[String] = {\n",
        "      if (n == 1) {\n",
        "        cleaned.collect{case c if c != '_' => c.toString}\n",
        "      } else {\n",
        "        val padding = Seq.fill(n - 1)(\"_\").mkString(\"\")\n",
        "        val padded = \"_\" + cleaned + padding\n",
        "        padded.sliding(n,1).toSeq\n",
        "      }\n",
        "    }\n",
        "    (1 to Math.min(cleaned.size, 5)).flatMap(i => _ngram(i))\n",
        "  }\n",
        "  \n",
        "  val ngramProfile: Seq[String] => Seq[(Int, String)] = ngrams => {\n",
        "     ngrams\n",
        "    .groupBy(identity)\n",
        "    .map{case (k, col) => k -> col.size } // do not use mapValues -> evil\n",
        "    .toSeq\n",
        "    .sortBy(- _._2)\n",
        "    .take(ProfileCutPoint)\n",
        "    .zipWithIndex\n",
        "    .map{case ((k,_),idx) => (idx,k)}\n",
        "  }\n",
        "  \n",
        "  val classifier: String => String = txt => {\n",
        "    val profile = (ngrams andThen ngramProfile)(txt)\n",
        "    val scores = model.map{case (lang, ngramMap) => \n",
        "                                  lang -> profile.map{case (idx, ngram) => \n",
        "                                                      ngramMap.get(ngram)\n",
        "                                                              .map(refIdx => Math.abs(refIdx - idx))\n",
        "                                                              .getOrElse(ProfileCutPoint)\n",
        "                                                     }.sum\n",
        "                                 }\n",
        "    scores.minBy(_._2)._1  \n",
        "  }\n",
        "\n",
        "  override protected def createTransformFunc: String => String = classifier\n",
        "  \n",
        "  override protected def outputDataType: DataType = DataTypes.StringType\n",
        "\n",
        "  override protected def validateInputType(inputType: DataType): Unit = {\n",
        "    require(inputType == DataTypes.StringType, s\"Bad input type: $inputType. Requires String.\")\n",
        "  }\n",
        "}"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "import org.apache.spark.ml.UnaryTransformer\nimport org.apache.spark.ml.util.Identifiable\nimport org.apache.spark.sql.types.{DataType, DataTypes}\ndefined class NgramLanguageClassifier\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 32,
          "time" : "Took: 0.643s, at 2017-09-26 16:25"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "D9D56260FF2F4A22BEF38A8B9352C920"
      },
      "cell_type" : "markdown",
      "source" : "### We reuse the test dataset that we saved in the previous notebook"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "A8AC9E31E2DC4ADC8FF52D482D509C70"
      },
      "cell_type" : "code",
      "source" : [
        "val testDataset = sparkSession.read.parquet(\"/tmp/testDataset\")"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "testDataset: org.apache.spark.sql.DataFrame = [language: string, textSize: int ... 1 more field]\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 34,
          "time" : "Took: 0.493s, at 2017-09-26 16:26"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "8B0782E51DF645A580C2455E4D012ACE"
      },
      "cell_type" : "markdown",
      "source" : "####Check it out to ensure it's what we expect\n(You can never be too sure)"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "presentation" : {
          "tabs_state" : "{\n  \"tab_id\": \"#tab1433214234-0\"\n}",
          "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
        },
        "id" : "F1F88D9A92E8470DAE4BEC3D7DD74A50"
      },
      "cell_type" : "code",
      "source" : [
        "testDataset.sample(withReplacement = false, fraction = 0.0007).take(20)"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "res48: Array[org.apache.spark.sql.Row] = Array([fr,7,article], [fr,59,particulières avec le royaumeuni de grandebretagne et dirla], [fr,1,d], [fr,17,les tribunaux spé], [fr,33,droit à la liberté et à la sûreté], [nl,22,de commissie stelt ied], [nl,88,raadpleging van het economisch en sociaal comité en het comité van de regios vastgesteld], [nl,25,overwegende dat in dit pr], [it,10,dallunione], [it,26,ne disciplinano lesercizio], [en,45,deficit means net borrowing as defined in the], [en,55,procedure it shall also act unanimously on a proposal f], [en,41,b together with their spouses and depende], [de,57,die agentur erhebt die daten bei inhabern einer zulassung], [de,38,de  amtsblatt der europäischen union c], [de,6,irland], [es,3,art], [es,19,las medidas de apli], [es,14,la unión ofrec]..."
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anondcc798e924ab00ff5a810ac34a1ed4cf&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;1433214234&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul1433214234\"><li>\n              <a href=\"#tab1433214234-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab1433214234-1\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab1433214234\"><div class=\"tab-pane\" id=\"tab1433214234-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anonf190a29f2676fac88e519ae096c0421d&quot;,&quot;dataInit&quot;:[{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:7,&quot;text&quot;:&quot;article&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:59,&quot;text&quot;:&quot;particulières avec le royaumeuni de grandebretagne et dirla&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:1,&quot;text&quot;:&quot;d&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:17,&quot;text&quot;:&quot;les tribunaux spé&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:33,&quot;text&quot;:&quot;droit à la liberté et à la sûreté&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:22,&quot;text&quot;:&quot;de commissie stelt ied&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:88,&quot;text&quot;:&quot;raadpleging van het economisch en sociaal comité en het comité van de regios vastgesteld&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:25,&quot;text&quot;:&quot;overwegende dat in dit pr&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:10,&quot;text&quot;:&quot;dallunione&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:26,&quot;text&quot;:&quot;ne disciplinano lesercizio&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:45,&quot;text&quot;:&quot;deficit means net borrowing as defined in the&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:55,&quot;text&quot;:&quot;procedure it shall also act unanimously on a proposal f&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:41,&quot;text&quot;:&quot;b together with their spouses and depende&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:57,&quot;text&quot;:&quot;die agentur erhebt die daten bei inhabern einer zulassung&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:38,&quot;text&quot;:&quot;de  amtsblatt der europäischen union c&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:6,&quot;text&quot;:&quot;irland&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:3,&quot;text&quot;:&quot;art&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:19,&quot;text&quot;:&quot;las medidas de apli&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:14,&quot;text&quot;:&quot;la unión ofrec&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:55,&quot;text&quot;:&quot;la política común de seguridad y defensa forma parte in&quot;}],&quot;genId&quot;:&quot;2018643649&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"language\",\"textSize\",\"text\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon1edd4f2220a0826c2b02a2e30e50a6a4&quot;,&quot;initialValue&quot;:&quot;20&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonb4943f779051e19fd7fcef7c526311d6&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab1433214234-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon9dcfce3c927c8ccb2a990e9d22ceecde&quot;,&quot;dataInit&quot;:[{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:7,&quot;text&quot;:&quot;article&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:59,&quot;text&quot;:&quot;particulières avec le royaumeuni de grandebretagne et dirla&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:1,&quot;text&quot;:&quot;d&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:17,&quot;text&quot;:&quot;les tribunaux spé&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:33,&quot;text&quot;:&quot;droit à la liberté et à la sûreté&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:22,&quot;text&quot;:&quot;de commissie stelt ied&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:88,&quot;text&quot;:&quot;raadpleging van het economisch en sociaal comité en het comité van de regios vastgesteld&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:25,&quot;text&quot;:&quot;overwegende dat in dit pr&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:10,&quot;text&quot;:&quot;dallunione&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:26,&quot;text&quot;:&quot;ne disciplinano lesercizio&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:45,&quot;text&quot;:&quot;deficit means net borrowing as defined in the&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:55,&quot;text&quot;:&quot;procedure it shall also act unanimously on a proposal f&quot;},{&quot;language&quot;:&quot;en&quot;,&quot;textSize&quot;:41,&quot;text&quot;:&quot;b together with their spouses and depende&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:57,&quot;text&quot;:&quot;die agentur erhebt die daten bei inhabern einer zulassung&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:38,&quot;text&quot;:&quot;de  amtsblatt der europäischen union c&quot;},{&quot;language&quot;:&quot;de&quot;,&quot;textSize&quot;:6,&quot;text&quot;:&quot;irland&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:3,&quot;text&quot;:&quot;art&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:19,&quot;text&quot;:&quot;las medidas de apli&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:14,&quot;text&quot;:&quot;la unión ofrec&quot;},{&quot;language&quot;:&quot;es&quot;,&quot;textSize&quot;:55,&quot;text&quot;:&quot;la política común de seguridad y defensa forma parte in&quot;}],&quot;genId&quot;:&quot;1335841615&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon3845ed1d9530d122b9ad263da62bbd20&quot;,&quot;initialValue&quot;:&quot;20&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon6ee7ecee637a68e0a80d495e63a16283&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
          },
          "output_type" : "execute_result",
          "execution_count" : 35,
          "time" : "Took: 0.907s, at 2017-09-26 16:26"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "F4DE2804778E43B2B9899F846016ACF0"
      },
      "cell_type" : "code",
      "source" : [
        "val ngramClassifier = new NgramLanguageClassifier(\"meetup-3\", ngramModelPerLanguage).setInputCol(\"text\").setOutputCol(\"lang_classification\")"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "ngramClassifier: NgramLanguageClassifier = meetup-3\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 36,
          "time" : "Took: 0.497s, at 2017-09-26 16:26"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "0F59DB11C7B8428D8297AD7AE190FCE4"
      },
      "cell_type" : "code",
      "source" : [
        "val testNgrams = ngramClassifier.transform(testDataset)"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "testNgrams: org.apache.spark.sql.DataFrame = [language: string, textSize: int ... 2 more fields]\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 37,
          "time" : "Took: 0.605s, at 2017-09-26 16:26"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "presentation" : {
          "tabs_state" : "{\n  \"tab_id\": \"#tab458666012-0\"\n}",
          "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
        },
        "id" : "E6AAE908164748DAAC31E3FFE4664F82"
      },
      "cell_type" : "code",
      "source" : [
        "testNgrams.sample(withReplacement = false, fraction = 0.0007).take(20)"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "res52: Array[org.apache.spark.sql.Row] = Array([fr,17,portant sur le la,fr], [fr,26,examen de la mise en œuvre,fr], [fr,23,un renouvellement parti,fr], [fr,33,péenne sapplique mutatis mutandis,fr], [fr,10,extérieure,fr], [fr,28,protocole n o  sur le marché,fr], [fr,5,artic,en], [nl,79,de gemeenschap brengt met de organisatie voor economische samenwerking en ontwi,nl], [nl,2,ra,it], [nl,86,totstandkoming van een ruimte zonder binnengrenzen voortvloeien draagt de unie bij tot,nl], [nl,20,van de nauwere samen,nl], [nl,58,op de wijze als bepaald in datzelfde artikel kan ook het c,nl], [nl,1,a,es], [nl,32,de aanpassing van de wetgevingen,nl], [nl,31,de europese centrale bank kan a,en], [nl,16,oud artikel  veg,nl], [nl,59,zijn en ten doel hebben in hun begrotingsmiddelen te voorzi,nl], [nl,10..."
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : "<div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon48fa6c2d90e04985a21064a45aaf2875&quot;,&quot;dataInit&quot;:[],&quot;genId&quot;:&quot;458666012&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tabs'], \n      function(playground, _magictabs) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictabs,\n    \"o\": {}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <div>\n        <ul class=\"nav nav-tabs\" id=\"ul458666012\"><li>\n              <a href=\"#tab458666012-0\"><i class=\"fa fa-table\"/></a>\n            </li><li>\n              <a href=\"#tab458666012-1\"><i class=\"fa fa-cubes\"/></a>\n            </li></ul>\n\n        <div class=\"tab-content\" id=\"tab458666012\"><div class=\"tab-pane\" id=\"tab458666012-0\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anon6cbe42aba8abba44a79c98308d22a6b0&quot;,&quot;dataInit&quot;:[{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:17,&quot;text&quot;:&quot;portant sur le la&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:26,&quot;text&quot;:&quot;examen de la mise en œuvre&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:23,&quot;text&quot;:&quot;un renouvellement parti&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:33,&quot;text&quot;:&quot;péenne sapplique mutatis mutandis&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:10,&quot;text&quot;:&quot;extérieure&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:28,&quot;text&quot;:&quot;protocole n o  sur le marché&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:5,&quot;text&quot;:&quot;artic&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:79,&quot;text&quot;:&quot;de gemeenschap brengt met de organisatie voor economische samenwerking en ontwi&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:2,&quot;text&quot;:&quot;ra&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:86,&quot;text&quot;:&quot;totstandkoming van een ruimte zonder binnengrenzen voortvloeien draagt de unie bij tot&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:20,&quot;text&quot;:&quot;van de nauwere samen&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:58,&quot;text&quot;:&quot;op de wijze als bepaald in datzelfde artikel kan ook het c&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:1,&quot;text&quot;:&quot;a&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:32,&quot;text&quot;:&quot;de aanpassing van de wetgevingen&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:31,&quot;text&quot;:&quot;de europese centrale bank kan a&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:16,&quot;text&quot;:&quot;oud artikel  veg&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:59,&quot;text&quot;:&quot;zijn en ten doel hebben in hun begrotingsmiddelen te voorzi&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:10,&quot;text&quot;:&quot;nodig zijn&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:87,&quot;text&quot;:&quot;kapitaal indien de stand van de verplichtingen van de bank zulks rechtvaardigt kan de r&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:61,&quot;text&quot;:&quot;norme costituzionali gli strumenti di ratifica saranno deposi&quot;,&quot;lang_classification&quot;:&quot;it&quot;}],&quot;genId&quot;:&quot;473778404&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/tableChart'], \n      function(playground, _magictableChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magictableChart,\n    \"o\": {\"headers\":[\"language\",\"textSize\",\"text\",\"lang_classification\"],\"width\":600,\"height\":400}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon655ca18124f4bddbaa94dabb6eb31a5b&quot;,&quot;initialValue&quot;:&quot;20&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anonbc7cd1adf5c42b40c465841648044569&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div><div class=\"tab-pane\" id=\"tab458666012-1\">\n            <div>\n      <script data-this=\"{&quot;dataId&quot;:&quot;anond194634471a008eeb635fc54de75b4f1&quot;,&quot;dataInit&quot;:[{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:17,&quot;text&quot;:&quot;portant sur le la&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:26,&quot;text&quot;:&quot;examen de la mise en œuvre&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:23,&quot;text&quot;:&quot;un renouvellement parti&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:33,&quot;text&quot;:&quot;péenne sapplique mutatis mutandis&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:10,&quot;text&quot;:&quot;extérieure&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:28,&quot;text&quot;:&quot;protocole n o  sur le marché&quot;,&quot;lang_classification&quot;:&quot;fr&quot;},{&quot;language&quot;:&quot;fr&quot;,&quot;textSize&quot;:5,&quot;text&quot;:&quot;artic&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:79,&quot;text&quot;:&quot;de gemeenschap brengt met de organisatie voor economische samenwerking en ontwi&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:2,&quot;text&quot;:&quot;ra&quot;,&quot;lang_classification&quot;:&quot;it&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:86,&quot;text&quot;:&quot;totstandkoming van een ruimte zonder binnengrenzen voortvloeien draagt de unie bij tot&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:20,&quot;text&quot;:&quot;van de nauwere samen&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:58,&quot;text&quot;:&quot;op de wijze als bepaald in datzelfde artikel kan ook het c&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:1,&quot;text&quot;:&quot;a&quot;,&quot;lang_classification&quot;:&quot;es&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:32,&quot;text&quot;:&quot;de aanpassing van de wetgevingen&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:31,&quot;text&quot;:&quot;de europese centrale bank kan a&quot;,&quot;lang_classification&quot;:&quot;en&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:16,&quot;text&quot;:&quot;oud artikel  veg&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:59,&quot;text&quot;:&quot;zijn en ten doel hebben in hun begrotingsmiddelen te voorzi&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:10,&quot;text&quot;:&quot;nodig zijn&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;nl&quot;,&quot;textSize&quot;:87,&quot;text&quot;:&quot;kapitaal indien de stand van de verplichtingen van de bank zulks rechtvaardigt kan de r&quot;,&quot;lang_classification&quot;:&quot;nl&quot;},{&quot;language&quot;:&quot;it&quot;,&quot;textSize&quot;:61,&quot;text&quot;:&quot;norme costituzionali gli strumenti di ratifica saranno deposi&quot;,&quot;lang_classification&quot;:&quot;it&quot;}],&quot;genId&quot;:&quot;792686407&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/req(['../javascripts/notebook/playground','../javascripts/notebook/magic/pivotChart'], \n      function(playground, _magicpivotChart) {\n        // data ==> data-this (in observable.js's scopedEval) ==> this in JS => { dataId, dataInit, ... }\n        // this ==> scope (in observable.js's scopedEval) ==> this.parentElement ==> div.container below (toHtml)\n\n        playground.call(data,\n                        this\n                        ,\n                        {\n    \"f\": _magicpivotChart,\n    \"o\": {\"width\":600,\"height\":400,\"derivedAttributes\":{},\"extraOptions\":{}}\n  }\n  \n                        \n                        \n                      );\n      }\n    );/*]]>*/</script>\n    <div>\n      <span class=\"chart-total-item-count\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon7aef6bdf540e1a37b9e4068d2589b958&quot;,&quot;initialValue&quot;:&quot;20&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p> entries total</span>\n      <span class=\"chart-sampling-warning\"><p data-bind=\"text: value\"><script data-this=\"{&quot;valueId&quot;:&quot;anon967c36c0329a0d3e57f9cfce7d2f1c0c&quot;,&quot;initialValue&quot;:&quot;&quot;}\" type=\"text/x-scoped-javascript\">/*<![CDATA[*/\nreq(\n['observable', 'knockout'],\nfunction (O, ko) {\n  ko.applyBindings({\n      value: O.makeObservable(valueId, initialValue)\n    },\n    this\n  );\n});\n        /*]]>*/</script></p></span>\n      <div>\n      </div>\n    </div></div>\n            </div></div>\n      </div>\n    </div></div>"
          },
          "output_type" : "execute_result",
          "execution_count" : 38,
          "time" : "Took: 1.042s, at 2017-09-26 16:26"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : true,
        "id" : "413F0F9AC72E42B78B87FE6043F9ABA9"
      },
      "cell_type" : "markdown",
      "source" : "## How does it perform?"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "D006282402E54FB59381D67F01A7CD08"
      },
      "cell_type" : "code",
      "source" : [
        "val hitCol = when($\"language\" === $\"lang_classification\", 1L).otherwise(0L)\n",
        "val hits = testNgrams.withColumn(\"hit\", hitCol).withColumn(\"counter\", lit(1))"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "hitCol: org.apache.spark.sql.Column = CASE WHEN (language = lang_classification) THEN 1 ELSE 0 END\nhits: org.apache.spark.sql.DataFrame = [language: string, textSize: int ... 4 more fields]\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 39,
          "time" : "Took: 0.888s, at 2017-09-26 16:27"
        }
      ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "168D5C3C6948474E80A19B2A947BB85B"
      },
      "cell_type" : "code",
      "source" : [
        "val hitRatio = hits.select(sum($\"hit\")/sum($\"counter\")).head.getDouble(0)"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "hitRatio: Double = 0.8512584629696626\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 40,
          "time" : "Took: 5.239s, at 2017-09-26 16:27"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "463C11C1AD3F4C74BE6A5FFFBDCA249B"
      },
      "cell_type" : "markdown",
      "source" : "### How is the performance in relation to text length"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "47338F59E76F49428888360854472B25"
      },
      "cell_type" : "code",
      "source" : [
        "val hitRatioPerLength = hits.groupBy($\"textSize\").agg(sum($\"hit\")/sum($\"counter\")).orderBy($\"textSize\")"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "hitRatioPerLength: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [textSize: int, (sum(hit) / sum(counter)): double]\n"
        },
        {
          "metadata" : { },
          "data" : {
            "text/html" : ""
          },
          "output_type" : "execute_result",
          "execution_count" : 43,
          "time" : "Took: 0.535s, at 2017-09-26 16:27"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "09EF9C2537244E83855D2C095462708B"
      },
      "cell_type" : "markdown",
      "source" : "##Model accuracy vs sentence length"
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "id" : "90090B0ECCAB4E388298E2A2FBC52ECF"
      },
      "cell_type" : "code",
      "source" : [
        "val ds = hitRatioPerLength.as[(Long, Double)]"
      ],
      "outputs" : [ ]
    },
    {
      "metadata" : {
        "trusted" : true,
        "input_collapsed" : false,
        "collapsed" : false,
        "presentation" : {
          "tabs_state" : "{\n  \"tab_id\": \"#tab1637337225-0\"\n}",
          "pivot_chart_state" : "{\n  \"hiddenAttributes\": [],\n  \"menuLimit\": 200,\n  \"cols\": [],\n  \"rows\": [],\n  \"vals\": [],\n  \"exclusions\": {},\n  \"inclusions\": {},\n  \"unusedAttrsVertical\": 85,\n  \"autoSortUnusedAttrs\": false,\n  \"inclusionsInfo\": {},\n  \"aggregatorName\": \"Count\",\n  \"rendererName\": \"Table\"\n}"
        },
        "id" : "B9ECD6CE59134F7CBB3CF9BD448ADEC0"
      },
      "cell_type" : "code",
      "source" : [
        "ds.collect"
      ],
      "outputs" : [
        {
          "name" : "stdout",
          "output_type" : "stream",
          "text" : "<console>:75: error: not found: value ds\n       ds.collect\n       ^\n"
        }
      ]
    },
    {
      "metadata" : {
        "id" : "495B406E742349B88B647F75398578AC"
      },
      "cell_type" : "markdown",
      "source" : "#((-.-))"
    }
  ],
  "nbformat" : 4
}